(()=>{"use strict";var e={n:a=>{var t=a&&a.__esModule?()=>a.default:()=>a;return e.d(t,{a:t}),t},d:(a,t)=>{for(var s in t)e.o(t,s)&&!e.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:t[s]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};const a=window.React,t=window.wp.plugins,s=window.wp.editPost,n=window.wp.data,l=window.wp.element,o=window.wp.apiFetch;var r=e.n(o);const i=window.wp.components,c=({title:e,description:t,url:s})=>{const n=e.length>60?e.substring(0,57)+"...":e,l=t.length>160?t.substring(0,157)+"...":t||"No description provided. Add a meta description to control what appears here.";return(0,a.createElement)("div",{className:"saman-seo-search-preview"},(0,a.createElement)("div",{className:"saman-seo-search-preview__breadcrumb"},(0,a.createElement)("div",{className:"saman-seo-search-preview__favicon"},(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},(0,a.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,a.createElement)("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,a.createElement)("div",{className:"saman-seo-search-preview__url-container"},(0,a.createElement)("span",{className:"saman-seo-search-preview__site-name"},(()=>{try{return new URL(s).hostname.replace("www.","")}catch{return"example.com"}})()),(0,a.createElement)("span",{className:"saman-seo-search-preview__url"},(e=>{try{const a=new URL(e),t="/"===a.pathname?"":a.pathname;return`${a.hostname}${t}`}catch{return e}})(s))),(0,a.createElement)("button",{type:"button",className:"saman-seo-search-preview__menu","aria-label":"More options"},(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},(0,a.createElement)("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),(0,a.createElement)("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"}),(0,a.createElement)("circle",{cx:"12",cy:"19",r:"1.5",fill:"currentColor"})))),(0,a.createElement)("h3",{className:"saman-seo-search-preview__title"},n||"Page Title"),(0,a.createElement)("p",{className:"saman-seo-search-preview__description"},l))},m={excellent:"#00a32a",good:"#00a32a",fair:"#dba617",poor:"#d63638"},d=({score:e=0,level:t="poor"})=>{const s=m[t]||m.poor,n=2*Math.PI*20,l=n-e/100*n;return(0,a.createElement)("div",{className:"saman-seo-gauge"},(0,a.createElement)("svg",{viewBox:"0 0 48 48",className:"saman-seo-gauge__svg"},(0,a.createElement)("circle",{className:"saman-seo-gauge__bg",cx:"24",cy:"24",r:"20",fill:"none",strokeWidth:"4"}),(0,a.createElement)("circle",{className:"saman-seo-gauge__progress",cx:"24",cy:"24",r:"20",fill:"none",strokeWidth:"4",strokeDasharray:n,strokeDashoffset:l,strokeLinecap:"round",style:{stroke:s}})),(0,a.createElement)("div",{className:"saman-seo-gauge__value",style:{color:s}},e))},p=({variables:e={},onSelect:t,context:s="post",buttonLabel:n="Variables",disabled:o=!1,compact:r=!1,isOpen:i,onToggle:c,onClose:m})=>{const[d,p]=(0,l.useState)(!1),[u,h]=(0,l.useState)(""),E=(0,l.useRef)(null),v=void 0!==i?i:d,g=e=>{void 0!==i?e?c?.():m?.():p(e)};(0,l.useEffect)(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&g(!1)};return v&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[v,i]);const _=e=>{t&&t(`{{${e.tag}}}`),g(!1),h("")},b=()=>{void 0!==i?c?.():p(!d)},y=v?(()=>{const a={},t={global:["global"],post:["global","post"],taxonomy:["global","taxonomy"],archive:["global","archive","author"],author:["global","author"],date:["global","archive"],search:["global"],404:["global"]}[s]||["global","post"];return Object.entries(e).forEach(([e,s])=>{if(!t.includes(e))return;const n=(s.vars||[]).filter(e=>{if(!u)return!0;const a=u.toLowerCase();return e.tag.toLowerCase().includes(a)||e.label.toLowerCase().includes(a)||e.desc&&e.desc.toLowerCase().includes(a)});n.length>0&&(a[e]={...s,vars:n})}),a})():{};return r?(0,a.createElement)("div",{className:"saman-seo-variable-picker saman-seo-variable-picker--compact",ref:E},(0,a.createElement)("button",{type:"button",className:"saman-seo-template-input__action-btn saman-seo-template-input__action-btn--vars",onClick:b,disabled:o,title:"Insert variable"},(0,a.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,a.createElement)("path",{d:"M4 7h3a1 1 0 0 0 1-1V3"}),(0,a.createElement)("path",{d:"M20 7h-3a1 1 0 0 1-1-1V3"}),(0,a.createElement)("path",{d:"M4 17h3a1 1 0 0 1 1 1v3"}),(0,a.createElement)("path",{d:"M20 17h-3a1 1 0 0 0-1 1v3"}),(0,a.createElement)("path",{d:"M9 12h6"}),(0,a.createElement)("path",{d:"M12 9v6"}))),v&&(0,a.createElement)("div",{className:"saman-seo-variable-picker__dropdown"},(0,a.createElement)("div",{className:"saman-seo-variable-picker__search"},(0,a.createElement)("input",{type:"text",placeholder:"Search variables...",value:u,onChange:e=>h(e.target.value),autoFocus:!0})),(0,a.createElement)("div",{className:"saman-seo-variable-picker__groups"},Object.entries(y).map(([e,t])=>(0,a.createElement)("div",{key:e,className:"saman-seo-variable-picker__group"},(0,a.createElement)("div",{className:`saman-seo-variable-picker__group-label saman-seo-variable-picker__group-label--${e}`},t.label),(0,a.createElement)("div",{className:"saman-seo-variable-picker__items"},t.vars.map(t=>(0,a.createElement)("button",{key:t.tag,type:"button",className:"saman-seo-variable-picker__item",onClick:()=>_(t)},(0,a.createElement)("div",{className:"saman-seo-variable-picker__item-header"},(0,a.createElement)("code",{className:`saman-seo-variable-picker__tag saman-seo-variable-picker__tag--${e}`},t.tag),(0,a.createElement)("span",{className:"saman-seo-variable-picker__label"},t.label)),t.preview&&(0,a.createElement)("div",{className:"saman-seo-variable-picker__preview"},t.preview)))))),0===Object.keys(y).length&&(0,a.createElement)("div",{className:"saman-seo-variable-picker__empty"},"No variables found")))):(0,a.createElement)("div",{className:"saman-seo-variable-picker",ref:E},(0,a.createElement)("button",{type:"button",className:"saman-seo-variable-picker__trigger",onClick:b,disabled:o,title:"Insert variable"},(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16"},(0,a.createElement)("path",{fillRule:"evenodd",d:"M4.5 2A2.5 2.5 0 002 4.5v3.879a2.5 2.5 0 00.732 1.767l7.5 7.5a2.5 2.5 0 003.536 0l3.878-3.878a2.5 2.5 0 000-3.536l-7.5-7.5A2.5 2.5 0 008.38 2H4.5zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),(0,a.createElement)("span",null,n)),v&&(0,a.createElement)("div",{className:"saman-seo-variable-picker__dropdown"},(0,a.createElement)("div",{className:"saman-seo-variable-picker__search"},(0,a.createElement)("input",{type:"text",placeholder:"Search variables...",value:u,onChange:e=>h(e.target.value),autoFocus:!0})),(0,a.createElement)("div",{className:"saman-seo-variable-picker__groups"},Object.entries(y).map(([e,t])=>(0,a.createElement)("div",{key:e,className:"saman-seo-variable-picker__group"},(0,a.createElement)("div",{className:`saman-seo-variable-picker__group-label saman-seo-variable-picker__group-label--${e}`},t.label),(0,a.createElement)("div",{className:"saman-seo-variable-picker__items"},t.vars.map(t=>(0,a.createElement)("button",{key:t.tag,type:"button",className:"saman-seo-variable-picker__item",onClick:()=>_(t)},(0,a.createElement)("div",{className:"saman-seo-variable-picker__item-header"},(0,a.createElement)("code",{className:`saman-seo-variable-picker__tag saman-seo-variable-picker__tag--${e}`},t.tag),(0,a.createElement)("span",{className:"saman-seo-variable-picker__label"},t.label)),t.preview&&(0,a.createElement)("div",{className:"saman-seo-variable-picker__preview"},t.preview)))))),0===Object.keys(y).length&&(0,a.createElement)("div",{className:"saman-seo-variable-picker__empty"},"No variables found"))))},u={site_title:"global",tagline:"global",site_url:"global",separator:"separator",current_year:"global",current_month:"global",current_day:"global",post_title:"post",post_excerpt:"post",post_date:"post",post_modified:"post",post_author:"post",post_id:"post",post_content:"post",term_title:"taxonomy",term_description:"taxonomy",term_count:"taxonomy",author_name:"author",author_bio:"author",archive_title:"archive",search_query:"archive",page_number:"archive"},h=e=>{const a=e.indexOf("|");return a>-1?e.substring(0,a).trim():e.trim()},E=e=>{const a=h(e);return u[a]||"global"},v=({value:e="",onChange:t,placeholder:s="",variables:n={},variableValues:o={},context:r="post",multiline:i=!1,maxLength:c=null,label:m="",helpText:d="",id:u,disabled:v=!1,onAiClick:g=null,showAiButton:_=!0,aiEnabled:b=!0})=>{const y=(0,l.useRef)(null),k=(0,l.useRef)(null),[N,f]=(0,l.useState)(!1),[w,x]=(0,l.useState)(!1),[C,S]=(0,l.useState)(null);(0,l.useEffect)(()=>{const e=y.current,a=k.current;if(!e||!a)return;const t=()=>{a.scrollTop=e.scrollTop,a.scrollLeft=e.scrollLeft};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]);const M=(0,l.useMemo)(()=>{if(!e)return[];const a=[];let t=0;const s=/\{\{([^}]+)\}\}/g;let n;for(;null!==(n=s.exec(e));){n.index>t&&a.push({type:"text",content:e.slice(t,n.index)});const l=n[1].trim(),r=h(l),i=E(r),c=o[r]||o[`{{${r}}}`];a.push({type:"variable",fullTag:l,baseTag:r,raw:n[0],preview:c||r,varType:i}),t=s.lastIndex}return t<e.length&&a.push({type:"text",content:e.slice(t)}),a},[e,o]),P=e.length,L=c&&P>c,A=i?"textarea":"input";return(0,a.createElement)("div",{className:`saman-seo-template-input ${N?"is-focused":""} ${v?"is-disabled":""}`},m&&(0,a.createElement)("div",{className:"saman-seo-template-input__header"},(0,a.createElement)("label",{className:"saman-seo-template-input__label",htmlFor:u},m),c&&(0,a.createElement)("span",{className:"saman-seo-template-input__counter "+(L?"over-limit":P>0?"has-value":"")},P,"/",c)),(0,a.createElement)("div",{className:"saman-seo-template-input__container"},(0,a.createElement)("div",{ref:k,className:"saman-seo-template-input__highlight "+(i?"multiline":""),"aria-hidden":"true"},M.map((e,t)=>"variable"===e.type?(0,a.createElement)("span",{key:t,className:`saman-seo-template-input__var saman-seo-template-input__var--${e.varType}`,onMouseEnter:()=>S({...e,index:t}),onMouseLeave:()=>S(null)},(0,a.createElement)("span",{className:"saman-seo-template-input__bracket"},"{"),(0,a.createElement)("span",{className:"saman-seo-template-input__bracket"},"{"),(0,a.createElement)("span",{className:"saman-seo-template-input__tag"},e.fullTag),(0,a.createElement)("span",{className:"saman-seo-template-input__bracket"},"}"),(0,a.createElement)("span",{className:"saman-seo-template-input__bracket"},"}"),C?.index===t&&e.preview&&(0,a.createElement)("span",{className:"saman-seo-template-input__tooltip"},e.preview)):(0,a.createElement)("span",{key:t},e.content)),!e&&(0,a.createElement)("span",{className:"saman-seo-template-input__placeholder"},s)),(0,a.createElement)(A,{ref:y,id:u,type:i?void 0:"text",className:"saman-seo-template-input__field "+(i?"multiline":""),value:e,onChange:e=>t(e.target.value),onFocus:()=>f(!0),onBlur:()=>f(!1),placeholder:"",disabled:v,rows:i?3:void 0}),(0,a.createElement)("div",{className:"saman-seo-template-input__actions"},_&&(0,a.createElement)("button",{type:"button",className:"saman-seo-template-input__action-btn saman-seo-template-input__action-btn--ai "+(b?"":"is-disabled"),onClick:()=>{b&&g?g():b||window.confirm("AI features require WP AI Pilot to be configured.\n\nWould you like to open the AI settings now?")&&window.open("admin.php?page=wp-ai-pilot","_blank")},disabled:v,title:"Generate with AI"},(0,a.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,a.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,a.createElement)("circle",{cx:"12",cy:"12",r:"4"}))),(0,a.createElement)(p,{variables:n,context:r,onSelect:a=>{const s=y.current;if(!s)return void t(e+a);const n=s.selectionStart,l=s.selectionEnd,o=e.slice(0,n)+a+e.slice(l);t(o),x(!1),requestAnimationFrame(()=>{const e=n+a.length;s.setSelectionRange(e,e),s.focus()})},disabled:v,isOpen:w,onToggle:()=>x(!w),onClose:()=>x(!1),compact:!0}))),d&&(0,a.createElement)("div",{className:"saman-seo-template-input__footer"},(0,a.createElement)("span",{className:"saman-seo-template-input__help"},d)))},g=({isOpen:e,onClose:t,onGenerate:s,fieldType:n="title",currentValue:o="",variableValues:i={},context:c={},postTitle:m="",postContent:d="",aiProvider:p="none",aiPilot:u=null})=>{const[h,E]=(0,l.useState)(!1),[v,g]=(0,l.useState)(null),[_,b]=(0,l.useState)(!0),[y,k]=(0,l.useState)(""),[N,f]=(0,l.useState)(null),w=(0,l.useCallback)(()=>{if(!_)return"";const e=[];m&&e.push(`Post title: ${m}`),c.type&&e.push(`Content type: ${c.type}`);const a=Object.entries(i).filter(([e,a])=>a&&"string"==typeof a).map(([e,a])=>`${e.replace(/_/g," ")}: ${a}`);if(a.length>0&&e.push(...a),d){const a=d.replace(/<[^>]*>/g,"").substring(0,500);a&&e.push(`Content preview: ${a}...`)}return e.join("\n")},[_,i,c,m,d]),x=async()=>{E(!0),g(null),f(null);try{let e="";e=y?y+"\n\n"+w():w()||"Generate SEO metadata for a website.",e+="title"===n?"\n\nGenerate an SEO-optimized title (max 60 characters).":"\n\nGenerate an SEO-optimized meta description (max 155 characters).";const a=await r()({path:"/saman-seo/v1/ai/generate",method:"POST",data:{content:e,type:n}});if(a.success&&a.data){const e="title"===n?a.data.title:a.data.description;f(e)}else g(a.message||"Failed to generate content")}catch(e){g(e.message||"An error occurred during generation")}finally{E(!1)}},C=()=>{f(null),g(null),k(""),t()};return e?"none"===p?(0,a.createElement)("div",{className:"saman-seo-ai-modal-overlay",onClick:C},(0,a.createElement)("div",{className:"saman-seo-ai-modal saman-seo-ai-modal--notice",onClick:e=>e.stopPropagation()},(0,a.createElement)("div",{className:"saman-seo-ai-modal__header"},(0,a.createElement)("h3",null,(0,a.createElement)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.createElement)("path",{d:"M12 8v4m0 4h.01"})),"AI Not Configured"),(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__close",onClick:C,"aria-label":"Close"},(0,a.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M18 6L6 18M6 6l12 12"})))),(0,a.createElement)("div",{className:"saman-seo-ai-modal__body"},u?.installed?(0,a.createElement)("div",{className:"saman-seo-ai-notice saman-seo-ai-notice--warning"},(0,a.createElement)("div",{className:"saman-seo-ai-notice__icon"},(0,a.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,a.createElement)("div",{className:"saman-seo-ai-notice__content"},(0,a.createElement)("h4",null,"WP AI Pilot Needs Configuration"),(0,a.createElement)("p",null,"WP AI Pilot is installed but not yet configured. Add an API key to enable AI-powered SEO suggestions."))):(0,a.createElement)("div",{className:"saman-seo-ai-notice saman-seo-ai-notice--info"},(0,a.createElement)("div",{className:"saman-seo-ai-notice__icon"},(0,a.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,a.createElement)("div",{className:"saman-seo-ai-notice__content"},(0,a.createElement)("h4",null,"Enhance with WP AI Pilot"),(0,a.createElement)("p",null,"Install WP AI Pilot to unlock AI-powered title and meta description generation.")))),(0,a.createElement)("div",{className:"saman-seo-ai-modal__footer"},(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__btn saman-seo-ai-modal__btn--secondary",onClick:C},"Cancel"),u?.installed?(0,a.createElement)("a",{href:u.settingsUrl,className:"saman-seo-ai-modal__btn saman-seo-ai-modal__btn--primary"},"Configure WP AI Pilot"):(0,a.createElement)("a",{href:"/wp-admin/plugin-install.php?s=wp+ai+pilot&tab=search",className:"saman-seo-ai-modal__btn saman-seo-ai-modal__btn--primary"},"Install WP AI Pilot")))):(0,a.createElement)("div",{className:"saman-seo-ai-modal-overlay",onClick:C},(0,a.createElement)("div",{className:"saman-seo-ai-modal",onClick:e=>e.stopPropagation()},(0,a.createElement)("div",{className:"saman-seo-ai-modal__header"},(0,a.createElement)("h3",null,(0,a.createElement)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,a.createElement)("circle",{cx:"12",cy:"12",r:"4"})),"Generate ","title"===n?"Title":"Description"),"wp-ai-pilot"===p&&(0,a.createElement)("span",{className:"saman-seo-ai-badge"},(0,a.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})),"WP AI Pilot"),(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__close",onClick:C,"aria-label":"Close"},(0,a.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M18 6L6 18M6 6l12 12"})))),(0,a.createElement)("div",{className:"saman-seo-ai-modal__body"},(0,a.createElement)("div",{className:"saman-seo-ai-modal__option"},(0,a.createElement)("label",{className:"saman-seo-ai-modal__checkbox"},(0,a.createElement)("input",{type:"checkbox",checked:_,onChange:e=>b(e.target.checked)}),(0,a.createElement)("span",{className:"saman-seo-ai-modal__checkbox-label"},"Include post content as context"))),_&&m&&(0,a.createElement)("div",{className:"saman-seo-ai-modal__context-preview"},(0,a.createElement)("div",{className:"saman-seo-ai-modal__context-item"},(0,a.createElement)("span",{className:"saman-seo-ai-modal__context-key"},"Post:"),(0,a.createElement)("span",{className:"saman-seo-ai-modal__context-value"},m))),(0,a.createElement)("div",{className:"saman-seo-ai-modal__field"},(0,a.createElement)("label",{htmlFor:"ai-custom-prompt"},"Custom instructions (optional)"),(0,a.createElement)("textarea",{id:"ai-custom-prompt",value:y,onChange:e=>k(e.target.value),placeholder:`e.g., "Focus on ${"title"===n?"including keywords":"highlighting benefits"}"`,rows:2})),v&&(0,a.createElement)("div",{className:"saman-seo-ai-modal__error"},(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.createElement)("path",{d:"M12 8v4m0 4h.01"})),v),N&&(0,a.createElement)("div",{className:"saman-seo-ai-modal__result"},(0,a.createElement)("label",null,"Generated ","title"===n?"title":"description",":"),(0,a.createElement)("div",{className:"saman-seo-ai-modal__result-box"},(0,a.createElement)("p",null,N),(0,a.createElement)("span",{className:"saman-seo-ai-modal__char-count"},N.length," characters")))),(0,a.createElement)("div",{className:"saman-seo-ai-modal__footer"},(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__btn saman-seo-ai-modal__btn--secondary",onClick:C},"Cancel"),N?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__btn",onClick:x,disabled:h},"Regenerate"),(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__btn saman-seo-ai-modal__btn--primary",onClick:()=>{N&&(s(N),C())}},"Apply")):(0,a.createElement)("button",{type:"button",className:"saman-seo-ai-modal__btn saman-seo-ai-modal__btn--primary",onClick:x,disabled:h},h?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{className:"saman-seo-ai-modal__spinner"}),"Generating..."):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,a.createElement)("circle",{cx:"12",cy:"12",r:"4"})),"Generate"))))):null},_=({metric:e})=>{const t=e.max>0?e.score/e.max*100:0,s=e.is_pass?"pass":e.score>0?"partial":"fail";return(0,a.createElement)("li",{className:`saman-seo-metric-item saman-seo-metric-item--${s}`},(0,a.createElement)("div",{className:"saman-seo-metric-item__header"},(0,a.createElement)("span",{className:`saman-seo-metric-item__indicator saman-seo-metric-item__indicator--${s}`}),(0,a.createElement)("span",{className:"saman-seo-metric-item__label"},e.label),(0,a.createElement)("span",{className:"saman-seo-metric-item__score"},e.score,"/",e.max)),(0,a.createElement)("div",{className:"saman-seo-metric-item__status"},e.status),(0,a.createElement)("div",{className:"saman-seo-metric-item__bar"},(0,a.createElement)("div",{className:`saman-seo-metric-item__fill saman-seo-metric-item__fill--${s}`,style:{width:`${t}%`}})))},b=({metrics:e,metricsByCategory:t,hasKeyphrase:s})=>{const n=[{key:"basic",icon:"ðŸ“Š",color:"#2271b1",label:"Basic SEO"},{key:"keyword",icon:"ðŸ”‘",color:"#7c3aed",label:"Keywords"},{key:"structure",icon:"ðŸ“",color:"#059669",label:"Structure"},{key:"links",icon:"ðŸ”—",color:"#ea580c",label:"Links & Media"}],l=s?n:n.filter(e=>"keyword"!==e.key);return(0,a.createElement)("div",{className:"saman-seo-metrics-breakdown"},l.map(e=>{const s=t?.[e.key];if(!s||0===s.items.length)return null;const n=(e=>{if(!e||0===e.length)return 0;const a=e.reduce((e,a)=>e+(a.score||0),0),t=e.reduce((e,a)=>e+(a.max||0),0);return t>0?Math.round(a/t*100):0})(s.items),l=n>=80?"good":n>=50?"fair":"poor";return(0,a.createElement)("div",{key:e.key,className:"saman-seo-metric-group"},(0,a.createElement)("div",{className:"saman-seo-metric-group__header",style:{borderLeftColor:e.color}},(0,a.createElement)("span",{className:"saman-seo-metric-group__icon"},e.icon),(0,a.createElement)("span",{className:"saman-seo-metric-group__label"},s.label||e.label),(0,a.createElement)("span",{className:`saman-seo-metric-group__score saman-seo-metric-group__score--${l}`},(o=s.items)&&0!==o.length?`${o.reduce((e,a)=>e+(a.score||0),0)}/${o.reduce((e,a)=>e+(a.max||0),0)}`:"0/0")),(0,a.createElement)("ul",{className:"saman-seo-metric-list"},s.items.map(e=>(0,a.createElement)(_,{key:e.key,metric:e}))));var o}),!s&&(0,a.createElement)("div",{className:"saman-seo-keyphrase-notice"},(0,a.createElement)("span",{className:"saman-seo-keyphrase-notice__icon"},"ðŸ’¡"),(0,a.createElement)("div",{className:"saman-seo-keyphrase-notice__content"},(0,a.createElement)("strong",null,"Add a focus keyphrase"),(0,a.createElement)("p",null,"Set a target keyword to unlock 5 additional optimization checks including keyword density and placement analysis."))))},y=[{id:"standard",name:"Standard",title:"{{post_title}} | {{site_title}}",description:"{{post_excerpt}}"},{id:"keyword",name:"Keyword Focus",title:"{{post_title}} - Guide",description:"Learn about {{post_title}}. {{post_excerpt}}"},{id:"how_to",name:"How-To",title:"How to {{post_title}}",description:"Learn how to {{post_title}} with this guide."},{id:"list",name:"List Post",title:"Best {{post_title}}",description:"Discover the best {{post_title}}. {{post_excerpt}}"}],k=({postId:e,seoMeta:t,updateMeta:s,seoScore:n,effectiveTitle:o,effectiveDescription:m,postUrl:p,postTitle:u,postContent:h,featuredImage:E,hasChanges:_,variables:k,variableValues:N,aiEnabled:f,aiProvider:w="none",aiPilot:x=null})=>{const[C,S]=(0,l.useState)("general"),[M,P]=(0,l.useState)(!1),[L,A]=(0,l.useState)({isOpen:!1,fieldType:"title",onApply:null}),[I,$]=(0,l.useState)(null),[T,B]=(0,l.useState)(!1),[W,O]=(0,l.useState)(null);(0,l.useEffect)(()=>{e&&r()({path:`/saman-seo/v1/indexnow/post-status/${e}`}).then(e=>{e.success&&$(e.data)}).catch(()=>{})},[e]);const F=(0,l.useCallback)(async()=>{if(e&&!T){B(!0),O(null);try{const a=await r()({path:`/saman-seo/v1/indexnow/submit-post/${e}`,method:"POST"});if(a.success){const a=await r()({path:`/saman-seo/v1/indexnow/post-status/${e}`});a.success&&$(a.data)}else O(a.message||"Failed to submit for indexing")}catch(e){O(e.message||"Failed to submit for indexing")}finally{B(!1)}}},[e,T]),R=(0,l.useCallback)(e=>{s("title",e.title),s("description",e.description),P(!1)},[s]),V=((t.title||"").length,(t.description||"").length,(0,l.useCallback)((e,a)=>{A({isOpen:!0,fieldType:e,onApply:a})},[])),U=(0,l.useCallback)(()=>{A({isOpen:!1,fieldType:"title",onApply:null})},[]),j=(0,l.useCallback)(e=>{L.onApply&&e&&L.onApply(e),U()},[L,U]);return(0,a.createElement)("div",{className:"saman-seo-editor-panel"},(0,a.createElement)("div",{className:"saman-seo-score-header"},(0,a.createElement)(d,{score:n?.score||0,level:n?.level||"poor"}),(0,a.createElement)("div",{className:"saman-seo-score-info"},(0,a.createElement)("div",{className:"saman-seo-score-label"},"SEO Score"),(0,a.createElement)("div",{className:"saman-seo-score-status"},n?.issues?.length>0?`${n.issues.length} issue${1!==n.issues.length?"s":""} found`:"Looking good!"),!t.focus_keyphrase&&(0,a.createElement)("div",{className:"saman-seo-keyphrase-hint"},"Add keyphrases for full analysis"),t.focus_keyphrase&&t.secondary_keyphrases?.length>0&&(0,a.createElement)("div",{className:"saman-seo-keyphrase-hint",style:{color:"#00a32a"}},1+t.secondary_keyphrases.length," keywords tracked"))),(0,a.createElement)("div",{className:"saman-seo-tabs"},(0,a.createElement)("button",{type:"button",className:"saman-seo-tab "+("general"===C?"active":""),onClick:()=>S("general")},"General"),(0,a.createElement)("button",{type:"button",className:"saman-seo-tab "+("analysis"===C?"active":""),onClick:()=>S("analysis")},"Analysis"),(0,a.createElement)("button",{type:"button",className:"saman-seo-tab "+("advanced"===C?"active":""),onClick:()=>S("advanced")},"Advanced"),(0,a.createElement)("button",{type:"button",className:"saman-seo-tab "+("social"===C?"active":""),onClick:()=>S("social")},"Social")),"general"===C&&(0,a.createElement)("div",{className:"saman-seo-tab-content"},(0,a.createElement)("div",{className:"saman-seo-preview-section"},(0,a.createElement)("label",{className:"saman-seo-section-label"},"Search Preview"),(0,a.createElement)(c,{title:o,description:m,url:p})),(0,a.createElement)("div",{className:"saman-seo-field saman-seo-field--keyphrases"},(0,a.createElement)("div",{className:"saman-seo-field-header"},(0,a.createElement)("label",null,"Focus Keyphrases"),(0,a.createElement)("span",{className:"saman-seo-field-count"},1+(t.secondary_keyphrases?.length||0),"/5")),(0,a.createElement)("div",{className:"saman-seo-keyphrase-item saman-seo-keyphrase-primary"},(0,a.createElement)("span",{className:"saman-seo-keyphrase-badge"},"Primary"),(0,a.createElement)("input",{type:"text",className:"saman-seo-field-input",value:t.focus_keyphrase||"",onChange:e=>s("focus_keyphrase",e.target.value),placeholder:"Enter your main target keyword"})),(t.secondary_keyphrases||[]).map((e,n)=>(0,a.createElement)("div",{key:n,className:"saman-seo-keyphrase-item saman-seo-keyphrase-secondary"},(0,a.createElement)("span",{className:"saman-seo-keyphrase-badge"},"#",n+2),(0,a.createElement)("input",{type:"text",className:"saman-seo-field-input",value:e,onChange:e=>{const a=[...t.secondary_keyphrases||[]];a[n]=e.target.value,s("secondary_keyphrases",a)},placeholder:`Secondary keyword ${n+1}`}),(0,a.createElement)("button",{type:"button",className:"saman-seo-keyphrase-remove",onClick:()=>{const e=(t.secondary_keyphrases||[]).filter((e,a)=>a!==n);s("secondary_keyphrases",e)},"aria-label":"Remove keyphrase"},"Ã—"))),(t.secondary_keyphrases?.length||0)<4&&(0,a.createElement)("button",{type:"button",className:"saman-seo-keyphrase-add",onClick:()=>{const e=t.secondary_keyphrases||[];s("secondary_keyphrases",[...e,""])}},(0,a.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.createElement)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),"Add Secondary Keyphrase"),(0,a.createElement)("p",{className:"saman-seo-field-help"},"Add up to 5 keyphrases to optimize your content for multiple search terms")),(0,a.createElement)("div",{className:"saman-seo-field saman-seo-field--templates"},(0,a.createElement)("div",{className:"saman-seo-templates-header"},(0,a.createElement)("button",{type:"button",className:"saman-seo-templates-toggle "+(M?"active":""),onClick:()=>P(!M)},(0,a.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,a.createElement)("path",{d:"M7 7h10M7 12h10M7 17h6"})),"Quick Templates",(0,a.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:M?"rotate(180deg)":"none",transition:"transform 0.15s"}},(0,a.createElement)("polyline",{points:"6 9 12 15 18 9"})))),M&&(0,a.createElement)("div",{className:"saman-seo-templates-list"},y.map(e=>(0,a.createElement)("button",{key:e.id,type:"button",className:"saman-seo-template-item",onClick:()=>R(e)},(0,a.createElement)("span",{className:"saman-seo-template-name"},e.name),(0,a.createElement)("span",{className:"saman-seo-template-preview"},e.title))))),(0,a.createElement)(v,{label:"SEO Title",id:"saman-seo-seo-title",value:t.title||"",onChange:e=>s("title",e),placeholder:u||"Enter SEO title",maxLength:60,variables:k,variableValues:N,context:"post",showAiButton:!0,aiEnabled:f,onAiClick:()=>V("title",e=>s("title",e))}),(0,a.createElement)(v,{label:"Meta Description",id:"saman-seo-meta-desc",value:t.description||"",onChange:e=>s("description",e),placeholder:"Enter meta description",maxLength:160,multiline:!0,variables:k,variableValues:N,context:"post",showAiButton:!0,aiEnabled:f,onAiClick:()=>V("description",e=>s("description",e))}),n?.issues?.length>0&&(0,a.createElement)("div",{className:"saman-seo-issues"},(0,a.createElement)("label",{className:"saman-seo-section-label"},"Issues"),(0,a.createElement)("ul",{className:"saman-seo-issues-list"},n.issues.slice(0,5).map((e,t)=>(0,a.createElement)("li",{key:t,className:`saman-seo-issue saman-seo-issue--${e.severity||"warning"}`},(0,a.createElement)("span",{className:"saman-seo-issue-icon"},"high"===e.severity?"!":"?"),(0,a.createElement)("span",{className:"saman-seo-issue-text"},e.message)))),n.issues.length>5&&(0,a.createElement)("button",{type:"button",className:"saman-seo-view-all-link",onClick:()=>S("analysis")},"View all ",n.issues.length," issues â†’"))),"analysis"===C&&(0,a.createElement)("div",{className:"saman-seo-tab-content"},(0,a.createElement)(b,{metrics:n?.metrics||[],metricsByCategory:n?.metrics_by_category,hasKeyphrase:!!t.focus_keyphrase})),"advanced"===C&&(0,a.createElement)("div",{className:"saman-seo-tab-content"},(0,a.createElement)("div",{className:"saman-seo-field"},(0,a.createElement)("div",{className:"saman-seo-field-header"},(0,a.createElement)("label",null,"Canonical URL")),(0,a.createElement)("input",{type:"url",className:"saman-seo-field-input",value:t.canonical||"",onChange:e=>s("canonical",e.target.value),placeholder:p}),(0,a.createElement)("p",{className:"saman-seo-field-help"},"Leave empty to use the default URL")),(0,a.createElement)("div",{className:"saman-seo-robots-section"},(0,a.createElement)("label",{className:"saman-seo-section-label"},"Search Engine Visibility"),(0,a.createElement)("label",{className:"saman-seo-toggle"},(0,a.createElement)("input",{type:"checkbox",checked:t.noindex||!1,onChange:e=>s("noindex",e.target.checked)}),(0,a.createElement)("span",{className:"saman-seo-toggle-slider"}),(0,a.createElement)("span",{className:"saman-seo-toggle-label"},"Hide from search results",(0,a.createElement)("small",null,"Add noindex meta tag"))),(0,a.createElement)("label",{className:"saman-seo-toggle"},(0,a.createElement)("input",{type:"checkbox",checked:t.nofollow||!1,onChange:e=>s("nofollow",e.target.checked)}),(0,a.createElement)("span",{className:"saman-seo-toggle-slider"}),(0,a.createElement)("span",{className:"saman-seo-toggle-label"},"Don't follow links",(0,a.createElement)("small",null,"Add nofollow meta tag")))),(0,a.createElement)("div",{className:"saman-seo-robots-preview"},(0,a.createElement)("label",{className:"saman-seo-section-label"},"Robots Meta"),(0,a.createElement)("code",{className:"saman-seo-robots-code"},t.noindex||t.nofollow?`${t.noindex?"noindex":"index"}, ${t.nofollow?"nofollow":"follow"}`:"index, follow (default)")),(0,a.createElement)("div",{className:"saman-seo-indexing-section"},(0,a.createElement)("label",{className:"saman-seo-section-label"},"Instant Indexing"),I&&!I.indexnow_enabled&&(0,a.createElement)("div",{className:"saman-seo-indexing-notice saman-seo-indexing-notice--info"},(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.createElement)("path",{d:"M12 16v-4M12 8h.01"})),(0,a.createElement)("span",null,"Enable IndexNow in Settings to use instant indexing")),I&&I.indexnow_enabled&&(0,a.createElement)(a.Fragment,null,I.has_been_indexed&&I.last_submission&&(0,a.createElement)("div",{className:`saman-seo-indexing-status saman-seo-indexing-status--${I.last_submission.status}`},(0,a.createElement)("div",{className:"saman-seo-indexing-status-icon"},"success"===I.last_submission.status?(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M20 6L9 17l-5-5"})):(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.createElement)("path",{d:"M15 9l-6 6M9 9l6 6"}))),(0,a.createElement)("div",{className:"saman-seo-indexing-status-text"},(0,a.createElement)("strong",null,"success"===I.last_submission.status?"Submitted":"Failed"),(0,a.createElement)("span",null,I.last_submission.time_ago))),!I.has_been_indexed&&(0,a.createElement)("div",{className:"saman-seo-indexing-status saman-seo-indexing-status--never"},(0,a.createElement)("div",{className:"saman-seo-indexing-status-icon"},(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.createElement)("path",{d:"M12 6v6l4 2"}))),(0,a.createElement)("div",{className:"saman-seo-indexing-status-text"},(0,a.createElement)("strong",null,"Not submitted"),(0,a.createElement)("span",null,"Request indexing to notify search engines"))),W&&(0,a.createElement)("div",{className:"saman-seo-indexing-notice saman-seo-indexing-notice--error"},W),(0,a.createElement)(i.Button,{variant:"secondary",className:"saman-seo-indexing-button",onClick:F,disabled:T},T?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{className:"saman-seo-indexing-spinner"}),"Submitting..."):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,a.createElement)("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"})),"Request Indexing")),(0,a.createElement)("p",{className:"saman-seo-field-help"},"Submit this URL to search engines via IndexNow for faster discovery.",I.total_submissions>0&&(0,a.createElement)(a.Fragment,null," Submitted ",I.total_submissions," time",1!==I.total_submissions?"s":"","."))))),"social"===C&&(0,a.createElement)("div",{className:"saman-seo-tab-content"},(0,a.createElement)("div",{className:"saman-seo-social-preview"},(0,a.createElement)("label",{className:"saman-seo-section-label"},"Social Preview"),(0,a.createElement)("div",{className:"saman-seo-social-card"},(0,a.createElement)("div",{className:"saman-seo-social-image"},t.og_image||E?(0,a.createElement)("img",{src:t.og_image||E,alt:""}):(0,a.createElement)("div",{className:"saman-seo-social-placeholder"},(0,a.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none"},(0,a.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2"}),(0,a.createElement)("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),(0,a.createElement)("path",{d:"M21 15l-5-5L5 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,a.createElement)("span",null,"No image set"))),(0,a.createElement)("div",{className:"saman-seo-social-content"},(0,a.createElement)("div",{className:"saman-seo-social-url"},new URL(p).hostname),(0,a.createElement)("div",{className:"saman-seo-social-title"},o),(0,a.createElement)("div",{className:"saman-seo-social-desc"},m||"No description available")))),(0,a.createElement)("div",{className:"saman-seo-field"},(0,a.createElement)("div",{className:"saman-seo-field-header"},(0,a.createElement)("label",null,"Social Image URL")),(0,a.createElement)("input",{type:"url",className:"saman-seo-field-input",value:t.og_image||"",onChange:e=>s("og_image",e.target.value),placeholder:"https://..."}),(0,a.createElement)("p",{className:"saman-seo-field-help"},"1200x630 recommended. Leave empty to use featured image."),!t.og_image&&E&&(0,a.createElement)("p",{className:"saman-seo-field-note"},"Using featured image as fallback")),(0,a.createElement)(i.Button,{variant:"secondary",className:"saman-seo-media-button",onClick:()=>{const e=wp.media({title:"Select Social Image",button:{text:"Use Image"},multiple:!1});e.on("select",()=>{const a=e.state().get("selection").first().toJSON();s("og_image",a.url)}),e.open()}},(0,a.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"6px"}},(0,a.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2"}),(0,a.createElement)("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),(0,a.createElement)("path",{d:"M21 15l-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})),"Select Image")),(0,a.createElement)(g,{isOpen:L.isOpen,onClose:U,onGenerate:j,fieldType:L.fieldType,currentValue:"title"===L.fieldType?t.title:t.description,postTitle:u,postContent:h,variableValues:N,aiProvider:w,aiPilot:x}))},N=()=>(0,a.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z",fill:"currentColor"})),f=window.SamanSEOEditor||{},w=f.variables||{},x=f.aiEnabled||!1,C=f.aiProvider||"none",S=f.aiPilot||null;(0,t.registerPlugin)("saman-seo",{render:()=>{const[e,t]=(0,l.useState)({title:"",description:"",canonical:"",noindex:!1,nofollow:!1,og_image:"",focus_keyphrase:""}),[o,i]=(0,l.useState)(null),[c,m]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!1),[u,h]=(0,l.useState)({}),{postId:E,postTitle:v,postExcerpt:g,postContent:_,postType:b,postSlug:y,featuredImage:M}=(0,n.useSelect)(e=>{const a=e("core/editor"),t=a.getCurrentPost(),s=a.getEditedPostAttribute("featured_media");let n="";if(s){const a=e("core").getMedia(s);a&&(n=a.source_url)}return{postId:a.getCurrentPostId(),postTitle:a.getEditedPostAttribute("title")||"",postExcerpt:a.getEditedPostAttribute("excerpt")||"",postContent:a.getEditedPostContent()||"",postType:a.getCurrentPostType(),postSlug:t?.slug||"",featuredImage:n}},[]),{editPost:P}=(0,n.useDispatch)("core/editor");(0,l.useEffect)(()=>{if(!E||!b)return;const e={post:"posts",page:"pages",attachment:"media"}[a=b]||a;var a;r()({path:`/wp/v2/${e}/${E}`}).then(e=>{if(e.meta&&e.meta._Saman_seo_meta){const a=e.meta._Saman_seo_meta;t({title:a.title||"",description:a.description||"",canonical:a.canonical||"",noindex:"1"===a.noindex,nofollow:"1"===a.nofollow,og_image:a.og_image||"",focus_keyphrase:a.focus_keyphrase||""})}}).catch(()=>{})},[E,b]),(0,l.useEffect)(()=>{if(!E)return;const e=setTimeout(()=>{r()({path:`/saman-seo/v1/audit/post/${E}`}).then(e=>{e.success&&e.data&&i(e.data)}).catch(()=>{})},500);return()=>clearTimeout(e)},[E,e,v,_]),(0,l.useEffect)(()=>{const e={post_title:v||"",post_excerpt:g||"",site_title:f.siteTitle||"",tagline:f.tagline||"",separator:f.separator||"-",current_year:(new Date).getFullYear().toString()};h(e)},[v,g]);const L=(0,l.useCallback)((a,s)=>{t(e=>({...e,[a]:s})),p(!0);const n={...e,[a]:s},l={title:n.title,description:n.description,canonical:n.canonical,noindex:n.noindex?"1":"",nofollow:n.nofollow?"1":"",og_image:n.og_image,focus_keyphrase:n.focus_keyphrase};P({meta:{_Saman_seo_meta:l}})},[e,P]),A=e.title||v||"Untitled",I=e.description||g||"",$=window.location.origin,T=y?`${$}/${y}/`:$;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.PluginSidebarMoreMenuItem,{target:"saman-seo-sidebar",icon:(0,a.createElement)(N,null)},"Saman SEO"),(0,a.createElement)(s.PluginSidebar,{name:"saman-seo-sidebar",title:"Saman SEO",icon:(0,a.createElement)(N,null)},(0,a.createElement)(k,{postId:E,seoMeta:e,updateMeta:L,seoScore:o,effectiveTitle:A,effectiveDescription:I,postUrl:T,postTitle:v,postContent:_,featuredImage:M,hasChanges:d,variables:w,variableValues:u,aiEnabled:x,aiProvider:C,aiPilot:S})))},icon:(0,a.createElement)(N,null)})})();