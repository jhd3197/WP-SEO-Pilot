// ==========================================================================
// Settings Page Styles
// ==========================================================================

// Settings layout with main + sidebar
.settings-layout {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: @spacing-2xl;
    align-items: start;

    @media (max-width: @breakpoint-lg) {
        grid-template-columns: 1fr;
    }
}

.settings-main {
    display: flex;
    flex-direction: column;
    gap: @spacing-2xl;
    min-width: 0;
}

.settings-sidebar {
    display: flex;
    flex-direction: column;
    gap: @spacing-lg;
    position: sticky;
    top: @spacing-2xl;
}

// Page header actions
.page-header__actions {
    display: flex;
    align-items: center;
    gap: @spacing-md;
}

.save-indicator {
    color: @color-success;
    font-weight: @font-weight-medium;
    font-size: @font-size-sm;
    display: flex;
    align-items: center;
    gap: @spacing-xs;

    &::before {
        content: 'âœ“';
    }
}

// Panel description
.panel-desc {
    color: @color-muted;
    font-size: @font-size-sm;
    margin: -@spacing-sm 0 @spacing-xl 0;
}

.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: @spacing-xl;

    h3 {
        margin-bottom: @spacing-xs;
    }
}

// Module count badge
.module-count {
    background: @color-primary-light;
    color: @color-primary;
    padding: @spacing-xs @spacing-md;
    border-radius: @radius-full;
    font-size: @font-size-sm;
    font-weight: @font-weight-medium;
    white-space: nowrap;
}

// Modules grid
.modules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: @spacing-lg;
}

.module-card {
    display: flex;
    align-items: flex-start;
    gap: @spacing-md;
    padding: @spacing-lg;
    background: @color-surface-muted;
    border-radius: @radius-md;
    border: 1px solid transparent;
    transition: all @transition-fast;

    &.active {
        background: @color-surface;
        border-color: @color-primary;
        box-shadow: @shadow-sm;
    }

    &__icon {
        font-size: 24px;
        flex-shrink: 0;
    }

    &__content {
        flex: 1;
        min-width: 0;

        h4 {
            font-size: @font-size-base;
            font-weight: @font-weight-semibold;
            margin: 0 0 @spacing-xs 0;
        }

        p {
            font-size: @font-size-sm;
            color: @color-muted;
            margin: 0;
            line-height: @line-height-normal;
        }
    }

    .toggle {
        flex-shrink: 0;
    }
}

// Separator picker
.separator-picker {
    display: flex;
    gap: @spacing-xs;
}

.separator-option {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: @font-size-lg;
    font-weight: @font-weight-bold;
    background: @color-surface-muted;
    border: 2px solid transparent;
    border-radius: @radius-sm;
    cursor: pointer;
    transition: all @transition-fast;

    &:hover {
        background: @color-surface-hover;
    }

    &.active {
        background: @color-surface;
        border-color: @color-primary;
        color: @color-primary;
    }
}

// Title preview
.title-preview {
    background: @color-surface-muted;
    padding: @spacing-md;
    border-radius: @radius-sm;
    margin-top: @spacing-sm;

    &__text {
        font-size: @font-size-base;
        color: @color-text;
        word-break: break-word;
    }
}

// Info box
.settings-info-box {
    margin-top: @spacing-lg;
    padding: @spacing-md;
    background: @color-primary-light;
    border-radius: @radius-sm;
    border-left: 3px solid @color-primary;

    strong {
        display: block;
        margin-bottom: @spacing-xs;
        font-size: @font-size-sm;
    }

    p {
        margin: 0;
        font-size: @font-size-sm;
        color: @color-muted;
    }

    a {
        color: @color-primary;
        text-decoration: none;
        font-weight: @font-weight-medium;

        &:hover {
            text-decoration: underline;
        }
    }
}

// Input with prefix (like @username)
.input-with-prefix {
    display: flex;
    align-items: center;
    border: 1px solid @color-border;
    border-radius: @radius-sm;
    overflow: hidden;

    &:focus-within {
        border-color: @color-primary;
        box-shadow: 0 0 0 1px @color-primary;
    }

    .input-prefix {
        padding: 0 @spacing-md;
        background: @color-surface-muted;
        color: @color-muted;
        font-size: @font-size-base;
        height: @input-height;
        display: flex;
        align-items: center;
        border-right: 1px solid @color-border;
    }

    input {
        border: none;
        flex: 1;
        padding-left: @spacing-md;

        &:focus {
            box-shadow: none;
        }
    }
}

// Social Preview - Facebook & Twitter Cards
.social-preview {
    background: @color-surface;
    border: 1px solid @color-border;
    border-radius: @radius-lg;
    overflow: hidden;

    &__header {
        display: flex;
        align-items: center;
        gap: @spacing-sm;
        padding: @spacing-sm @spacing-md;
        background: @color-surface-muted;
        border-bottom: 1px solid @color-border;
        font-size: @font-size-xs;
        font-weight: @font-weight-semibold;
        color: @color-muted;
    }

    &__card {
        background: @color-surface;
    }

    &__card--horizontal {
        display: flex;
        border: 1px solid @color-border;
        margin: @spacing-md;
        border-radius: @radius-md;
        overflow: hidden;
    }

    &__image {
        aspect-ratio: 1.91/1;
        background: linear-gradient(135deg, #e8e8e8 0%, #f5f5f5 100%);
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    &__image--square {
        aspect-ratio: 1/1;
        width: 120px;
        flex-shrink: 0;
    }

    &__placeholder {
        text-align: center;
        color: #999;
    }

    &__domain-overlay {
        position: absolute;
        bottom: @spacing-sm;
        left: @spacing-sm;
        background: rgba(0, 0, 0, 0.6);
        color: #fff;
        font-size: 11px;
        padding: 2px @spacing-sm;
        border-radius: 3px;
    }

    &__body {
        padding: @spacing-md;
        display: flex;
        flex-direction: column;
        gap: 2px;
    }

    &__domain {
        font-size: 11px;
        color: #65676b;
        text-transform: uppercase;
    }

    &__title {
        font-size: @font-size-sm;
        font-weight: @font-weight-semibold;
        color: @color-text;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    &__desc {
        font-size: @font-size-xs;
        color: #65676b;
        line-height: 1.4;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    // Facebook specific
    &--facebook {
        .social-preview__card {
            border: 1px solid #dddfe2;
            margin: @spacing-md;
            border-radius: @radius-sm;
            overflow: hidden;
        }

        .social-preview__body {
            background: #f2f3f5;
            border-top: 1px solid #dddfe2;
        }
    }

    // Twitter specific
    &--twitter {
        .social-preview__card {
            border: 1px solid #cfd9de;
            margin: @spacing-md;
            border-radius: 16px;
            overflow: hidden;
        }

        .social-preview__image {
            background: linear-gradient(135deg, #15202b 0%, #1a2836 100%);
        }

        .social-preview__title {
            font-size: 15px;
        }

        .social-preview__desc {
            color: #536471;
        }

        .social-preview__domain {
            color: #536471;
            text-transform: none;
            margin-top: @spacing-xs;
        }
    }

    // Twitter summary card (horizontal layout)
    &--summary {
        .social-preview__card--horizontal {
            border-radius: 16px;
        }

        .social-preview__image--square {
            background: linear-gradient(135deg, #15202b 0%, #1a2836 100%);
        }

        .social-preview__body {
            justify-content: center;
            padding: @spacing-sm @spacing-md;
        }

        .social-preview__title {
            font-size: 14px;
            -webkit-line-clamp: 1;
        }

        .social-preview__desc {
            font-size: 13px;
            -webkit-line-clamp: 2;
        }
    }
}

// Settings grid (for compact toggles)
.settings-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: @spacing-md;

    @media (max-width: @breakpoint-md) {
        grid-template-columns: 1fr;
    }

    .settings-row {
        padding: @spacing-md;
        background: @color-surface-muted;
        border-radius: @radius-sm;
        margin: 0;
    }
}

// Tools actions
.tools-actions {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: @spacing-lg;

    @media (max-width: @breakpoint-md) {
        grid-template-columns: 1fr;
    }
}

.tool-action {
    padding: @spacing-lg;
    background: @color-surface-muted;
    border-radius: @radius-md;

    h4 {
        font-size: @font-size-base;
        font-weight: @font-weight-semibold;
        margin: 0 0 @spacing-xs 0;
    }

    p {
        margin: 0 0 @spacing-md 0;
    }
}

// Import controls
.import-controls {
    display: flex;
    gap: @spacing-sm;
    align-items: center;

    input[type="file"] {
        display: none;
    }
}

// Danger zone panel
.danger-zone {
    border: 1px solid @color-danger;

    h3 {
        color: @color-danger;
    }

    .tool-action {
        background: @color-danger-bg;
    }
}

// Info rows
.info-rows {
    display: flex;
    flex-direction: column;
    gap: @spacing-sm;
    margin-top: @spacing-md;
}

.info-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: @font-size-sm;

    span {
        color: @color-muted;
    }

    code {
        background: @color-surface-muted;
        padding: 2px @spacing-xs;
        border-radius: 3px;
        font-size: @font-size-xs;
    }
}

// Side card variants
.side-card {
    &.warning {
        border-left: 3px solid @color-warning;
    }
}

// Danger button
.button.danger {
    background: @color-danger;
    color: white;
    border-color: @color-danger;

    &:hover {
        background: darken(@color-danger, 10%);
        border-color: darken(@color-danger, 10%);
    }
}
