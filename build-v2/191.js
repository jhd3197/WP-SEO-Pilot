"use strict";(globalThis.webpackChunksaman_seo=globalThis.webpackChunksaman_seo||[]).push([[191],{191(e,t,a){a.r(t),a.d(t,{default:()=>o});var s=a(609),n=a(87),l=a(455),i=a.n(l);const r={title_missing:"Missing Meta Title",title_length:"Title Too Long",description_missing:"Missing Meta Description",description_length:"Description Too Long",missing_alt:"Missing Alt Text",low_word_count:"Low Word Count",missing_h1:"Missing H1 Heading"},c={high:{label:"Critical",class:"danger",color:"var(--color-danger)"},medium:{label:"Warning",class:"warning",color:"var(--color-warning)"},low:{label:"Suggestion",class:"muted",color:"var(--color-muted)"}},o=()=>{const[e,t]=(0,n.useState)(!0),[a,l]=(0,n.useState)(!1),[o,m]=(0,n.useState)(null),[d,u]=(0,n.useState)({type:"",text:""}),[E,p]=(0,n.useState)(null),[h,g]=(0,n.useState)(null),v=(0,n.useCallback)(async()=>{t(!0);try{const e=await i()({path:"/saman-seo/v1/audit"});e.success&&m(e.data)}catch(e){console.error("Failed to fetch audit:",e),u({type:"error",text:"Failed to load audit data."})}finally{t(!1)}},[]);if((0,n.useEffect)(()=>{v()},[v]),e)return(0,s.createElement)("div",{className:"page"},(0,s.createElement)("div",{className:"page-header"},(0,s.createElement)("div",null,(0,s.createElement)("h1",null,"SEO Audit"),(0,s.createElement)("p",null,"Scan your site for SEO issues and get actionable recommendations."))),(0,s.createElement)("div",{className:"loading-state"},"Loading audit data..."));const N=o?.stats||{severity:{high:0,medium:0,low:0},total:0},y=(()=>{if(!o?.issues)return{};const e={};return o.issues.forEach(t=>{e[t.type]||(e[t.type]=[]),e[t.type].push(t)}),e})();return(0,s.createElement)("div",{className:"page"},(0,s.createElement)("div",{className:"page-header"},(0,s.createElement)("div",null,(0,s.createElement)("h1",null,"SEO Audit"),(0,s.createElement)("p",null,"Scan your site for SEO issues and get actionable recommendations.")),(0,s.createElement)("div",{className:"header-actions"},o?.from_cache&&(0,s.createElement)("span",{className:"cache-badge"},"Cached results"),(0,s.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{l(!0),u({type:"",text:""});try{const e=await i()({path:"/saman-seo/v1/audit/run",method:"POST",data:{post_type:"any",limit:100}});e.success&&(m(e.data),u({type:"success",text:`Audit complete! Scanned ${e.data.scanned} posts.`}))}catch(e){console.error("Failed to run audit:",e),u({type:"error",text:"Failed to run audit."})}finally{l(!1)}},disabled:a},a?(0,s.createElement)(s.Fragment,null,(0,s.createElement)("span",{className:"spinner"}),"Running Audit..."):"Run Full Audit"))),d.text&&(0,s.createElement)("div",{className:`notice-message ${d.type}`},d.text),(0,s.createElement)("div",{className:"audit-stats-grid"},(0,s.createElement)("div",{className:"audit-stat-card "+(N.severity.high>0?"has-issues":"no-issues")},(0,s.createElement)("div",{className:"audit-stat-icon danger"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M12 9v4M12 17h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,s.createElement)("div",{className:"audit-stat-content"},(0,s.createElement)("div",{className:"audit-stat-number"},N.severity.high),(0,s.createElement)("div",{className:"audit-stat-label"},"Critical Issues"),(0,s.createElement)("div",{className:"audit-stat-desc"},0===N.severity.high?"All critical checks passed":"Issues severely impacting SEO"))),(0,s.createElement)("div",{className:"audit-stat-card "+(N.severity.medium>0?"has-issues":"no-issues")},(0,s.createElement)("div",{className:"audit-stat-icon warning"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,s.createElement)("div",{className:"audit-stat-content"},(0,s.createElement)("div",{className:"audit-stat-number"},N.severity.medium),(0,s.createElement)("div",{className:"audit-stat-label"},"Warnings"),(0,s.createElement)("div",{className:"audit-stat-desc"},0===N.severity.medium?"No warnings found":"Issues that may affect rankings"))),(0,s.createElement)("div",{className:"audit-stat-card"},(0,s.createElement)("div",{className:"audit-stat-icon muted"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,s.createElement)("div",{className:"audit-stat-content"},(0,s.createElement)("div",{className:"audit-stat-number"},N.severity.low),(0,s.createElement)("div",{className:"audit-stat-label"},"Suggestions"),(0,s.createElement)("div",{className:"audit-stat-desc"},0===N.severity.low?"No suggestions":"Optional improvements available"))),(0,s.createElement)("div",{className:"audit-stat-card info"},(0,s.createElement)("div",{className:"audit-stat-icon info"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,s.createElement)("div",{className:"audit-stat-content"},(0,s.createElement)("div",{className:"audit-stat-number"},o?.scanned||0),(0,s.createElement)("div",{className:"audit-stat-label"},"Posts Scanned"),(0,s.createElement)("div",{className:"audit-stat-desc"},N.posts_with_issues||0," with issues")))),(0,s.createElement)("section",{className:"audit-section"},(0,s.createElement)("div",{className:"audit-section-header"},(0,s.createElement)("h2",null,"Issues by Type"),(0,s.createElement)("p",{className:"muted"},"Click on an issue type to see affected posts.")),0===Object.keys(y).length?(0,s.createElement)("div",{className:"empty-state"},(0,s.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{color:"var(--color-success)"}},(0,s.createElement)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,s.createElement)("h3",null,"No issues found!"),(0,s.createElement)("p",null,"Your site is in great SEO shape.")):(0,s.createElement)("div",{className:"audit-issues-list"},Object.entries(y).map(([e,t])=>{const a=(e=>e.some(e=>"high"===e.severity)?"high":e.some(e=>"medium"===e.severity)?"medium":"low")(t),n=c[a],l=E===e;return(0,s.createElement)("div",{key:e,className:"audit-issue-group "+(l?"expanded":"")},(0,s.createElement)("button",{type:"button",className:"audit-issue-header",onClick:()=>p(l?null:e)},(0,s.createElement)("div",{className:"audit-issue-info"},(0,s.createElement)("span",{className:`severity-dot ${n.class}`}),(0,s.createElement)("span",{className:"audit-issue-type"},r[e]||e),(0,s.createElement)("span",{className:`pill ${n.class}`},t.length)),(0,s.createElement)("svg",{className:"chevron "+(l?"expanded":""),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M19 9l-7 7-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),l&&(0,s.createElement)("div",{className:"audit-issue-posts"},(0,s.createElement)("table",{className:"data-table compact"},(0,s.createElement)("thead",null,(0,s.createElement)("tr",null,(0,s.createElement)("th",null,"Post"),(0,s.createElement)("th",null,"Issue"),(0,s.createElement)("th",null,"Action"))),(0,s.createElement)("tbody",null,t.map((e,t)=>(0,s.createElement)("tr",{key:t},(0,s.createElement)("td",null,(0,s.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer"},e.title)),(0,s.createElement)("td",null,e.message),(0,s.createElement)("td",null,(0,s.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer",className:"link-button"},"Edit Post"))))))))}))),o?.recommendations&&o.recommendations.length>0&&(0,s.createElement)("section",{className:"audit-section"},(0,s.createElement)("div",{className:"audit-section-header"},(0,s.createElement)("h2",null,"Quick Fixes"),(0,s.createElement)("p",{className:"muted"},"Apply suggested meta titles and descriptions with one click.")),(0,s.createElement)("div",{className:"recommendations-list"},o.recommendations.map(e=>(0,s.createElement)("div",{key:e.post_id,className:"recommendation-card"},(0,s.createElement)("div",{className:"recommendation-header"},(0,s.createElement)("h4",null,e.title),(0,s.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer",className:"link-button small"},"Edit Post")),(0,s.createElement)("div",{className:"recommendation-suggestions"},(0,s.createElement)("div",{className:"suggestion-item"},(0,s.createElement)("label",null,"Suggested Title"),(0,s.createElement)("div",{className:"suggestion-value"},e.suggested_title)),(0,s.createElement)("div",{className:"suggestion-item"},(0,s.createElement)("label",null,"Suggested Description"),(0,s.createElement)("div",{className:"suggestion-value"},e.suggested_description||"(No suggestion available)"))),(0,s.createElement)("div",{className:"recommendation-actions"},(0,s.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(async e=>{g(e.post_id);try{(await i()({path:`/saman-seo/v1/audit/apply/${e.post_id}`,method:"POST",data:{title:e.suggested_title,description:e.suggested_description}})).success&&(u({type:"success",text:`Applied recommendations to "${e.title}"`}),m(t=>({...t,recommendations:t.recommendations.filter(t=>t.post_id!==e.post_id)})))}catch(e){console.error("Failed to apply recommendation:",e),u({type:"error",text:"Failed to apply recommendation."})}finally{g(null)}})(e),disabled:h===e.post_id},h===e.post_id?"Applying...":"Apply Suggestions")))))))}}}]);