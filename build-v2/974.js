"use strict";(globalThis.webpackChunksaman_labs_seo=globalThis.webpackChunksaman_labs_seo||[]).push([[974],{974(e,t,a){a.r(t),a.d(t,{default:()=>n});var r=a(609),s=a(87),l=a(455),i=a.n(l);const n=()=>{const[e,t]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[c,m]=(0,s.useState)(!1),[d,p]=(0,s.useState)({ai_prompt_system:"",ai_prompt_title:"",ai_prompt_description:""}),[u,v]=(0,s.useState)({configured:!1,status:"not_configured",message:"Not configured",provider:"none",ai_pilot:null}),[E,h]=(0,s.useState)(""),[g,N]=(0,s.useState)(""),[_,f]=(0,s.useState)(""),[y,P]=(0,s.useState)({type:"",text:""}),b=(0,s.useCallback)(async()=>{t(!0);try{const[e,t]=await Promise.all([i()({path:"/samanlabs-seo/v1/ai/settings"}),i()({path:"/samanlabs-seo/v1/ai/status"})]);e.success&&p(t=>({...t,ai_prompt_system:e.data.ai_prompt_system||"",ai_prompt_title:e.data.ai_prompt_title||"",ai_prompt_description:e.data.ai_prompt_description||""})),t.success&&v(t.data)}catch(e){console.error("Failed to fetch AI settings:",e),P({type:"error",text:"Failed to load AI settings."})}finally{t(!1)}},[]);return(0,s.useEffect)(()=>{b()},[b]),e?(0,r.createElement)("div",{className:"page"},(0,r.createElement)("div",{className:"page-header"},(0,r.createElement)("div",null,(0,r.createElement)("h1",null,"AI Assistant"),(0,r.createElement)("p",null,"Configure AI-powered SEO content generation."))),(0,r.createElement)("div",{className:"loading-state"},"Loading AI settings...")):(0,r.createElement)("div",{className:"page"},(0,r.createElement)("div",{className:"page-header"},(0,r.createElement)("div",null,(0,r.createElement)("h1",null,"AI Assistant"),(0,r.createElement)("p",null,"Configure AI-powered SEO content generation.")),(0,r.createElement)("div",{className:"header-actions"},(0,r.createElement)("div",{className:"api-status-badge "+(u.configured?"connected":"disconnected")},(0,r.createElement)("span",{className:"status-dot"}),u.configured?"Connected":"Not Connected"))),y.text&&(0,r.createElement)("div",{className:`notice-message ${y.type}`},y.text),(0,r.createElement)("div",{className:"ai-settings-layout"},(0,r.createElement)("div",{className:"ai-config-column"},(0,r.createElement)("div",{className:"ai-card"},(0,r.createElement)("div",{className:"ai-card-header"},(0,r.createElement)("h3",null,"AI Provider"),"wp-ai-pilot"===u.provider&&(0,r.createElement)("span",{className:"provider-badge provider-badge--active"},(0,r.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,r.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})),"WP AI Pilot")),(0,r.createElement)("div",{className:"ai-card-body"},"wp-ai-pilot"===u.provider?(0,r.createElement)("div",{className:"ai-provider-status ai-provider-status--connected"},(0,r.createElement)("div",{className:"ai-provider-status__icon"},(0,r.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,r.createElement)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,r.createElement)("polyline",{points:"22 4 12 14.01 9 11.01"}))),(0,r.createElement)("div",{className:"ai-provider-status__content"},(0,r.createElement)("h4",null,"Connected to WP AI Pilot"),(0,r.createElement)("p",null,"AI features are powered by WP AI Pilot. Manage your API keys and models there."),(0,r.createElement)("a",{href:u.ai_pilot?.settings_url||"admin.php?page=wp-ai-pilot",className:"button primary"},"Open WP AI Pilot Settings"))):u.ai_pilot?.installed?(0,r.createElement)("div",{className:"ai-provider-status ai-provider-status--warning"},(0,r.createElement)("div",{className:"ai-provider-status__icon"},(0,r.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,r.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.createElement)("path",{d:"M12 8v4m0 4h.01"}))),(0,r.createElement)("div",{className:"ai-provider-status__content"},(0,r.createElement)("h4",null,"WP AI Pilot Needs Configuration"),(0,r.createElement)("p",null,"WP AI Pilot is installed but not configured. Add an API key to enable AI features."),(0,r.createElement)("a",{href:u.ai_pilot?.settings_url||"admin.php?page=wp-ai-pilot",className:"button primary"},"Configure WP AI Pilot"))):(0,r.createElement)("div",{className:"ai-provider-status ai-provider-status--info"},(0,r.createElement)("div",{className:"ai-provider-status__icon"},(0,r.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,r.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,r.createElement)("div",{className:"ai-provider-status__content"},(0,r.createElement)("h4",null,"Install WP AI Pilot"),(0,r.createElement)("p",null,"AI features in WP SEO Pilot are now powered by WP AI Pilot. Install it to enable AI-powered title and description generation."),(0,r.createElement)("a",{href:"plugin-install.php?s=wp+ai+pilot&tab=search",className:"button primary"},"Install WP AI Pilot"))),(0,r.createElement)("div",{className:"deprecation-notice"},(0,r.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,r.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.createElement)("path",{d:"M12 16v-4M12 8h.01"})),(0,r.createElement)("div",null,(0,r.createElement)("strong",null,"API Key Management Deprecated"),(0,r.createElement)("p",null,"Direct API key configuration has been moved to WP AI Pilot. This provides centralized AI management across all your WordPress plugins."))))),(0,r.createElement)("div",{className:"ai-card"},(0,r.createElement)("div",{className:"ai-card-header"},(0,r.createElement)("h3",null,"Prompt Configuration"),(0,r.createElement)("button",{type:"button",className:"link-button",onClick:async()=>{if(window.confirm("Reset prompts to defaults?")){o(!0),P({type:"",text:""});try{const e=await i()({path:"/samanlabs-seo/v1/ai/reset",method:"POST"});e.success&&(p(t=>({...t,ai_prompt_system:e.data.ai_prompt_system||"",ai_prompt_title:e.data.ai_prompt_title||"",ai_prompt_description:e.data.ai_prompt_description||""})),P({type:"success",text:"Prompts restored to defaults."}))}catch(e){console.error("Failed to reset settings:",e),P({type:"error",text:"Failed to reset settings."})}finally{o(!1)}}},disabled:n},n?"Resetting...":"Reset Defaults")),(0,r.createElement)("div",{className:"ai-card-body"},(0,r.createElement)("div",{className:"ai-prompts-stack"},(0,r.createElement)("div",{className:"ai-prompt-field"},(0,r.createElement)("label",{htmlFor:"system-prompt"},"System Prompt",(0,r.createElement)("span",{className:"label-hint"},"Base instructions for every request")),(0,r.createElement)("textarea",{id:"system-prompt",value:d.ai_prompt_system,onChange:e=>p(t=>({...t,ai_prompt_system:e.target.value})),rows:"2",placeholder:"You are an SEO assistant..."})),(0,r.createElement)("div",{className:"ai-prompts-row"},(0,r.createElement)("div",{className:"ai-prompt-field"},(0,r.createElement)("label",{htmlFor:"title-prompt"},"Title Prompt",(0,r.createElement)("span",{className:"label-hint"},"How to craft titles")),(0,r.createElement)("textarea",{id:"title-prompt",value:d.ai_prompt_title,onChange:e=>p(t=>({...t,ai_prompt_title:e.target.value})),rows:"2",placeholder:"Write an SEO meta title..."})),(0,r.createElement)("div",{className:"ai-prompt-field"},(0,r.createElement)("label",{htmlFor:"desc-prompt"},"Description Prompt",(0,r.createElement)("span",{className:"label-hint"},"How to craft descriptions")),(0,r.createElement)("textarea",{id:"desc-prompt",value:d.ai_prompt_description,onChange:e=>p(t=>({...t,ai_prompt_description:e.target.value})),rows:"2",placeholder:"Write a meta description..."}))))),(0,r.createElement)("div",{className:"ai-card-footer"},(0,r.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{l(!0),P({type:"",text:""});try{(await i()({path:"/samanlabs-seo/v1/ai/settings",method:"POST",data:{ai_prompt_system:d.ai_prompt_system,ai_prompt_title:d.ai_prompt_title,ai_prompt_description:d.ai_prompt_description}})).success&&P({type:"success",text:"Prompt settings saved successfully!"})}catch(e){console.error("Failed to save settings:",e),P({type:"error",text:"Failed to save settings."})}finally{l(!1)}},disabled:a},a?"Saving...":"Save Prompt Settings")))),(0,r.createElement)("div",{className:"ai-test-column"},(0,r.createElement)("div",{className:"ai-card ai-test-card"},(0,r.createElement)("div",{className:"ai-card-header"},(0,r.createElement)("h3",null,"Test Generation"),u.provider&&"none"!==u.provider&&(0,r.createElement)("span",{className:"provider-tag"},"via ",(()=>{switch(u.provider){case"wp-ai-pilot":return"WP AI Pilot";case"native":return"Native API Keys (Deprecated)";default:return"Not Configured"}})())),(0,r.createElement)("div",{className:"ai-card-body"},(0,r.createElement)("div",{className:"ai-test-input"},(0,r.createElement)("textarea",{value:E,onChange:e=>h(e.target.value),rows:"4",placeholder:"Paste content here to test AI generation. Provide at least 100 words for best results...",disabled:!u.configured}),(0,r.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{if(E.trim())if(u.configured){m(!0),P({type:"",text:""}),N(""),f("");try{const e=await i()({path:"/samanlabs-seo/v1/ai/generate",method:"POST",data:{content:E,type:"both"}});e.success&&(N(e.data.title||""),f(e.data.description||""),P({type:"success",text:"Generation complete!"}))}catch(e){console.error("Failed to generate:",e),P({type:"error",text:e.message||"Failed to generate content."})}finally{m(!1)}}else P({type:"error",text:"Please configure WP AI Pilot to enable AI generation."});else P({type:"error",text:"Please enter some content to analyze."})},disabled:c||!u.configured},c?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"spinner"}),"Generating..."):"Generate")),!u.configured&&(0,r.createElement)("div",{className:"ai-test-disabled-notice"},(0,r.createElement)("p",null,"Configure WP AI Pilot to test AI generation.")),(g||_)&&(0,r.createElement)("div",{className:"ai-results"},g&&(0,r.createElement)("div",{className:"ai-result-item"},(0,r.createElement)("div",{className:"ai-result-header"},(0,r.createElement)("span",{className:"ai-result-label"},"Title"),(0,r.createElement)("span",{className:"ai-result-count"},g.length," chars")),(0,r.createElement)("div",{className:"ai-result-value"},g)),_&&(0,r.createElement)("div",{className:"ai-result-item"},(0,r.createElement)("div",{className:"ai-result-header"},(0,r.createElement)("span",{className:"ai-result-label"},"Description"),(0,r.createElement)("span",{className:"ai-result-count"},_.length," chars")),(0,r.createElement)("div",{className:"ai-result-value"},_))))),(0,r.createElement)("div",{className:"ai-info-grid"},(0,r.createElement)("div",{className:"ai-info-card"},(0,r.createElement)("div",{className:"ai-info-icon"},(0,r.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,r.createElement)("div",{className:"ai-info-content"},(0,r.createElement)("strong",null,"Unified AI Platform"),(0,r.createElement)("p",null,"WP AI Pilot manages AI for all your plugins in one place"))),(0,r.createElement)("div",{className:"ai-info-card"},(0,r.createElement)("div",{className:"ai-info-icon"},(0,r.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,r.createElement)("div",{className:"ai-info-content"},(0,r.createElement)("strong",null,"Privacy First"),(0,r.createElement)("p",null,"API keys stored locally, nothing saved externally"))),(0,r.createElement)("div",{className:"ai-info-card"},(0,r.createElement)("div",{className:"ai-info-icon"},(0,r.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,r.createElement)("div",{className:"ai-info-content"},(0,r.createElement)("strong",null,"Multiple Providers"),(0,r.createElement)("p",null,"OpenAI, Anthropic, Google AI, and more via WP AI Pilot")))))))}}}]);