"use strict";(globalThis.webpackChunksaman_labs_seo=globalThis.webpackChunksaman_labs_seo||[]).push([[442],{442(e,a,t){t.r(a),t.d(a,{default:()=>o});var l=t(609),n=t(87),c=t(455),i=t.n(c);const s={id:"",name:"",type:"LocalBusiness",street:"",city:"",state:"",zip:"",country:"",phone:"",email:"",latitude:"",longitude:"",isPrimary:!1,enabled:!0},r=[{value:"LocalBusiness",label:"Local Business (Generic)"},{value:"Restaurant",label:"Restaurant"},{value:"Dentist",label:"Dentist"},{value:"Physician",label:"Physician"},{value:"MedicalClinic",label:"Medical Clinic"},{value:"Attorney",label:"Attorney"},{value:"RealEstateAgent",label:"Real Estate Agent"},{value:"Store",label:"Store"},{value:"AutoDealer",label:"Auto Dealer"},{value:"HairSalon",label:"Hair Salon"},{value:"BeautySalon",label:"Beauty Salon"},{value:"Plumber",label:"Plumber"},{value:"Electrician",label:"Electrician"},{value:"AccountingService",label:"Accounting Service"},{value:"FinancialService",label:"Financial Service"},{value:"InsuranceAgency",label:"Insurance Agency"}],o=()=>{const[e,a]=(0,n.useState)(!0),[t,c]=(0,n.useState)(!1),[o,m]=(0,n.useState)([]),[u,d]=(0,n.useState)(!1),[p,E]=(0,n.useState)(null),[v,y]=(0,n.useState)(!1),[g,b]=(0,n.useState)(null),[h,f]=(0,n.useState)({name:"",type:"LocalBusiness",description:"",phone:"",email:"",street:"",city:"",state:"",zip:"",country:"",latitude:"",longitude:"",priceRange:""}),N=(0,n.useCallback)(async()=>{try{a(!0);const e=await i()({path:"/samanlabs-seo/v1/settings"});if(e.success){const a=e.data;f({name:a.local_business_name||"",type:a.local_business_type||"LocalBusiness",description:a.local_description||"",phone:a.local_phone||"",email:a.local_email||"",street:a.local_street||"",city:a.local_city||"",state:a.local_state||"",zip:a.local_zip||"",country:a.local_country||"",latitude:a.local_latitude||"",longitude:a.local_longitude||"",priceRange:a.local_price_range||""}),d("1"===a.local_enable_locations||!0===a.local_enable_locations),m(Array.isArray(a.local_locations)?a.local_locations:[])}}catch(e){console.error("Failed to load settings:",e),b({type:"error",message:"Failed to load settings."})}finally{a(!1)}},[]);(0,n.useEffect)(()=>{N()},[N]),(0,n.useEffect)(()=>{if(g){const e=setTimeout(()=>b(null),5e3);return()=>clearTimeout(e)}},[g]);const C=async e=>{c(!0);try{await i()({path:"/samanlabs-seo/v1/settings",method:"POST",data:e}),b({type:"success",message:"Settings saved successfully."})}catch(e){console.error("Failed to save settings:",e),b({type:"error",message:"Failed to save settings."})}finally{c(!1)}},_=(e,a)=>{f(t=>({...t,[e]:a}))};return e?(0,l.createElement)("div",{className:"page"},(0,l.createElement)("div",{className:"loading-state"},(0,l.createElement)("span",{className:"spinner is-active"}),(0,l.createElement)("p",null,"Loading Local SEO settings..."))):(0,l.createElement)("div",{className:"page"},(0,l.createElement)("div",{className:"page-header"},(0,l.createElement)("div",null,(0,l.createElement)("h1",null,"Local SEO"),(0,l.createElement)("p",null,"Configure your business information for local search results and schema markup."))),g&&(0,l.createElement)("div",{className:`notice notice-${g.type}`},(0,l.createElement)("p",null,g.message),(0,l.createElement)("button",{type:"button",className:"notice-dismiss",onClick:()=>b(null)},(0,l.createElement)("span",{className:"screen-reader-text"},"Dismiss"))),(0,l.createElement)("div",{className:"card"},(0,l.createElement)("div",{className:"card-header"},(0,l.createElement)("h2",null,"Business Information"),(0,l.createElement)("p",null,"Primary business details used for LocalBusiness schema on your homepage.")),(0,l.createElement)("div",{className:"card-body"},(0,l.createElement)("div",{className:"form-grid"},(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Business Name"),(0,l.createElement)("input",{type:"text",value:h.name,onChange:e=>_("name",e.target.value),placeholder:"Your Business Name"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Business Type"),(0,l.createElement)("select",{value:h.type,onChange:e=>_("type",e.target.value)},r.map(e=>(0,l.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,l.createElement)("div",{className:"form-field full-width"},(0,l.createElement)("label",null,"Description"),(0,l.createElement)("textarea",{value:h.description,onChange:e=>_("description",e.target.value),placeholder:"Brief description of your business",rows:3})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Phone"),(0,l.createElement)("input",{type:"tel",value:h.phone,onChange:e=>_("phone",e.target.value),placeholder:"+1 (555) 123-4567"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Email"),(0,l.createElement)("input",{type:"email",value:h.email,onChange:e=>_("email",e.target.value),placeholder:"contact@yourbusiness.com"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Street Address"),(0,l.createElement)("input",{type:"text",value:h.street,onChange:e=>_("street",e.target.value),placeholder:"123 Main Street"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"City"),(0,l.createElement)("input",{type:"text",value:h.city,onChange:e=>_("city",e.target.value),placeholder:"New York"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"State/Province"),(0,l.createElement)("input",{type:"text",value:h.state,onChange:e=>_("state",e.target.value),placeholder:"NY"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"ZIP/Postal Code"),(0,l.createElement)("input",{type:"text",value:h.zip,onChange:e=>_("zip",e.target.value),placeholder:"10001"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Country"),(0,l.createElement)("input",{type:"text",value:h.country,onChange:e=>_("country",e.target.value),placeholder:"US"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Price Range"),(0,l.createElement)("select",{value:h.priceRange,onChange:e=>_("priceRange",e.target.value)},(0,l.createElement)("option",{value:""},"Select..."),(0,l.createElement)("option",{value:"$"},"$ (Budget)"),(0,l.createElement)("option",{value:"$$"},"$$ (Moderate)"),(0,l.createElement)("option",{value:"$$$"},"$$$ (Expensive)"),(0,l.createElement)("option",{value:"$$$$"},"$$$$ (Luxury)"))),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Latitude"),(0,l.createElement)("input",{type:"text",value:h.latitude,onChange:e=>_("latitude",e.target.value),placeholder:"40.7128"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Longitude"),(0,l.createElement)("input",{type:"text",value:h.longitude,onChange:e=>_("longitude",e.target.value),placeholder:"-74.0060"}))),(0,l.createElement)("div",{className:"card-footer"},(0,l.createElement)("button",{className:"button primary",onClick:async()=>{await C({local_business_name:h.name,local_business_type:h.type,local_description:h.description,local_phone:h.phone,local_email:h.email,local_street:h.street,local_city:h.city,local_state:h.state,local_zip:h.zip,local_country:h.country,local_latitude:h.latitude,local_longitude:h.longitude,local_price_range:h.priceRange})},disabled:t},t?"Saving...":"Save Business Info")))),(0,l.createElement)("div",{className:"card"},(0,l.createElement)("div",{className:"card-header"},(0,l.createElement)("div",null,(0,l.createElement)("h2",null,"Multiple Locations"),(0,l.createElement)("p",null,"Manage multiple business locations with individual schema output.")),(0,l.createElement)("label",{className:"toggle-switch"},(0,l.createElement)("input",{type:"checkbox",checked:u,onChange:async()=>{const e=!u;d(e),await C({local_enable_locations:e?"1":"0"})}}),(0,l.createElement)("span",{className:"toggle-slider"}))),u&&(0,l.createElement)("div",{className:"card-body"},(0,l.createElement)("div",{className:"locations-header"},(0,l.createElement)("button",{className:"button primary",onClick:()=>{E({...s,id:`loc_${Date.now()}`}),y(!0)}},"+ Add Location")),0===o.length?(0,l.createElement)("div",{className:"empty-state"},(0,l.createElement)("p",null,'No locations added yet. Click "Add Location" to create your first location.')):(0,l.createElement)("div",{className:"locations-list"},o.map(e=>(0,l.createElement)("div",{key:e.id,className:`location-card ${e.enabled?"":"disabled"} ${e.isPrimary?"primary":""}`},(0,l.createElement)("div",{className:"location-info"},(0,l.createElement)("div",{className:"location-header"},(0,l.createElement)("h3",null,e.name),e.isPrimary&&(0,l.createElement)("span",{className:"badge primary"},"Primary"),!e.enabled&&(0,l.createElement)("span",{className:"badge"},"Disabled")),(0,l.createElement)("p",{className:"location-address"},[e.street,e.city,e.state,e.zip].filter(Boolean).join(", ")),e.phone&&(0,l.createElement)("p",{className:"location-phone"},e.phone)),(0,l.createElement)("div",{className:"location-actions"},!e.isPrimary&&(0,l.createElement)("button",{className:"button ghost small",onClick:()=>(async e=>{const a=o.map(a=>({...a,isPrimary:a.id===e}));m(a),await C({local_locations:a})})(e.id),title:"Set as primary"},"Set Primary"),(0,l.createElement)("button",{className:"button ghost small",onClick:()=>(async e=>{const a=o.map(a=>a.id===e?{...a,enabled:!a.enabled}:a);m(a),await C({local_locations:a})})(e.id)},e.enabled?"Disable":"Enable"),(0,l.createElement)("button",{className:"button ghost small",onClick:()=>(e=>{E({...e}),y(!0)})(e)},"Edit"),(0,l.createElement)("button",{className:"button ghost small danger",onClick:()=>(async e=>{if(!window.confirm("Are you sure you want to delete this location?"))return;const a=o.filter(a=>a.id!==e);m(a),await C({local_locations:a})})(e.id)},"Delete"))))))),v&&p&&(0,l.createElement)("div",{className:"modal-overlay",onClick:()=>y(!1)},(0,l.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,l.createElement)("div",{className:"modal-header"},(0,l.createElement)("h2",null,p.id&&o.find(e=>e.id===p.id)?"Edit Location":"Add Location"),(0,l.createElement)("button",{className:"modal-close",onClick:()=>y(!1)},"Ã—")),(0,l.createElement)("div",{className:"modal-body"},(0,l.createElement)("div",{className:"form-grid"},(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Location Name *"),(0,l.createElement)("input",{type:"text",value:p.name,onChange:e=>E(a=>({...a,name:e.target.value})),placeholder:"Downtown Office"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Business Type"),(0,l.createElement)("select",{value:p.type,onChange:e=>E(a=>({...a,type:e.target.value}))},r.map(e=>(0,l.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Street Address *"),(0,l.createElement)("input",{type:"text",value:p.street,onChange:e=>E(a=>({...a,street:e.target.value})),placeholder:"456 Oak Avenue"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"City *"),(0,l.createElement)("input",{type:"text",value:p.city,onChange:e=>E(a=>({...a,city:e.target.value})),placeholder:"New York"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"State/Province"),(0,l.createElement)("input",{type:"text",value:p.state,onChange:e=>E(a=>({...a,state:e.target.value})),placeholder:"NY"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"ZIP/Postal Code"),(0,l.createElement)("input",{type:"text",value:p.zip,onChange:e=>E(a=>({...a,zip:e.target.value})),placeholder:"10001"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Country"),(0,l.createElement)("input",{type:"text",value:p.country,onChange:e=>E(a=>({...a,country:e.target.value})),placeholder:"US"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Phone"),(0,l.createElement)("input",{type:"tel",value:p.phone,onChange:e=>E(a=>({...a,phone:e.target.value})),placeholder:"+1 (555) 123-4567"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Email"),(0,l.createElement)("input",{type:"email",value:p.email,onChange:e=>E(a=>({...a,email:e.target.value})),placeholder:"branch@business.com"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Latitude"),(0,l.createElement)("input",{type:"text",value:p.latitude,onChange:e=>E(a=>({...a,latitude:e.target.value})),placeholder:"40.7128"})),(0,l.createElement)("div",{className:"form-field"},(0,l.createElement)("label",null,"Longitude"),(0,l.createElement)("input",{type:"text",value:p.longitude,onChange:e=>E(a=>({...a,longitude:e.target.value})),placeholder:"-74.0060"})),(0,l.createElement)("div",{className:"form-field full-width"},(0,l.createElement)("label",{className:"checkbox-label"},(0,l.createElement)("input",{type:"checkbox",checked:p.isPrimary,onChange:e=>E(a=>({...a,isPrimary:e.target.checked}))}),"Set as primary location")))),(0,l.createElement)("div",{className:"modal-footer"},(0,l.createElement)("button",{className:"button ghost",onClick:()=>y(!1)},"Cancel"),(0,l.createElement)("button",{className:"button primary",onClick:async()=>{if(!p.name||!p.street||!p.city)return void b({type:"error",message:"Name, street, and city are required."});let e;const a=o.findIndex(e=>e.id===p.id);a>=0?(e=[...o],e[a]=p):e=[...o,p],p.isPrimary&&(e=e.map(e=>({...e,isPrimary:e.id===p.id}))),m(e),await C({local_locations:e}),y(!1),E(null)},disabled:t},t?"Saving...":"Save Location")))))}}}]);