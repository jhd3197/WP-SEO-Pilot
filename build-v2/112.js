"use strict";(globalThis.webpackChunksaman_labs_seo=globalThis.webpackChunksaman_labs_seo||[]).push([[112],{112(e,t,a){a.r(t),a.d(t,{default:()=>m});var s=a(609),l=a(87),n=a(455),c=a.n(n);const r={excellent:{label:"Excellent",color:"var(--color-success)",class:"success"},good:{label:"Good",color:"var(--color-success)",class:"success"},fair:{label:"Fair",color:"var(--color-warning)",class:"warning"},poor:{label:"Needs Work",color:"var(--color-danger)",class:"danger"}},i={error:1,warning:2,info:3},o={redirects:"redirects",404:"404-log",audit:"audit",sitemap:"sitemap",content:"audit",seo:"audit"},m=({onNavigate:e})=>{const[t,a]=(0,l.useState)(!0),[n,m]=(0,l.useState)(null),[d,u]=(0,l.useState)(null),[E,h]=(0,l.useState)(!1),p=(0,l.useCallback)(async()=>{a(!0);try{const e=await c()({path:"/samanlabs-seo/v1/dashboard"});e.success&&m(e.data)}catch(e){console.error("Failed to fetch dashboard:",e)}finally{a(!1)}},[]);(0,l.useEffect)(()=>{p()},[p]);const v=t=>{e&&e(t)};if(t)return(0,s.createElement)("div",{className:"page"},(0,s.createElement)("div",{className:"page-header"},(0,s.createElement)("div",null,(0,s.createElement)("h1",null,"Dashboard"),(0,s.createElement)("p",null,"SEO health, content insights, and optimization status at a glance."))),(0,s.createElement)("div",{className:"loading-state"},"Loading dashboard data..."));const g=n?.seo_score||{score:0,level:"poor",issues:0},N=n?.content_coverage||{total:0,optimized:0,pending:0,daily_stats:[]},b=n?.sitemap||{enabled:!1,total_urls:0,last_generated:"Never"},k=n?.redirects||{active:0,hits_today:0,suggestions:0},w=n?.errors_404||{total:0,last_30_days:0},y=n?.schema||{status:"partial",types:[]},f=[...n?.notifications||[]].sort((e,t)=>(i[e.type]||99)-(i[t.type]||99)),_=E?f:f.slice(0,3),C=f.length>3,x=r[g.level]||r.poor;return(0,s.createElement)("div",{className:"page"},(0,s.createElement)("div",{className:"page-header"},(0,s.createElement)("div",null,(0,s.createElement)("h1",null,"Dashboard"),(0,s.createElement)("p",null,"SEO health, content insights, and optimization status at a glance.")),(0,s.createElement)("button",{type:"button",className:"button primary",onClick:()=>{v("audit")}},"Run SEO Audit")),_.length>0&&(0,s.createElement)("div",{className:"dashboard-notifications"},_.map(e=>(0,s.createElement)("div",{key:e.id,className:`notification-banner notification-banner--${e.type}`},(0,s.createElement)("div",{className:"notification-icon"},"error"===e.type&&(0,s.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,s.createElement)("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})),"warning"===e.type&&(0,s.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M12 9v4m0 4h.01M4.93 19h14.14c1.54 0 2.5-1.67 1.73-3L13.73 4c-.77-1.33-2.69-1.33-3.46 0L3.2 16c-.77 1.33.19 3 1.73 3z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"info"===e.type&&(0,s.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,s.createElement)("path",{d:"M12 16v-4m0-4h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,s.createElement)("div",{className:"notification-content"},(0,s.createElement)("strong",null,e.title),(0,s.createElement)("span",null,e.message)),(0,s.createElement)("div",{className:"notification-actions"},e.action&&(0,s.createElement)("button",{type:"button",className:"button small",onClick:()=>v(o[e.category]||"tools")},e.action.label),(0,s.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(async e=>{u(e);try{await c()({path:`/samanlabs-seo/v1/dashboard/notifications/${e}/dismiss`,method:"POST"}),m(t=>({...t,notifications:t.notifications.filter(t=>t.id!==e)}))}catch(e){console.error("Failed to dismiss notification:",e)}finally{u(null)}})(e.id),disabled:d===e.id,"aria-label":"Dismiss notification"},d===e.id?(0,s.createElement)("span",{className:"loading-dots"},"..."):(0,s.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})))))),C&&(0,s.createElement)("button",{type:"button",className:"notifications-toggle",onClick:()=>h(!E)},E?"Show less":`View all ${f.length} notifications`)),(0,s.createElement)("div",{className:"dashboard-grid"},(0,s.createElement)("div",{className:"dashboard-card seo-score-card"},(0,s.createElement)("div",{className:"card-header"},(0,s.createElement)("h3",null,"SEO Score"),(0,s.createElement)("span",{className:`pill ${x.class}`},x.label)),(0,s.createElement)("div",{className:"seo-score-content"},(0,s.createElement)("div",{className:"score-gauge"},(0,s.createElement)("svg",{viewBox:"0 0 120 120",className:"gauge-svg"},(0,s.createElement)("circle",{className:"gauge-bg",cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10"}),(0,s.createElement)("circle",{className:"gauge-fill",cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10",strokeDasharray:g.score/100*314+" 314",strokeLinecap:"round",style:{stroke:x.color}})),(0,s.createElement)("div",{className:"gauge-center"},(0,s.createElement)("div",{className:"gauge-value"},g.score,"%"),(0,s.createElement)("div",{className:"gauge-label"},g.posts_scored||0," posts"))),(0,s.createElement)("div",{className:"score-breakdown"},(0,s.createElement)("div",{className:"breakdown-item"},(0,s.createElement)("span",{className:"breakdown-dot excellent"}),(0,s.createElement)("span",{className:"breakdown-label"},"Excellent (80+)"),(0,s.createElement)("span",{className:"breakdown-value"},g.distribution?.excellent||0)),(0,s.createElement)("div",{className:"breakdown-item"},(0,s.createElement)("span",{className:"breakdown-dot good"}),(0,s.createElement)("span",{className:"breakdown-label"},"Good (60-79)"),(0,s.createElement)("span",{className:"breakdown-value"},g.distribution?.good||0)),(0,s.createElement)("div",{className:"breakdown-item"},(0,s.createElement)("span",{className:"breakdown-dot fair"}),(0,s.createElement)("span",{className:"breakdown-label"},"Fair (40-59)"),(0,s.createElement)("span",{className:"breakdown-value"},g.distribution?.fair||0)),(0,s.createElement)("div",{className:"breakdown-item"},(0,s.createElement)("span",{className:"breakdown-dot poor"}),(0,s.createElement)("span",{className:"breakdown-label"},"Poor (<40)"),(0,s.createElement)("span",{className:"breakdown-value"},g.distribution?.poor||0)))),g.issues>0&&(0,s.createElement)("p",{className:"card-note"},g.issues," post",1!==g.issues?"s":""," could use optimization.")),(0,s.createElement)("div",{className:"dashboard-card content-coverage-card"},(0,s.createElement)("div",{className:"card-header"},(0,s.createElement)("h3",null,"Content Coverage"),(0,s.createElement)("span",{className:"pill"},N.coverage_pct||0,"% Optimized")),(0,s.createElement)("div",{className:"coverage-content"},(0,s.createElement)("div",{className:"coverage-chart"},(0,s.createElement)("div",{className:"spark-bars","aria-hidden":"true"},(N.daily_stats||[]).map((e,t)=>{const a=Math.max(...N.daily_stats.map(e=>e.optimized||0),1),l=Math.max(15,(e.optimized||0)/a*100);return(0,s.createElement)("div",{key:t,className:"spark-bar-wrapper",title:`${e.label}: ${e.optimized} optimized`},(0,s.createElement)("span",{style:{height:`${l}%`}}),(0,s.createElement)("span",{className:"spark-label"},e.label))}))),(0,s.createElement)("div",{className:"coverage-stats"},(0,s.createElement)("div",{className:"coverage-stat"},(0,s.createElement)("div",{className:"coverage-stat-value"},N.optimized||0),(0,s.createElement)("div",{className:"coverage-stat-label"},"Optimized")),(0,s.createElement)("div",{className:"coverage-stat pending"},(0,s.createElement)("div",{className:"coverage-stat-value"},N.pending||0),(0,s.createElement)("div",{className:"coverage-stat-label"},"Pending")))),(0,s.createElement)("p",{className:"card-note"},N.total||0," total pages · ",N.with_title||0," with titles · ",N.with_description||0," with descriptions"))),(0,s.createElement)("div",{className:"card-grid",style:{marginTop:"var(--space-lg)"}},(0,s.createElement)("div",{className:"card"},(0,s.createElement)("div",{className:"card-header"},(0,s.createElement)("h3",null,"Sitemap Status"),(0,s.createElement)("span",{className:"pill "+(b.enabled?"success":"warning")},b.status_label||(b.enabled?"Active":"Disabled"))),(0,s.createElement)("div",{className:"status-row"},(0,s.createElement)("span",{className:"status-dot "+(b.enabled?"success":"warning"),"aria-hidden":"true"}),(0,s.createElement)("div",null,(0,s.createElement)("div",{className:"status-title"},b.enabled?`${b.total_urls} URLs indexed`:"Sitemap disabled"),(0,s.createElement)("div",{className:"status-subtitle"},b.enabled?`Last generated: ${b.last_generated}`:"Enable to help search engines"))),(0,s.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("sitemap")},b.enabled?"View Sitemap":"Enable Sitemap")),(0,s.createElement)("div",{className:"card"},(0,s.createElement)("div",{className:"card-header"},(0,s.createElement)("h3",null,"Redirects"),(0,s.createElement)("span",{className:"pill "+(k.active>0?"success":"")},k.active," Active")),(0,s.createElement)("div",{className:"status-row"},(0,s.createElement)("span",{className:"status-dot "+(k.suggestions>0?"warning":"success"),"aria-hidden":"true"}),(0,s.createElement)("div",null,(0,s.createElement)("div",{className:"status-title"},k.suggestions>0?`${k.suggestions} pending suggestion${1!==k.suggestions?"s":""}`:"All redirects working"),(0,s.createElement)("div",{className:"status-subtitle"},k.hits_today||0," hits today"))),(0,s.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("redirects")},"Manage Redirects")),(0,s.createElement)("div",{className:"card"},(0,s.createElement)("div",{className:"card-header"},(0,s.createElement)("h3",null,"404 Errors"),(0,s.createElement)("span",{className:"pill "+(w.last_30_days>0?"warning":"success")},w.last_30_days>0?`${w.last_30_days} Found`:"None")),(0,s.createElement)("div",{className:"status-row"},(0,s.createElement)("span",{className:"status-dot "+(w.last_30_days>0?"warning":"success"),"aria-hidden":"true"}),(0,s.createElement)("div",null,(0,s.createElement)("div",{className:"status-title"},w.last_7_days>0?`${w.last_7_days} errors this week`:"No recent errors"),(0,s.createElement)("div",{className:"status-subtitle"},"Last 30 days"))),(0,s.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("404-log")},"View 404 Log")),(0,s.createElement)("div",{className:"card"},(0,s.createElement)("div",{className:"card-header"},(0,s.createElement)("h3",null,"Schema Markup"),(0,s.createElement)("span",{className:"pill "+("valid"===y.status?"success":"")},y.status_label||y.status)),(0,s.createElement)("div",{className:"status-row"},(0,s.createElement)("span",{className:"status-dot "+("valid"===y.status?"success":""),"aria-hidden":"true"}),(0,s.createElement)("div",null,(0,s.createElement)("div",{className:"status-title"},y.types?.length>0?y.types.slice(0,3).join(", "):"Basic markup"),(0,s.createElement)("div",{className:"status-subtitle"},y.types?.length>3?`+${y.types.length-3} more types`:"Schema types active"))),(0,s.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("search-appearance")},"Configure Schema"))),(0,s.createElement)("div",{className:"dashboard-actions"},(0,s.createElement)("h3",null,"Quick Actions"),(0,s.createElement)("div",{className:"actions-grid"},(0,s.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("audit")},(0,s.createElement)("div",{className:"action-icon"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,s.createElement)("div",{className:"action-content"},(0,s.createElement)("strong",null,"Run SEO Audit"),(0,s.createElement)("span",null,"Scan for issues"))),(0,s.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("redirects")},(0,s.createElement)("div",{className:"action-icon"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,s.createElement)("div",{className:"action-content"},(0,s.createElement)("strong",null,"Manage Redirects"),(0,s.createElement)("span",null,k.suggestions>0?`${k.suggestions} suggestions`:"All good"))),(0,s.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("sitemap")},(0,s.createElement)("div",{className:"action-icon"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M4 6h16M4 12h16M4 18h10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,s.createElement)("div",{className:"action-content"},(0,s.createElement)("strong",null,"View Sitemap"),(0,s.createElement)("span",null,b.total_urls," URLs"))),(0,s.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("ai-assistant")},(0,s.createElement)("div",{className:"action-icon"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,s.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z",stroke:"currentColor",strokeWidth:"2"}),(0,s.createElement)("circle",{cx:"9",cy:"13",r:"1",fill:"currentColor"}),(0,s.createElement)("circle",{cx:"15",cy:"13",r:"1",fill:"currentColor"}))),(0,s.createElement)("div",{className:"action-content"},(0,s.createElement)("strong",null,"AI Assistant"),(0,s.createElement)("span",null,"Generate content"))))))}}}]);