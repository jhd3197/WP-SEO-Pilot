(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.element,l=window.wp.apiFetch;var n=e.n(l);const s=[{id:"dashboard",label:"Dashboard"},{id:"search-appearance",label:"Search Appearance"},{id:"sitemap",label:"Sitemap"},{id:"tools",label:"Tools"},{id:"settings",label:"Settings"},{id:"more",label:"More"}],r=({currentView:e,onNavigate:a})=>(0,t.createElement)("header",{className:"top-bar"},(0,t.createElement)("div",{className:"brand"},(0,t.createElement)("span",{className:"brand-icon","aria-hidden":"true"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false",preserveAspectRatio:"xMidYMid meet"},(0,t.createElement)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}))),(0,t.createElement)("span",{className:"brand-name"},"WP SEO Pilot")),(0,t.createElement)("nav",{className:"main-nav","aria-label":"Primary"},s.map(l=>(0,t.createElement)("button",{key:l.id,type:"button",className:"nav-tab "+(e===l.id?"is-active":""),"aria-current":e===l.id?"page":void 0,onClick:()=>a(l.id)},l.label))),(0,t.createElement)("div",{className:"nav-actions"},(0,t.createElement)("a",{className:"icon-button",href:"https://github.com/jhd3197/WP-SEO-Pilot",target:"_blank",rel:"noreferrer","aria-label":"Open GitHub repository"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M12 2C6.5 2 2 6.6 2 12.3c0 4.6 2.9 8.5 6.9 9.9.5.1.7-.2.7-.5v-1.9c-2.8.6-3.3-1.2-3.3-1.2-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.1.1 1.7 1.2 1.7 1.2 1 .1.7 1.7 2.6 1.2.1-.8.4-1.2.7-1.5-2.2-.2-4.5-1.2-4.5-5.2 0-1.1.4-2 1-2.7-.1-.2-.4-1.3.1-2.7 0 0 .8-.2 2.7 1a9.2 9.2 0 0 1 4.9 0c1.9-1.2 2.7-1 2.7-1 .5 1.4.2 2.5.1 2.7.6.7 1 1.6 1 2.7 0 4-2.3 5-4.5 5.2.4.3.8 1 .8 2.1v3c0 .3.2.6.7.5 4-1.4 6.9-5.3 6.9-9.9C22 6.6 17.5 2 12 2z"}))))),c={excellent:{label:"Excellent",color:"var(--color-success)",class:"success"},good:{label:"Good",color:"var(--color-success)",class:"success"},fair:{label:"Fair",color:"var(--color-warning)",class:"warning"},poor:{label:"Needs Work",color:"var(--color-danger)",class:"danger"}},i={error:1,warning:2,info:3},o={redirects:"redirects",404:"404-log",audit:"audit",sitemap:"sitemap",content:"audit",seo:"audit"},m=({onNavigate:e})=>{const[l,s]=(0,a.useState)(!0),[r,m]=(0,a.useState)(null),[d,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(!1),E=(0,a.useCallback)(async()=>{s(!0);try{const e=await n()({path:"/wpseopilot/v2/dashboard"});e.success&&m(e.data)}catch(e){console.error("Failed to fetch dashboard:",e)}finally{s(!1)}},[]);(0,a.useEffect)(()=>{E()},[E]);const h=t=>{e&&e(t)};if(l)return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Dashboard"),(0,t.createElement)("p",null,"SEO health, content insights, and optimization status at a glance."))),(0,t.createElement)("div",{className:"loading-state"},"Loading dashboard data..."));const v=r?.seo_score||{score:0,level:"poor",issues:0},b=r?.content_coverage||{total:0,optimized:0,pending:0,daily_stats:[]},y=r?.sitemap||{enabled:!1,total_urls:0,last_generated:"Never"},N=r?.redirects||{active:0,hits_today:0,suggestions:0},_=r?.errors_404||{total:0,last_30_days:0},k=r?.schema||{status:"partial",types:[]},f=[...r?.notifications||[]].sort((e,t)=>(i[e.type]||99)-(i[t.type]||99)),w=u?f:f.slice(0,3),x=f.length>3,C=c[v.level]||c.poor;return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Dashboard"),(0,t.createElement)("p",null,"SEO health, content insights, and optimization status at a glance.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>{h("audit")}},"Run SEO Audit")),w.length>0&&(0,t.createElement)("div",{className:"dashboard-notifications"},w.map(e=>(0,t.createElement)("div",{key:e.id,className:`notification-banner notification-banner--${e.type}`},(0,t.createElement)("div",{className:"notification-icon"},"error"===e.type&&(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})),"warning"===e.type&&(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 9v4m0 4h.01M4.93 19h14.14c1.54 0 2.5-1.67 1.73-3L13.73 4c-.77-1.33-2.69-1.33-3.46 0L3.2 16c-.77 1.33.19 3 1.73 3z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"info"===e.type&&(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("path",{d:"M12 16v-4m0-4h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"notification-content"},(0,t.createElement)("strong",null,e.title),(0,t.createElement)("span",null,e.message)),(0,t.createElement)("div",{className:"notification-actions"},e.action&&(0,t.createElement)("button",{type:"button",className:"button small",onClick:()=>h(o[e.category]||"tools")},e.action.label),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(async e=>{p(e);try{await n()({path:`/wpseopilot/v2/dashboard/notifications/${e}/dismiss`,method:"POST"}),m(t=>({...t,notifications:t.notifications.filter(t=>t.id!==e)}))}catch(e){console.error("Failed to dismiss notification:",e)}finally{p(null)}})(e.id),disabled:d===e.id,"aria-label":"Dismiss notification"},d===e.id?(0,t.createElement)("span",{className:"loading-dots"},"..."):(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})))))),x&&(0,t.createElement)("button",{type:"button",className:"notifications-toggle",onClick:()=>g(!u)},u?"Show less":`View all ${f.length} notifications`)),(0,t.createElement)("div",{className:"dashboard-grid"},(0,t.createElement)("div",{className:"dashboard-card seo-score-card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"SEO Score"),(0,t.createElement)("span",{className:`pill ${C.class}`},C.label)),(0,t.createElement)("div",{className:"seo-score-content"},(0,t.createElement)("div",{className:"score-gauge"},(0,t.createElement)("svg",{viewBox:"0 0 120 120",className:"gauge-svg"},(0,t.createElement)("circle",{className:"gauge-bg",cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10"}),(0,t.createElement)("circle",{className:"gauge-fill",cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10",strokeDasharray:v.score/100*314+" 314",strokeLinecap:"round",style:{stroke:C.color}})),(0,t.createElement)("div",{className:"gauge-center"},(0,t.createElement)("div",{className:"gauge-value"},v.score,"%"),(0,t.createElement)("div",{className:"gauge-label"},v.posts_scored||0," posts"))),(0,t.createElement)("div",{className:"score-breakdown"},(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot excellent"}),(0,t.createElement)("span",{className:"breakdown-label"},"Excellent (80+)"),(0,t.createElement)("span",{className:"breakdown-value"},v.distribution?.excellent||0)),(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot good"}),(0,t.createElement)("span",{className:"breakdown-label"},"Good (60-79)"),(0,t.createElement)("span",{className:"breakdown-value"},v.distribution?.good||0)),(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot fair"}),(0,t.createElement)("span",{className:"breakdown-label"},"Fair (40-59)"),(0,t.createElement)("span",{className:"breakdown-value"},v.distribution?.fair||0)),(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot poor"}),(0,t.createElement)("span",{className:"breakdown-label"},"Poor (<40)"),(0,t.createElement)("span",{className:"breakdown-value"},v.distribution?.poor||0)))),v.issues>0&&(0,t.createElement)("p",{className:"card-note"},v.issues," post",1!==v.issues?"s":""," could use optimization.")),(0,t.createElement)("div",{className:"dashboard-card content-coverage-card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Content Coverage"),(0,t.createElement)("span",{className:"pill"},b.coverage_pct||0,"% Optimized")),(0,t.createElement)("div",{className:"coverage-content"},(0,t.createElement)("div",{className:"coverage-chart"},(0,t.createElement)("div",{className:"spark-bars","aria-hidden":"true"},(b.daily_stats||[]).map((e,a)=>{const l=Math.max(...b.daily_stats.map(e=>e.optimized||0),1),n=Math.max(15,(e.optimized||0)/l*100);return(0,t.createElement)("div",{key:a,className:"spark-bar-wrapper",title:`${e.label}: ${e.optimized} optimized`},(0,t.createElement)("span",{style:{height:`${n}%`}}),(0,t.createElement)("span",{className:"spark-label"},e.label))}))),(0,t.createElement)("div",{className:"coverage-stats"},(0,t.createElement)("div",{className:"coverage-stat"},(0,t.createElement)("div",{className:"coverage-stat-value"},b.optimized||0),(0,t.createElement)("div",{className:"coverage-stat-label"},"Optimized")),(0,t.createElement)("div",{className:"coverage-stat pending"},(0,t.createElement)("div",{className:"coverage-stat-value"},b.pending||0),(0,t.createElement)("div",{className:"coverage-stat-label"},"Pending")))),(0,t.createElement)("p",{className:"card-note"},b.total||0," total pages · ",b.with_title||0," with titles · ",b.with_description||0," with descriptions"))),(0,t.createElement)("div",{className:"card-grid",style:{marginTop:"var(--space-lg)"}},(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Sitemap Status"),(0,t.createElement)("span",{className:"pill "+(y.enabled?"success":"warning")},y.status_label||(y.enabled?"Active":"Disabled"))),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+(y.enabled?"success":"warning"),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},y.enabled?`${y.total_urls} URLs indexed`:"Sitemap disabled"),(0,t.createElement)("div",{className:"status-subtitle"},y.enabled?`Last generated: ${y.last_generated}`:"Enable to help search engines"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>h("sitemap")},y.enabled?"View Sitemap":"Enable Sitemap")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Redirects"),(0,t.createElement)("span",{className:"pill "+(N.active>0?"success":"")},N.active," Active")),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+(N.suggestions>0?"warning":"success"),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},N.suggestions>0?`${N.suggestions} pending suggestion${1!==N.suggestions?"s":""}`:"All redirects working"),(0,t.createElement)("div",{className:"status-subtitle"},N.hits_today||0," hits today"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>h("redirects")},"Manage Redirects")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"404 Errors"),(0,t.createElement)("span",{className:"pill "+(_.last_30_days>0?"warning":"success")},_.last_30_days>0?`${_.last_30_days} Found`:"None")),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+(_.last_30_days>0?"warning":"success"),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},_.last_7_days>0?`${_.last_7_days} errors this week`:"No recent errors"),(0,t.createElement)("div",{className:"status-subtitle"},"Last 30 days"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>h("404-log")},"View 404 Log")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Schema Markup"),(0,t.createElement)("span",{className:"pill "+("valid"===k.status?"success":"")},k.status_label||k.status)),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+("valid"===k.status?"success":""),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},k.types?.length>0?k.types.slice(0,3).join(", "):"Basic markup"),(0,t.createElement)("div",{className:"status-subtitle"},k.types?.length>3?`+${k.types.length-3} more types`:"Schema types active"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>h("search-appearance")},"Configure Schema"))),(0,t.createElement)("div",{className:"dashboard-actions"},(0,t.createElement)("h3",null,"Quick Actions"),(0,t.createElement)("div",{className:"actions-grid"},(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>h("audit")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"Run SEO Audit"),(0,t.createElement)("span",null,"Scan for issues"))),(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>h("redirects")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"Manage Redirects"),(0,t.createElement)("span",null,N.suggestions>0?`${N.suggestions} suggestions`:"All good"))),(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>h("sitemap")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M4 6h16M4 12h16M4 18h10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"View Sitemap"),(0,t.createElement)("span",null,y.total_urls," URLs"))),(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>h("ai-assistant")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("circle",{cx:"9",cy:"13",r:"1",fill:"currentColor"}),(0,t.createElement)("circle",{cx:"15",cy:"13",r:"1",fill:"currentColor"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"AI Assistant"),(0,t.createElement)("span",null,"Generate content"))))))},d=({tabs:e,activeTab:a,onChange:l,ariaLabel:n})=>(0,t.createElement)("div",{className:"sub-tabs",role:"tablist","aria-label":n},e.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",role:"tab",className:"sub-tab "+(a===e.id?"is-active":""),"aria-selected":a===e.id,onClick:()=>l(e.id)},e.label))),p=({title:e="",description:a="",url:l="",domain:n="",favicon:s="",maxTitleLength:r=60,maxDescriptionLength:c=155})=>{const i=e.length,o=a.length,m=i>r,d=o>c,p=m?e.substring(0,r)+"...":e,u=d?a.substring(0,c)+"...":a;return(0,t.createElement)("div",{className:"search-preview"},(0,t.createElement)("div",{className:"search-preview__header"},(0,t.createElement)("span",{className:"search-preview__label"},"Search Result Preview")),(0,t.createElement)("div",{className:"search-preview__body"},(0,t.createElement)("div",{className:"search-preview__url"},s?(0,t.createElement)("img",{src:s,alt:"",className:"search-preview__favicon"}):(0,t.createElement)("span",{className:"search-preview__favicon-placeholder"}),(0,t.createElement)("span",{className:"search-preview__domain"},n||l)),(0,t.createElement)("div",{className:"search-preview__title"},p||"Page Title"),(0,t.createElement)("div",{className:"search-preview__description"},u||"Meta description will appear here...")),(0,t.createElement)("div",{className:"search-preview__footer"},(0,t.createElement)("span",{className:"search-preview__counter "+(m?"over-limit":"")},(0,t.createElement)("strong",null,i)," / ",r," chars (title)"),(0,t.createElement)("span",{className:"search-preview__counter "+(d?"over-limit":"")},(0,t.createElement)("strong",null,o)," / ",c," chars (description)")))},u=({variables:e={},onSelect:l,context:n="global",buttonLabel:s="Variables",disabled:r=!1,compact:c=!1,isOpen:i,onToggle:o,onClose:m})=>{const[d,p]=(0,a.useState)(!1),[u,g]=(0,a.useState)(""),E=(0,a.useRef)(null),h=void 0!==i?i:d,v=e=>{void 0!==i?e?o?.():m?.():p(e)};(0,a.useEffect)(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&v(!1)};return h&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[h,i]);const b=e=>{l&&l(`{{${e.tag}}}`),v(!1),g("")},y=()=>{void 0!==i?o?.():p(!d)},N=h?(()=>{const t={},a={global:["global"],post:["global","post"],taxonomy:["global","taxonomy"],archive:["global","archive","author"],author:["global","author"],date:["global","archive"],search:["global"],404:["global"]}[n]||["global"];return Object.entries(e).forEach(([e,l])=>{if(!a.includes(e))return;const n=(l.vars||[]).filter(e=>{if(!u)return!0;const t=u.toLowerCase();return e.tag.toLowerCase().includes(t)||e.label.toLowerCase().includes(t)||e.desc&&e.desc.toLowerCase().includes(t)});n.length>0&&(t[e]={...l,vars:n})}),t})():{};return c?(0,t.createElement)("div",{className:"variable-picker variable-picker--compact",ref:E},(0,t.createElement)("button",{type:"button",className:"template-input-v2__action-btn template-input-v2__action-btn--vars",onClick:y,disabled:r,title:"Insert variable"},(0,t.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M4 7h3a1 1 0 0 0 1-1V3"}),(0,t.createElement)("path",{d:"M20 7h-3a1 1 0 0 1-1-1V3"}),(0,t.createElement)("path",{d:"M4 17h3a1 1 0 0 1 1 1v3"}),(0,t.createElement)("path",{d:"M20 17h-3a1 1 0 0 0-1 1v3"}),(0,t.createElement)("path",{d:"M9 12h6"}),(0,t.createElement)("path",{d:"M12 9v6"}))),h&&(0,t.createElement)("div",{className:"variable-picker__dropdown"},(0,t.createElement)("div",{className:"variable-picker__search"},(0,t.createElement)("input",{type:"text",placeholder:"Search variables...",value:u,onChange:e=>g(e.target.value),autoFocus:!0})),(0,t.createElement)("div",{className:"variable-picker__groups"},Object.entries(N).map(([e,a])=>(0,t.createElement)("div",{key:e,className:"variable-picker__group"},(0,t.createElement)("div",{className:`variable-picker__group-label variable-picker__group-label--${e}`},a.label),(0,t.createElement)("div",{className:"variable-picker__items"},a.vars.map(a=>(0,t.createElement)("button",{key:a.tag,type:"button",className:"variable-picker__item",onClick:()=>b(a)},(0,t.createElement)("div",{className:"variable-picker__item-header"},(0,t.createElement)("code",{className:`variable-picker__tag variable-picker__tag--${e}`},a.tag),(0,t.createElement)("span",{className:"variable-picker__label"},a.label)),a.preview&&(0,t.createElement)("div",{className:"variable-picker__preview"},a.preview)))))),0===Object.keys(N).length&&(0,t.createElement)("div",{className:"variable-picker__empty"},"No variables found")))):(0,t.createElement)("div",{className:"variable-picker",ref:E},(0,t.createElement)("button",{type:"button",className:"variable-picker__trigger",onClick:y,disabled:r,title:"Insert variable"},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M4.5 2A2.5 2.5 0 002 4.5v3.879a2.5 2.5 0 00.732 1.767l7.5 7.5a2.5 2.5 0 003.536 0l3.878-3.878a2.5 2.5 0 000-3.536l-7.5-7.5A2.5 2.5 0 008.38 2H4.5zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),(0,t.createElement)("span",null,s)),h&&(0,t.createElement)("div",{className:"variable-picker__dropdown"},(0,t.createElement)("div",{className:"variable-picker__search"},(0,t.createElement)("input",{type:"text",placeholder:"Search variables...",value:u,onChange:e=>g(e.target.value),autoFocus:!0})),(0,t.createElement)("div",{className:"variable-picker__groups"},Object.entries(N).map(([e,a])=>(0,t.createElement)("div",{key:e,className:"variable-picker__group"},(0,t.createElement)("div",{className:`variable-picker__group-label variable-picker__group-label--${e}`},a.label),(0,t.createElement)("div",{className:"variable-picker__items"},a.vars.map(a=>(0,t.createElement)("button",{key:a.tag,type:"button",className:"variable-picker__item",onClick:()=>b(a)},(0,t.createElement)("div",{className:"variable-picker__item-header"},(0,t.createElement)("code",{className:`variable-picker__tag variable-picker__tag--${e}`},a.tag),(0,t.createElement)("span",{className:"variable-picker__label"},a.label)),a.preview&&(0,t.createElement)("div",{className:"variable-picker__preview"},a.preview)))))),0===Object.keys(N).length&&(0,t.createElement)("div",{className:"variable-picker__empty"},"No variables found"))))},g={site_title:"global",tagline:"global",site_url:"global",separator:"separator",current_year:"global",current_month:"global",current_day:"global",post_title:"post",post_excerpt:"post",post_date:"post",post_modified:"post",post_author:"post",post_id:"post",post_content:"post",term_title:"taxonomy",term_description:"taxonomy",term_count:"taxonomy",author_name:"author",author_bio:"author",archive_title:"archive",search_query:"archive",page_number:"archive"},E=e=>{const t=e.indexOf("|");return t>-1?e.substring(0,t).trim():e.trim()},h=e=>{const t=E(e);return g[t]||"global"},v=({value:e="",onChange:l,placeholder:n="",variables:s={},variableValues:r={},context:c="global",multiline:i=!1,maxLength:o=null,label:m="",helpText:d="",id:p,disabled:g=!1,onAiClick:v=null,showAiButton:b=!0,aiEnabled:y=!0,aiDisabledReason:N=null})=>{const _=(0,a.useRef)(null),k=(0,a.useRef)(null),[f,w]=(0,a.useState)(!1),[x,C]=(0,a.useState)(!1),[S,P]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=_.current,t=k.current;if(!e||!t)return;const a=()=>{t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)},[]);const A=(0,a.useMemo)(()=>{if(!e)return[];const t=[];let a=0;const l=/\{\{([^}]+)\}\}/g;let n;for(;null!==(n=l.exec(e));){n.index>a&&t.push({type:"text",content:e.slice(a,n.index)});const s=n[1].trim(),c=E(s),i=h(c),o=r[c]||r[`{{${c}}}`];t.push({type:"variable",fullTag:s,baseTag:c,raw:n[0],preview:o||c,varType:i}),a=l.lastIndex}return a<e.length&&t.push({type:"text",content:e.slice(a)}),t},[e,r]),T=e.length,L=o&&T>o,M=i?"textarea":"input";return(0,t.createElement)("div",{className:`template-input-v2 ${f?"is-focused":""} ${g?"is-disabled":""}`},m&&(0,t.createElement)("label",{className:"template-input-v2__label",htmlFor:p},m),(0,t.createElement)("div",{className:"template-input-v2__container"},(0,t.createElement)("div",{ref:k,className:"template-input-v2__highlight "+(i?"multiline":""),"aria-hidden":"true"},A.map((e,a)=>"variable"===e.type?(0,t.createElement)("span",{key:a,className:`template-input-v2__var template-input-v2__var--${e.varType}`,onMouseEnter:()=>P({...e,index:a}),onMouseLeave:()=>P(null)},(0,t.createElement)("span",{className:"template-input-v2__bracket"},"{"),(0,t.createElement)("span",{className:"template-input-v2__bracket"},"{"),(0,t.createElement)("span",{className:"template-input-v2__tag"},e.fullTag),(0,t.createElement)("span",{className:"template-input-v2__bracket"},"}"),(0,t.createElement)("span",{className:"template-input-v2__bracket"},"}"),S?.index===a&&e.preview&&(0,t.createElement)("span",{className:"template-input-v2__tooltip"},e.preview)):(0,t.createElement)("span",{key:a},e.content)),!e&&(0,t.createElement)("span",{className:"template-input-v2__placeholder"},n)),(0,t.createElement)(M,{ref:_,id:p,type:i?void 0:"text",className:"template-input-v2__field "+(i?"multiline":""),value:e,onChange:e=>l(e.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1),placeholder:"",disabled:g,rows:i?3:void 0}),(0,t.createElement)("div",{className:"template-input-v2__actions"},b&&(0,t.createElement)("button",{type:"button",className:"template-input-v2__action-btn template-input-v2__action-btn--ai "+(y?"":"is-disabled"),onClick:()=>{y&&v?v():y||window.confirm("AI features require WP AI Pilot to be configured.\n\nWould you like to open the AI settings now?")&&(window.location.href="admin.php?page=wp-ai-pilot")},disabled:g,title:"Generate with AI"},(0,t.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"4"}))),(0,t.createElement)(u,{variables:s,context:c,onSelect:t=>{const a=_.current;if(!a)return void l(e+t);const n=a.selectionStart,s=a.selectionEnd,r=e.slice(0,n)+t+e.slice(s);l(r),C(!1),requestAnimationFrame(()=>{const e=n+t.length;a.setSelectionRange(e,e),a.focus()})},disabled:g,isOpen:x,onToggle:()=>C(!x),onClose:()=>C(!1),compact:!0}))),(d||o)&&(0,t.createElement)("div",{className:"template-input-v2__footer"},d&&(0,t.createElement)("span",{className:"template-input-v2__help"},d),o&&(0,t.createElement)("span",{className:"template-input-v2__counter "+(L?"over-limit":"")},T,"/",o)))},b=window?.wpseopilotV2Settings||{},y=b.aiEnabled||!1,N=b.aiProvider||"none",_=b.aiPilot||null,k=({isOpen:e,onClose:l,onGenerate:s,fieldType:r="title",currentValue:c="",placeholder:i="",variableValues:o={},context:m={}})=>{const[d,p]=(0,a.useState)(!1),[u,g]=(0,a.useState)(null),[E,h]=(0,a.useState)(!0),[v,b]=(0,a.useState)(""),[k,f]=(0,a.useState)(null),w=(0,a.useCallback)(()=>{if(!E)return"";const e=[];m.type&&e.push(`Content type: ${m.type}`),m.name&&e.push(`Name: ${m.name}`);const t=Object.entries(o).filter(([e,t])=>t&&"string"==typeof t).map(([e,t])=>`${e.replace(/_/g," ")}: ${t}`);return t.length>0&&(e.push("Available data:"),e.push(...t)),e.join("\n")},[E,o,m]),x=async()=>{p(!0),g(null),f(null);try{let e="";e=v||w()||"Generate SEO metadata for a website.",e+="title"===r?"\n\nGenerate an SEO-optimized title (max 60 characters).":"\n\nGenerate an SEO-optimized meta description (max 155 characters).";const t=await n()({path:"/wpseopilot/v2/ai/generate",method:"POST",data:{content:e,type:r}});if(t.success&&t.data){const e="title"===r?t.data.title:t.data.description;f(e)}else g(t.message||"Failed to generate content")}catch(e){g(e.message||"An error occurred during generation")}finally{p(!1)}},C=()=>{f(null),g(null),b(""),l()};return e?y?(0,t.createElement)("div",{className:"ai-generate-modal-overlay",onClick:C},(0,t.createElement)("div",{className:"ai-generate-modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"ai-generate-modal__header"},(0,t.createElement)("h3",null,(0,t.createElement)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"4"})),"Generate ","title"===r?"Title":"Description"," with AI"),"wp-ai-pilot"===N&&(0,t.createElement)("span",{className:"ai-generate-modal__badge"},(0,t.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})),"WP AI Pilot"),(0,t.createElement)("button",{type:"button",className:"ai-generate-modal__close",onClick:C,"aria-label":"Close"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M18 6L6 18M6 6l12 12"})))),(0,t.createElement)("div",{className:"ai-generate-modal__body"},(0,t.createElement)("div",{className:"ai-generate-modal__option"},(0,t.createElement)("label",{className:"ai-generate-modal__checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:E,onChange:e=>h(e.target.checked)}),(0,t.createElement)("span",{className:"ai-generate-modal__checkbox-mark"}),(0,t.createElement)("span",{className:"ai-generate-modal__checkbox-label"},"Include template variables as context")),(0,t.createElement)("p",{className:"ai-generate-modal__help"},"Sends available data (site name, post type info, etc.) to help AI generate better content.")),E&&Object.keys(o).length>0&&(0,t.createElement)("div",{className:"ai-generate-modal__context-preview"},(0,t.createElement)("label",null,"Context that will be sent:"),(0,t.createElement)("div",{className:"ai-generate-modal__context-box"},Object.entries(o).filter(([e,t])=>t&&"string"==typeof t).map(([e,a])=>(0,t.createElement)("div",{key:e,className:"ai-generate-modal__context-item"},(0,t.createElement)("span",{className:"ai-generate-modal__context-key"},e,":"),(0,t.createElement)("span",{className:"ai-generate-modal__context-value"},a))))),(0,t.createElement)("div",{className:"ai-generate-modal__field"},(0,t.createElement)("label",{htmlFor:"ai-custom-prompt"},"Custom instructions (optional)"),(0,t.createElement)("textarea",{id:"ai-custom-prompt",value:v,onChange:e=>b(e.target.value),placeholder:`e.g., "Focus on ${"title"===r?"including the brand name":"highlighting key benefits"}" or "Use a professional tone"`,rows:3})),u&&(0,t.createElement)("div",{className:"ai-generate-modal__error"},(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 8v4m0 4h.01"})),u),k&&(0,t.createElement)("div",{className:"ai-generate-modal__result"},(0,t.createElement)("label",null,"Generated ","title"===r?"title":"description",":"),(0,t.createElement)("div",{className:"ai-generate-modal__result-box"},(0,t.createElement)("p",null,k),(0,t.createElement)("span",{className:"ai-generate-modal__char-count"},k.length," characters")))),(0,t.createElement)("div",{className:"ai-generate-modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:C},"Cancel"),k?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("button",{type:"button",className:"button",onClick:x,disabled:d},"Regenerate"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>{k&&(s(k),C())}},"Apply")):(0,t.createElement)("button",{type:"button",className:"button primary",onClick:x,disabled:d},d?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"ai-generate-modal__spinner"}),"Generating..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"4"})),"Generate"))))):(0,t.createElement)("div",{className:"ai-generate-modal-overlay",onClick:C},(0,t.createElement)("div",{className:"ai-generate-modal ai-generate-modal--notice",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"ai-generate-modal__header"},(0,t.createElement)("h3",null,(0,t.createElement)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 8v4m0 4h.01"})),"AI Not Configured"),(0,t.createElement)("button",{type:"button",className:"ai-generate-modal__close",onClick:C,"aria-label":"Close"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M18 6L6 18M6 6l12 12"})))),(0,t.createElement)("div",{className:"ai-generate-modal__body"},_?.installed?(0,t.createElement)("div",{className:"ai-generate-modal__notice ai-generate-modal__notice--warning"},(0,t.createElement)("div",{className:"ai-generate-modal__notice-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,t.createElement)("div",{className:"ai-generate-modal__notice-content"},(0,t.createElement)("h4",null,"WP AI Pilot Needs Configuration"),(0,t.createElement)("p",null,"WP AI Pilot is installed but not yet configured. Add an API key to enable AI-powered SEO suggestions."))):(0,t.createElement)("div",{className:"ai-generate-modal__notice ai-generate-modal__notice--info"},(0,t.createElement)("div",{className:"ai-generate-modal__notice-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,t.createElement)("div",{className:"ai-generate-modal__notice-content"},(0,t.createElement)("h4",null,"Enhance with WP AI Pilot"),(0,t.createElement)("p",null,"Install WP AI Pilot to unlock AI-powered title and meta description generation.")))),(0,t.createElement)("div",{className:"ai-generate-modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:C},"Cancel"),_?.installed?(0,t.createElement)("a",{href:_.settingsUrl||"admin.php?page=wp-ai-pilot",className:"button primary"},"Configure WP AI Pilot"):(0,t.createElement)("a",{href:"plugin-install.php?s=wp+ai+pilot&tab=search",className:"button primary"},"Install WP AI Pilot")))):null},f=(e,t,a)=>{if("undefined"==typeof window)return t;const l=new URL(window.location.href).searchParams.get(a);return l&&e.some(e=>e.id===l)?l:t},w=({tabs:e,defaultTab:a,paramName:l="tab"})=>{const[n,s]=(0,t.useState)(()=>f(e,a,l));return(0,t.useEffect)(()=>{const t=()=>{s(f(e,a,l))};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)},[e,a,l]),[n,t=>{if(!e.some(e=>e.id===t))return;if(s(t),"undefined"==typeof window)return;const a=new URL(window.location.href);a.searchParams.set(l,t),window.history.replaceState({},"",a.toString())}]},x=window?.wpseopilotV2Settings||{},C=x.aiEnabled||!1,S=(x.aiProvider,x.aiPilot,[{id:"homepage",label:"Homepage"},{id:"content-types",label:"Content Types"},{id:"taxonomies",label:"Taxonomies"},{id:"archives",label:"Archives"},{id:"social-settings",label:"Social Settings"},{id:"social-cards",label:"Social Cards"}]),P=[{value:"",label:"Use default (Article)"},{value:"article",label:"Article"},{value:"blogposting",label:"Blog posting"},{value:"newsarticle",label:"News article"},{value:"product",label:"Product"},{value:"profilepage",label:"Profile page"},{value:"website",label:"Website"},{value:"organization",label:"Organization"},{value:"event",label:"Event"},{value:"recipe",label:"Recipe"},{value:"videoobject",label:"Video object"},{value:"book",label:"Book"},{value:"service",label:"Service"},{value:"localbusiness",label:"Local business"}],A=[{value:"default",label:"Default",description:"Title with accent bar at bottom"},{value:"centered",label:"Centered",description:"Centered text layout"},{value:"minimal",label:"Minimal",description:"Text only, no accent"},{value:"bold",label:"Bold",description:"Large accent block"}],T=[{value:"top-left",label:"Top Left"},{value:"top-right",label:"Top Right"},{value:"bottom-left",label:"Bottom Left"},{value:"bottom-right",label:"Bottom Right"},{value:"center",label:"Center"}],L=({postType:e,schemaOptions:l,separator:n,siteInfo:s,variables:r,variableValues:c,onSave:i,onCancel:o,saving:m,renderTemplatePreview:d,openAiModal:u})=>{const[g,E]=(0,a.useState)(e),h=d(g.title_template||"{{post_title}} {{separator}} {{site_title}}"),b=d(g.description_template||"{{post_excerpt}}");return(0,t.createElement)("div",{className:"type-editor"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit: ",e.name),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:o},"Cancel")),(0,t.createElement)(p,{title:h,description:b,domain:s.domain,favicon:s.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show in Search Results"),(0,t.createElement)("p",{className:"settings-help"},"Allow search engines to index this content type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!g.noindex,onChange:e=>E({...g,noindex:!e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},g.noindex?"Hidden":"Visible")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Template"),(0,t.createElement)("p",{className:"settings-help"},'Click "Variables" to insert dynamic content.')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:g.title_template,onChange:e=>E({...g,title_template:e}),placeholder:"{{post_title}} {{separator}} {{site_title}}",variables:r,variableValues:c,context:"post",maxLength:60,onAiClick:()=>u("title",e=>E({...g,title_template:e}),{type:"Post Type",name:e.name})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description Template"),(0,t.createElement)("p",{className:"settings-help"},"Default meta description for this post type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:g.description_template,onChange:e=>E({...g,description_template:e}),placeholder:"{{post_excerpt}}",variables:r,variableValues:c,context:"post",multiline:!0,maxLength:160,onAiClick:()=>u("description",e=>E({...g,description_template:e}),{type:"Post Type",name:e.name})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Schema Page Type"),(0,t.createElement)("p",{className:"settings-help"},"Default structured data page type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{value:g.schema_page,onChange:e=>E({...g,schema_page:e.target.value})},Object.entries(l.page).map(([e,a])=>(0,t.createElement)("option",{key:e,value:e},a))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Schema Article Type"),(0,t.createElement)("p",{className:"settings-help"},"Default structured data article type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{value:g.schema_article,onChange:e=>E({...g,schema_article:e.target.value})},Object.entries(l.article).map(([e,a])=>(0,t.createElement)("option",{key:e,value:e},a))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show SEO Controls"),(0,t.createElement)("p",{className:"settings-help"},"Show SEO meta box in editor for this post type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:g.show_seo_controls,onChange:e=>E({...g,show_seo_controls:e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},g.show_seo_controls?"Enabled":"Disabled")))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>i(g),disabled:m},m?"Saving...":"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:o},"Cancel"))))},M=({taxonomy:e,separator:l,siteInfo:n,variables:s,variableValues:r,onSave:c,onCancel:i,saving:o,renderTemplatePreview:m,openAiModal:d})=>{const[u,g]=(0,a.useState)(e),E=m(u.title_template||"{{term_title}} Archives {{separator}} {{site_title}}"),h=m(u.description_template||"{{term_description}}");return(0,t.createElement)("div",{className:"type-editor"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit: ",e.name),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:i},"Cancel")),(0,t.createElement)(p,{title:E,description:h,domain:n.domain,favicon:n.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show in Search Results"),(0,t.createElement)("p",{className:"settings-help"},"Allow search engines to index this taxonomy.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!u.noindex,onChange:e=>g({...u,noindex:!e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},u.noindex?"Hidden":"Visible")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Template"),(0,t.createElement)("p",{className:"settings-help"},'Click "Variables" to insert dynamic content.')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:u.title_template,onChange:e=>g({...u,title_template:e}),placeholder:"{{term_title}} Archives {{separator}} {{site_title}}",variables:s,variableValues:r,context:"taxonomy",maxLength:60,onAiClick:()=>d("title",e=>g({...u,title_template:e}),{type:"Taxonomy",name:e.name})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description Template"),(0,t.createElement)("p",{className:"settings-help"},"Default meta description for taxonomy archives.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:u.description_template,onChange:e=>g({...u,description_template:e}),placeholder:"{{term_description}}",variables:s,variableValues:r,context:"taxonomy",multiline:!0,maxLength:160,onAiClick:()=>d("description",e=>g({...u,description_template:e}),{type:"Taxonomy",name:e.name})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show SEO Controls"),(0,t.createElement)("p",{className:"settings-help"},"Show SEO fields when editing terms.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:u.show_seo_controls,onChange:e=>g({...u,show_seo_controls:e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},u.show_seo_controls?"Enabled":"Disabled")))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>c(u),disabled:o},o?"Saving...":"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:i},"Cancel"))))},I=({archive:e,separator:l,siteInfo:n,variables:s,variableValues:r,onSave:c,onCancel:i,renderTemplatePreview:o,openAiModal:m})=>{const[d,u]=(0,a.useState)(e),g=()=>{switch(e.slug){case"author":return"author";case"date":case"search":case"404":return"archive";default:return"global"}},E=o(d.title_template),h=o(d.description_template);return(0,t.createElement)("div",{className:"type-editor"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit: ",e.name),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:i},"Cancel")),(0,t.createElement)(p,{title:E,description:h,domain:n.domain,favicon:n.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show in Search Results"),(0,t.createElement)("p",{className:"settings-help"},"Allow search engines to index this page type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!d.noindex,onChange:e=>u({...d,noindex:!e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},d.noindex?"Hidden":"Visible")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Template"),(0,t.createElement)("p",{className:"settings-help"},'Click "Variables" to insert dynamic content.')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:d.title_template,onChange:e=>u({...d,title_template:e}),variables:s,variableValues:r,context:g(),maxLength:60,onAiClick:()=>m("title",e=>u({...d,title_template:e}),{type:"Archive",name:e.name})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description Template")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:d.description_template,onChange:e=>u({...d,description_template:e}),variables:s,variableValues:r,context:g(),multiline:!0,maxLength:160,onAiClick:()=>m("description",e=>u({...d,description_template:e}),{type:"Archive",name:e.name})}))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>c(d)},"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:i},"Cancel"))))},F=()=>{const[e,l]=w({tabs:S,defaultTab:"homepage"}),[s,r]=(0,a.useState)(!0),[c,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(""),[u,g]=(0,a.useState)({}),[E,h]=(0,a.useState)({}),[b,y]=(0,a.useState)({}),[N,_]=(0,a.useState)({meta_title:"",meta_description:"",meta_keywords:""}),[f,x]=(0,a.useState)("-"),[F,O]=(0,a.useState)({}),[B,R]=(0,a.useState)([]),[W,D]=(0,a.useState)(null),[z,$]=(0,a.useState)({page:{},article:{}}),[U,V]=(0,a.useState)([]),[G,H]=(0,a.useState)(null),[j,q]=(0,a.useState)([]),[Y,J]=(0,a.useState)(null),[K,X]=(0,a.useState)({og_title:"",og_description:"",twitter_title:"",twitter_description:"",image_source:"",schema_itemtype:""}),[Q,Z]=(0,a.useState)({}),[ee,te]=(0,a.useState)(null),[ae,le]=(0,a.useState)({background_color:"#1a1a36",accent_color:"#5a84ff",text_color:"#ffffff",title_font_size:48,site_font_size:24,logo_url:"",logo_position:"bottom-left",layout:"default"}),[ne,se]=(0,a.useState)("Sample Post Title - Understanding Core Web Vitals"),[re,ce]=(0,a.useState)(!0),[ie,oe]=(0,a.useState)({isOpen:!1,fieldType:"title",onApply:null,context:{}}),me=(0,a.useCallback)((e,t,a={})=>{oe({isOpen:!0,fieldType:e,onApply:t,context:a})},[]),de=(0,a.useCallback)(()=>{oe({isOpen:!1,fieldType:"title",onApply:null,context:{}})},[]),pe=(0,a.useCallback)(e=>{ie.onApply&&e&&ie.onApply(e)},[ie]),ue=(0,a.useCallback)(async()=>{r(!0);try{const e=await n()({path:"/wpseopilot/v2/search-appearance"});if(e.success){const t=e.data;_(t.homepage||{}),x(t.separator||"-"),O(t.separator_options||{}),R(t.post_types||[]),V(t.taxonomies||[]),q(t.archives||[]),$(t.schema_options||{page:{},article:{}}),g(t.site_info||{}),h(t.variables||{}),y(t.variable_values||{}),X(t.social_defaults||{og_title:"",og_description:"",twitter_title:"",twitter_description:"",image_source:"",schema_itemtype:""}),Z(t.post_type_social_defaults||{}),le(t.card_design||{background_color:"#1a1a36",accent_color:"#5a84ff",text_color:"#ffffff",title_font_size:48,site_font_size:24,logo_url:"",logo_position:"bottom-left",layout:"default"}),ce(!1!==t.card_module_enabled)}}catch(e){console.error("Failed to fetch search appearance settings:",e)}finally{r(!1)}},[]);(0,a.useEffect)(()=>{ue()},[ue]),(0,a.useEffect)(()=>{if(o){const e=setTimeout(()=>m(""),3e3);return()=>clearTimeout(e)}},[o]),(0,a.useEffect)(()=>{y(e=>({...e,separator:f}))},[f]);const ge=(0,a.useCallback)((e,t={})=>{if(!e)return"";let a=e;const l={...b,...t};return a=a.replace(/\{\{([^}]+)\}\}/g,(e,t)=>{const a=t.trim(),n=a.indexOf("|");if(n>-1){const t=a.substring(0,n).trim(),s=a.substring(n+1).trim(),r=l[t];return void 0!==r?((e,t)=>{if(!e||!t)return e;switch(t.trim().toLowerCase()){case"upper":case"uppercase":return String(e).toUpperCase();case"lower":case"lowercase":return String(e).toLowerCase();case"capitalize":case"title":return String(e).replace(/\b\w/g,e=>e.toUpperCase());case"trim":return String(e).trim();default:return e}})(r,s):e}return void 0!==l[a]?l[a]:e}),a},[b]),Ee=async e=>{x(e);try{await n()({path:"/wpseopilot/v2/search-appearance/separator",method:"POST",data:{separator:e}})}catch(e){console.error("Failed to save separator:",e)}};return s?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"loading-state"},"Loading search appearance settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Search Appearance"),(0,t.createElement)("p",null,"Control how your content appears in search results.")),o&&(0,t.createElement)("span",{className:"pill success"},o)),(0,t.createElement)(d,{tabs:S,activeTab:e,onChange:l,ariaLabel:"Search appearance sections"}),"homepage"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Homepage SEO"),(0,t.createElement)("p",{className:"muted"},"Configure default title and meta description for your homepage."))),(0,t.createElement)(p,{title:ge(N.meta_title||"{{site_title}} {{separator}} {{tagline}}"),description:ge(N.meta_description||u.description||""),domain:u.domain,url:u.url,favicon:u.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"home-title"},"Homepage Title"),(0,t.createElement)("p",{className:"settings-help"},"The title tag for your homepage.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{id:"home-title",value:N.meta_title,onChange:e=>_({...N,meta_title:e}),placeholder:`${u.name} ${f} ${u.description}`,variables:E,variableValues:b,context:"global",maxLength:60,onAiClick:()=>me("title",e=>_({...N,meta_title:e}),{type:"Homepage"}),aiEnabled:C}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"home-desc"},"Meta Description"),(0,t.createElement)("p",{className:"settings-help"},"A brief description of your website (150-160 chars recommended).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{id:"home-desc",value:N.meta_description,onChange:e=>_({...N,meta_description:e}),placeholder:"A brief description of your website...",variables:E,variableValues:b,context:"global",multiline:!0,maxLength:160,onAiClick:()=>me("description",e=>_({...N,meta_description:e}),{type:"Homepage"}),aiEnabled:C}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Separator"),(0,t.createElement)("p",{className:"settings-help"},"Character used between title parts across your site.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"separator-selector"},Object.entries(F).map(([e,a])=>(0,t.createElement)("button",{key:e,type:"button",className:"separator-option "+(f===e?"active":""),onClick:()=>Ee(e),title:a},e)),(0,t.createElement)("div",{className:"separator-custom"},(0,t.createElement)("input",{type:"text",className:"separator-custom__input",value:Object.keys(F).includes(f)?"":f,onChange:e=>Ee(e.target.value),placeholder:"Custom",maxLength:5}))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"home-keywords"},"Meta Keywords"),(0,t.createElement)("p",{className:"settings-help"},"Comma-separated keywords (optional, less relevant for modern SEO).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"text",id:"home-keywords",className:"input",value:N.meta_keywords||"",onChange:e=>_({...N,meta_keywords:e.target.value}),placeholder:"keyword1, keyword2, keyword3"}))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{(await n()({path:"/wpseopilot/v2/search-appearance/homepage",method:"POST",data:N})).success&&m("Homepage settings saved successfully.")}catch(e){console.error("Failed to save homepage settings:",e),m("Failed to save settings.")}finally{i(!1)}},disabled:c},c?"Saving...":"Save Homepage Settings")))),"content-types"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Content Types"),(0,t.createElement)("p",{className:"muted"},"Configure SEO defaults for each post type."))),W?(0,t.createElement)(L,{postType:W,schemaOptions:z,separator:f,siteInfo:u,variables:E,variableValues:b,onSave:async e=>{i(!0);try{(await n()({path:`/wpseopilot/v2/search-appearance/post-types/${e.slug}`,method:"POST",data:e})).success&&(R(t=>t.map(t=>t.slug===e.slug?{...t,...e}:t)),D(null),m("Post type settings saved."))}catch(e){console.error("Failed to save post type:",e)}finally{i(!1)}},onCancel:()=>D(null),saving:c,renderTemplatePreview:ge,openAiModal:me}):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Post Type"),(0,t.createElement)("th",null,"Title Preview"),(0,t.createElement)("th",null,"Show in Search"),(0,t.createElement)("th",null,"Posts"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,B.map(e=>{const a=e.title_template||"{{post_title}} {{separator}} {{site_title}}";return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.slug)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"title-preview-cell"},(0,t.createElement)("span",{className:"title-preview-cell__title"},ge(a)),(0,t.createElement)("code",{className:"title-preview-cell__template"},a))),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(e.noindex?"warning":"success")},e.noindex?"No":"Yes")),(0,t.createElement)("td",null,e.count),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>D({...e})},"Edit")))})))),"taxonomies"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Taxonomies"),(0,t.createElement)("p",{className:"muted"},"Configure SEO settings for categories, tags, and custom taxonomies."))),G?(0,t.createElement)(M,{taxonomy:G,separator:f,siteInfo:u,variables:E,variableValues:b,onSave:async e=>{i(!0);try{(await n()({path:`/wpseopilot/v2/search-appearance/taxonomies/${e.slug}`,method:"POST",data:e})).success&&(V(t=>t.map(t=>t.slug===e.slug?{...t,...e}:t)),H(null),m("Taxonomy settings saved."))}catch(e){console.error("Failed to save taxonomy:",e)}finally{i(!1)}},onCancel:()=>H(null),saving:c,renderTemplatePreview:ge,openAiModal:me}):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Taxonomy"),(0,t.createElement)("th",null,"Title Preview"),(0,t.createElement)("th",null,"Show in Search"),(0,t.createElement)("th",null,"Terms"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,U.map(e=>{const a=e.title_template||"{{term_title}} {{separator}} {{site_title}}";return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.slug)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"title-preview-cell"},(0,t.createElement)("span",{className:"title-preview-cell__title"},ge(a)),(0,t.createElement)("code",{className:"title-preview-cell__template"},a))),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(e.noindex?"warning":"success")},e.noindex?"No":"Yes")),(0,t.createElement)("td",null,e.count),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>H({...e})},"Edit")))})))),"archives"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Archives"),(0,t.createElement)("p",{className:"muted"},"Configure SEO for author, date, search, and 404 pages."))),Y?(0,t.createElement)(I,{archive:Y,separator:f,siteInfo:u,variables:E,variableValues:b,onSave:e=>{q(t=>t.map(t=>t.slug===e.slug?e:t)),J(null)},onCancel:()=>J(null),renderTemplatePreview:ge,openAiModal:me}):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Archive Type"),(0,t.createElement)("th",null,"Title Preview"),(0,t.createElement)("th",null,"Show in Search"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,j.map(e=>{const a=e.title_template||"{{archive_title}} {{separator}} {{site_title}}";return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.description)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"title-preview-cell"},(0,t.createElement)("span",{className:"title-preview-cell__title"},ge(a)),(0,t.createElement)("code",{className:"title-preview-cell__template"},a))),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(e.noindex?"warning":"success")},e.noindex?"No":"Yes")),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>J({...e})},"Edit")))})))),"social-settings"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Social Settings"),(0,t.createElement)("p",{className:"muted"},"Configure default Open Graph, Twitter, and schema values for social sharing."))),ee?(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit ",ee.name," Social Settings"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>te(null)},"Cancel")),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Title"),(0,t.createElement)("p",{className:"settings-help"},"Open Graph title for Facebook shares.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:ee.og_title||"",onChange:e=>te({...ee,og_title:e}),placeholder:"{{post_title}} {{separator}} {{site_title}}",variables:E,variableValues:b,context:"post",maxLength:60,onAiClick:()=>me("title",e=>te({...ee,og_title:e}),{type:ee.name,name:"OG Title"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Description"),(0,t.createElement)("p",{className:"settings-help"},"Open Graph description for Facebook shares.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:ee.og_description||"",onChange:e=>te({...ee,og_description:e}),placeholder:"{{post_excerpt}}",variables:E,variableValues:b,context:"post",multiline:!0,maxLength:160,onAiClick:()=>me("description",e=>te({...ee,og_description:e}),{type:ee.name,name:"OG Description"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Title"),(0,t.createElement)("p",{className:"settings-help"},"Twitter card title.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:ee.twitter_title||"",onChange:e=>te({...ee,twitter_title:e}),placeholder:"{{post_title}} {{separator}} {{site_title}}",variables:E,variableValues:b,context:"post",maxLength:60,onAiClick:()=>me("title",e=>te({...ee,twitter_title:e}),{type:ee.name,name:"Twitter Title"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Description"),(0,t.createElement)("p",{className:"settings-help"},"Twitter card description.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:ee.twitter_description||"",onChange:e=>te({...ee,twitter_description:e}),placeholder:"{{post_excerpt}}",variables:E,variableValues:b,context:"post",multiline:!0,maxLength:160,onAiClick:()=>me("description",e=>te({...ee,twitter_description:e}),{type:ee.name,name:"Twitter Description"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Image URL"),(0,t.createElement)("p",{className:"settings-help"},"Fallback image for social sharing.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"url",className:"input",value:ee.image_source||"",onChange:e=>te({...ee,image_source:e.target.value}),placeholder:"https://example.com/image.jpg"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Schema Type"),(0,t.createElement)("p",{className:"settings-help"},"Schema.org type for this post type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{className:"input",value:ee.schema_itemtype||"",onChange:e=>te({...ee,schema_itemtype:e.target.value})},P.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>(async(e,t)=>{i(!0);try{(await n()({path:`/wpseopilot/v2/search-appearance/social-defaults/${e}`,method:"POST",data:t})).success&&(Z(a=>({...a,[e]:t})),te(null),m("Post type social settings saved."))}catch(e){console.error("Failed to save post type social settings:",e)}finally{i(!1)}})(ee.slug,ee),disabled:c},c?"Saving...":"Save Settings"),(0,t.createElement)("button",{type:"button",className:"button",onClick:()=>te(null)},"Cancel"))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-form",style:{marginBottom:"32px"}},(0,t.createElement)("h4",{style:{marginBottom:"16px"}},"Global Social Defaults"),(0,t.createElement)("p",{className:"muted",style:{marginBottom:"24px"}},"These defaults apply when posts don't have custom social values."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Title"),(0,t.createElement)("p",{className:"settings-help"},"Default Open Graph title for Facebook.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:K.og_title||"",onChange:e=>X({...K,og_title:e}),placeholder:"{{site_title}} {{separator}} {{tagline}}",variables:E,variableValues:b,context:"global",maxLength:60,onAiClick:()=>me("title",e=>X({...K,og_title:e}),{type:"Social",name:"Open Graph Title"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Description"),(0,t.createElement)("p",{className:"settings-help"},"Default Open Graph description.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:K.og_description||"",onChange:e=>X({...K,og_description:e}),placeholder:"{{tagline}}",variables:E,variableValues:b,context:"global",multiline:!0,maxLength:160,onAiClick:()=>me("description",e=>X({...K,og_description:e}),{type:"Social",name:"Open Graph Description"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Title"),(0,t.createElement)("p",{className:"settings-help"},"Default Twitter card title.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:K.twitter_title||"",onChange:e=>X({...K,twitter_title:e}),placeholder:"{{site_title}} {{separator}} {{tagline}}",variables:E,variableValues:b,context:"global",maxLength:60,onAiClick:()=>me("title",e=>X({...K,twitter_title:e}),{type:"Social",name:"Twitter Card Title"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Description"),(0,t.createElement)("p",{className:"settings-help"},"Default Twitter card description.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(v,{value:K.twitter_description||"",onChange:e=>X({...K,twitter_description:e}),placeholder:"{{tagline}}",variables:E,variableValues:b,context:"global",multiline:!0,maxLength:160,onAiClick:()=>me("description",e=>X({...K,twitter_description:e}),{type:"Social",name:"Twitter Card Description"})}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Fallback Image URL"),(0,t.createElement)("p",{className:"settings-help"},"Used when posts don't have a featured image (1200x630px recommended).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"url",className:"input",value:K.image_source||"",onChange:e=>X({...K,image_source:e.target.value}),placeholder:"https://example.com/default-social.jpg"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Default Schema Type"),(0,t.createElement)("p",{className:"settings-help"},"Controls the og:type meta tag for content.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{className:"input",value:K.schema_itemtype||"",onChange:e=>X({...K,schema_itemtype:e.target.value})},P.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{(await n()({path:"/wpseopilot/v2/search-appearance/social-defaults",method:"POST",data:K})).success&&m("Social settings saved.")}catch(e){console.error("Failed to save social defaults:",e)}finally{i(!1)}},disabled:c},c?"Saving...":"Save Global Defaults"))),(0,t.createElement)("div",{style:{marginTop:"32px"}},(0,t.createElement)("h4",{style:{marginBottom:"8px"}},"Post Type Specific Settings"),(0,t.createElement)("p",{className:"muted",style:{marginBottom:"16px"}},"Override default social settings for specific post types."),(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Post Type"),(0,t.createElement)("th",null,"OG Title"),(0,t.createElement)("th",null,"Schema Type"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,B.map(e=>{const a=Q[e.slug]||{};return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.slug)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"muted"},a.og_title||"Using global default")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"muted"},a.schema_itemtype||"Article")),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>te({slug:e.slug,name:e.name,...a})},"Edit")))})))))),(0,t.createElement)(k,{isOpen:ie.isOpen,onClose:de,onGenerate:pe,fieldType:ie.fieldType,variableValues:b,context:ie.context}),"social-cards"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Social Cards"),(0,t.createElement)("p",{className:"muted"},"Customize the appearance of dynamically generated social card images.")),(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"pill "+(re?"success":"warning")},re?"Active":"Disabled"))),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{style:{marginBottom:"32px",padding:"24px",background:"#f8f9fa",borderRadius:"8px"}},(0,t.createElement)("h4",{style:{marginBottom:"16px"}},"Live Preview"),(0,t.createElement)("div",{style:{display:"flex",gap:"16px",marginBottom:"16px",alignItems:"flex-end"}},(0,t.createElement)("div",{style:{flex:1}},(0,t.createElement)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500}},"Sample Title"),(0,t.createElement)("input",{type:"text",className:"input",value:ne,onChange:e=>se(e.target.value)}))),(0,t.createElement)("div",{className:"social-card-preview",style:{width:"100%",maxWidth:"600px",aspectRatio:"1200/630",background:ae.background_color,borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"centered"===ae.layout?"center":"flex-end",alignItems:"centered"===ae.layout?"center":"flex-start",padding:"32px",position:"relative",overflow:"hidden"}},"minimal"!==ae.layout&&(0,t.createElement)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"bold"===ae.layout?"30%":"6px",background:ae.accent_color}}),ae.logo_url&&(0,t.createElement)("img",{src:ae.logo_url,alt:"Logo",style:{position:"absolute",width:"48px",height:"48px",objectFit:"contain",..."top-left"===ae.logo_position&&{top:"24px",left:"24px"},..."top-right"===ae.logo_position&&{top:"24px",right:"24px"},..."bottom-left"===ae.logo_position&&{bottom:"24px",left:"24px"},..."bottom-right"===ae.logo_position&&{bottom:"24px",right:"24px"},..."center"===ae.logo_position&&{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}),(0,t.createElement)("h2",{style:{color:ae.text_color,fontSize:`${Math.max(16,ae.title_font_size/3)}px`,fontWeight:700,margin:0,marginBottom:"8px",textAlign:"centered"===ae.layout?"center":"left",zIndex:1}},ne),(0,t.createElement)("span",{style:{color:ae.text_color,fontSize:`${Math.max(10,ae.site_font_size/3)}px`,opacity:.8,zIndex:1}},u.name||"Your Site Name"))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Layout Style"),(0,t.createElement)("p",{className:"settings-help"},"Choose the overall layout for social cards.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"}},A.map(e=>(0,t.createElement)("label",{key:e.value,style:{display:"flex",flexDirection:"column",padding:"12px 16px",border:"2px solid "+(ae.layout===e.value?"#2271b1":"#ddd"),borderRadius:"8px",cursor:"pointer",background:ae.layout===e.value?"#f0f6fc":"#fff",minWidth:"120px"}},(0,t.createElement)("input",{type:"radio",name:"card-layout",value:e.value,checked:ae.layout===e.value,onChange:e=>le({...ae,layout:e.target.value}),style:{display:"none"}}),(0,t.createElement)("strong",{style:{fontSize:"14px"}},e.label),(0,t.createElement)("span",{style:{fontSize:"12px",color:"#666"}},e.description)))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Background Color")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},(0,t.createElement)("input",{type:"color",value:ae.background_color,onChange:e=>le({...ae,background_color:e.target.value}),style:{width:"48px",height:"36px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),(0,t.createElement)("input",{type:"text",className:"input",value:ae.background_color,onChange:e=>le({...ae,background_color:e.target.value}),style:{width:"100px"}})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Accent Color")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},(0,t.createElement)("input",{type:"color",value:ae.accent_color,onChange:e=>le({...ae,accent_color:e.target.value}),style:{width:"48px",height:"36px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),(0,t.createElement)("input",{type:"text",className:"input",value:ae.accent_color,onChange:e=>le({...ae,accent_color:e.target.value}),style:{width:"100px"}})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Text Color")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},(0,t.createElement)("input",{type:"color",value:ae.text_color,onChange:e=>le({...ae,text_color:e.target.value}),style:{width:"48px",height:"36px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),(0,t.createElement)("input",{type:"text",className:"input",value:ae.text_color,onChange:e=>le({...ae,text_color:e.target.value}),style:{width:"100px"}})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Font Size (px)")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",className:"input",value:ae.title_font_size,onChange:e=>le({...ae,title_font_size:parseInt(e.target.value)||48}),min:24,max:96,style:{width:"100px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Site Name Font Size (px)")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",className:"input",value:ae.site_font_size,onChange:e=>le({...ae,site_font_size:parseInt(e.target.value)||24}),min:12,max:48,style:{width:"100px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Logo URL"),(0,t.createElement)("p",{className:"settings-help"},"Upload a logo to display on social cards (200x200px recommended).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"url",className:"input",value:ae.logo_url,onChange:e=>le({...ae,logo_url:e.target.value}),placeholder:"https://example.com/logo.png"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Logo Position")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{className:"input",value:ae.logo_position,onChange:e=>le({...ae,logo_position:e.target.value})},T.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{(await n()({path:"/wpseopilot/v2/search-appearance/card-design",method:"POST",data:ae})).success&&m("Social card design saved.")}catch(e){console.error("Failed to save card design:",e)}finally{i(!1)}},disabled:c},c?"Saving...":"Save Card Design")))))},O=[{id:"xml-sitemap",label:"XML Sitemap"},{id:"llm-txt",label:"LLM.txt"}],B=[{value:"",label:"Manual only"},{value:"hourly",label:"Hourly"},{value:"twicedaily",label:"Twice Daily"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}],R=()=>{const[e,l]=w({tabs:O,defaultTab:"xml-sitemap"}),[s,r]=(0,a.useState)(!0),[c,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)({max_urls:1e3,enable_index:"1",dynamic_generation:"1",schedule_updates:"",post_types:[],taxonomies:[],include_author_pages:"0",include_date_archives:"0",exclude_images:"0",enable_rss:"0",enable_google_news:"0",google_news_name:"",google_news_post_types:[],additional_pages:[],site_url:"",sitemap_url:"",rss_sitemap_url:"",news_sitemap_url:""}),[g,E]=(0,a.useState)({enable_llm_txt:"0",llm_txt_title:"",llm_txt_description:"",llm_txt_posts_per_type:50,llm_txt_include_excerpt:"1",llm_txt_url:""}),[h,v]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[N,_]=(0,a.useState)({total_urls:0,last_regenerated:null}),k=(0,a.useCallback)(async()=>{r(!0);try{const[e,t,a,l,s]=await Promise.all([n()({path:"/wpseopilot/v2/sitemap/settings"}),n()({path:"/wpseopilot/v2/sitemap/llm-settings"}),n()({path:"/wpseopilot/v2/sitemap/post-types"}),n()({path:"/wpseopilot/v2/sitemap/taxonomies"}),n()({path:"/wpseopilot/v2/sitemap/stats"})]);e.success&&u(e.data),t.success&&E(t.data),a.success&&v(a.data),l.success&&y(l.data),s.success&&_(s.data)}catch(e){console.error("Failed to fetch sitemap data:",e)}finally{r(!1)}},[]);(0,a.useEffect)(()=>{k()},[k]);const f=(e,t,a)=>{u(l=>{const n=[...l.additional_pages||[]];return n[e]={...n[e],[t]:a},{...l,additional_pages:n}})};return s?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Sitemap"),(0,t.createElement)("p",null,"Configure XML sitemap generation and LLM.txt settings."))),(0,t.createElement)("div",{className:"loading-state"},"Loading sitemap settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Sitemap"),(0,t.createElement)("p",null,"Configure XML sitemap generation and LLM.txt settings.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("a",{href:p.sitemap_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"View Sitemap"),"1"===g.enable_llm_txt&&(0,t.createElement)("a",{href:g.llm_txt_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"Open llm.txt"))),(0,t.createElement)(d,{tabs:O,activeTab:e,onChange:l,ariaLabel:"Sitemap sections"}),"xml-sitemap"===e?(0,t.createElement)("div",{className:"page-body two-column"},(0,t.createElement)("div",{className:"main-column"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"XML Sitemap Settings"),(0,t.createElement)("p",{className:"muted"},"Configure your sitemap generation, content types, and additional options."),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Automatic Updates"),(0,t.createElement)("p",{className:"settings-help"},"Regenerate sitemap on a schedule.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{value:p.schedule_updates,onChange:e=>u(t=>({...t,schedule_updates:e.target.value}))},B.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Max URLs Per Page"),(0,t.createElement)("p",{className:"settings-help"},"Maximum URLs per sitemap page.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",value:p.max_urls,onChange:e=>u(t=>({...t,max_urls:parseInt(e.target.value,10)||1e3})),min:"1",max:"50000",style:{width:"120px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Generation Options")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.enable_index,onChange:e=>u(t=>({...t,enable_index:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Enable sitemap indexes")),(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.dynamic_generation,onChange:e=>u(t=>({...t,dynamic_generation:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Dynamic generation on-demand")),(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.exclude_images,onChange:e=>u(t=>({...t,exclude_images:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Exclude images from entries")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Post Types"),(0,t.createElement)("p",{className:"settings-help"},"Include in sitemap.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"checkbox-grid"},h.map(e=>(0,t.createElement)("label",{key:e.name,className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:(p.post_types||[]).includes(e.name),onChange:()=>{return t=e.name,void u(e=>{const a=Array.isArray(e.post_types)?e.post_types:[],l=a.includes(t)?a.filter(e=>e!==t):[...a,t];return{...e,post_types:l}});var t}}),(0,t.createElement)("span",null,e.label," (",e.count,")")))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Taxonomies"),(0,t.createElement)("p",{className:"settings-help"},"Include taxonomy archives.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"checkbox-grid"},b.map(e=>(0,t.createElement)("label",{key:e.name,className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:(p.taxonomies||[]).includes(e.name),onChange:()=>{return t=e.name,void u(e=>{const a=Array.isArray(e.taxonomies)?e.taxonomies:[],l=a.includes(t)?a.filter(e=>e!==t):[...a,t];return{...e,taxonomies:l}});var t}}),(0,t.createElement)("span",null,e.label," (",e.count,")")))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Archive Pages")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.include_author_pages,onChange:e=>u(t=>({...t,include_author_pages:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Include author pages")),(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.include_date_archives,onChange:e=>u(t=>({...t,include_date_archives:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Include date archives")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"RSS Sitemap")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.enable_rss,onChange:e=>u(t=>({...t,enable_rss:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Generate RSS sitemap (latest 50 posts)")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Google News")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.enable_google_news,onChange:e=>u(t=>({...t,enable_google_news:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Enable Google News sitemap")),"1"===p.enable_google_news&&(0,t.createElement)("div",{style:{marginTop:"12px"}},(0,t.createElement)("input",{type:"text",value:p.google_news_name,onChange:e=>u(t=>({...t,google_news_name:e.target.value})),placeholder:"Publication Name",style:{width:"100%",marginBottom:"8px"}}),(0,t.createElement)("div",{className:"checkbox-grid"},h.map(e=>(0,t.createElement)("label",{key:e.name,className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:(p.google_news_post_types||[]).includes(e.name),onChange:()=>{return t=e.name,void u(e=>{const a=Array.isArray(e.google_news_post_types)?e.google_news_post_types:[],l=a.includes(t)?a.filter(e=>e!==t):[...a,t];return{...e,google_news_post_types:l}});var t}}),(0,t.createElement)("span",null,e.label))))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Custom Pages"),(0,t.createElement)("p",{className:"settings-help"},"Add URLs not managed by WordPress.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"additional-pages-list"},(p.additional_pages||[]).map((e,a)=>(0,t.createElement)("div",{key:a,className:"additional-page-row"},(0,t.createElement)("input",{type:"url",value:e.url,onChange:e=>f(a,"url",e.target.value),placeholder:"https://example.com/page",className:"page-url-input"}),(0,t.createElement)("input",{type:"text",value:e.priority,onChange:e=>f(a,"priority",e.target.value),placeholder:"0.5",className:"page-priority-input"}),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(e=>{u(t=>({...t,additional_pages:(t.additional_pages||[]).filter((t,a)=>a!==e)}))})(a)},"Remove")))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>{u(e=>({...e,additional_pages:[...e.additional_pages||[],{url:"",priority:"0.5"}]}))}},"+ Add Page")))),(0,t.createElement)("div",{className:"form-actions",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{await n()({path:"/wpseopilot/v2/sitemap/settings",method:"POST",data:p});const e=await n()({path:"/wpseopilot/v2/sitemap/stats"});e.success&&_(e.data)}catch(e){console.error("Failed to save settings:",e)}finally{i(!1)}},disabled:c},c?"Saving...":"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:async()=>{m(!0);try{const e=await n()({path:"/wpseopilot/v2/sitemap/regenerate",method:"POST"});e.success&&_(t=>({...t,last_regenerated:e.data.regenerated_at}))}catch(e){console.error("Failed to regenerate sitemap:",e)}finally{m(!1)}},disabled:o},o?"Regenerating...":"Regenerate Now")))),(0,t.createElement)("aside",{className:"side-panel"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h3",null,"Your Sitemaps"),(0,t.createElement)("div",{className:"sitemap-links"},(0,t.createElement)("div",{className:"sitemap-link-item"},(0,t.createElement)("strong",null,"Main Index"),(0,t.createElement)("a",{href:p.sitemap_url,target:"_blank",rel:"noopener noreferrer"},p.sitemap_url)),"1"===p.enable_rss&&(0,t.createElement)("div",{className:"sitemap-link-item"},(0,t.createElement)("strong",null,"RSS Feed"),(0,t.createElement)("a",{href:p.rss_sitemap_url,target:"_blank",rel:"noopener noreferrer"},p.rss_sitemap_url)),"1"===p.enable_google_news&&(0,t.createElement)("div",{className:"sitemap-link-item"},(0,t.createElement)("strong",null,"Google News"),(0,t.createElement)("a",{href:p.news_sitemap_url,target:"_blank",rel:"noopener noreferrer"},p.news_sitemap_url)))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h3",null,"Statistics"),(0,t.createElement)("div",{className:"stats-list"},(0,t.createElement)("div",{className:"stat-item"},(0,t.createElement)("span",{className:"muted"},"Total URLs"),(0,t.createElement)("span",{className:"stat-value"},N.total_urls.toLocaleString())),(0,t.createElement)("div",{className:"stat-item"},(0,t.createElement)("span",{className:"muted"},"Last Updated"),(0,t.createElement)("span",{className:"stat-value"},(e=>{if(!e)return"Never";const t=new Date(e),a=new Date-t,l=Math.floor(a/36e5);return l<1?"Just now":l<24?`${l} hour${l>1?"s":""} ago`:t.toLocaleDateString()})(N.last_regenerated))))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h3",null,"Pro Tip"),(0,t.createElement)("p",{className:"muted"},"Submit your sitemap to Google Search Console and Bing Webmaster Tools for faster indexing.")))):(0,t.createElement)("div",{className:"page-body two-column"},(0,t.createElement)("div",{className:"main-column"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"LLM.txt Configuration"),(0,t.createElement)("p",{className:"muted"},"Help AI engines discover your content. Similar to XML sitemaps for search engines, llm.txt guides AI crawlers like ChatGPT and Claude."," ",(0,t.createElement)("a",{href:"https://llmstxt.org/",target:"_blank",rel:"noopener noreferrer"},"Learn more")),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Enable llm.txt"),(0,t.createElement)("p",{className:"settings-help"},"Generate and serve the llm.txt file.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===g.enable_llm_txt,onChange:e=>E(t=>({...t,enable_llm_txt:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},"1"===g.enable_llm_txt?"Enabled":"Disabled")))),"1"===g.enable_llm_txt&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title"),(0,t.createElement)("p",{className:"settings-help"},"Main title in your llm.txt file.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"text",value:g.llm_txt_title,onChange:e=>E(t=>({...t,llm_txt_title:e.target.value})),placeholder:"Defaults to site name"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description"),(0,t.createElement)("p",{className:"settings-help"},"Brief description below the title.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("textarea",{value:g.llm_txt_description,onChange:e=>E(t=>({...t,llm_txt_description:e.target.value})),placeholder:"Defaults to site tagline",rows:"3"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Max Posts Per Type"),(0,t.createElement)("p",{className:"settings-help"},"Limit posts included per type (1-500).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",value:g.llm_txt_posts_per_type,onChange:e=>E(t=>({...t,llm_txt_posts_per_type:parseInt(e.target.value,10)||50})),min:"1",max:"500",style:{width:"120px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Options")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===g.llm_txt_include_excerpt,onChange:e=>E(t=>({...t,llm_txt_include_excerpt:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Include post excerpts/descriptions")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Content Included"),(0,t.createElement)("p",{className:"settings-help"},"Post types in your llm.txt file.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"post-types-preview"},h.map(e=>{const a=Math.min(e.count,g.llm_txt_posts_per_type);return(0,t.createElement)("div",{key:e.name,className:"post-type-preview-item"},(0,t.createElement)("div",{className:"post-type-info"},(0,t.createElement)("strong",null,e.label),(0,t.createElement)("span",{className:"muted"},a," of ",e.count," posts")))})))))),"1"===g.enable_llm_txt&&(0,t.createElement)("div",{className:"form-actions",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{await n()({path:"/wpseopilot/v2/sitemap/llm-settings",method:"POST",data:g})}catch(e){console.error("Failed to save LLM settings:",e)}finally{i(!1)}},disabled:c},c?"Saving...":"Save Changes"),(0,t.createElement)("a",{href:g.llm_txt_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"View llm.txt")))),(0,t.createElement)("aside",{className:"side-panel"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h3",null,"Your llm.txt"),"1"===g.enable_llm_txt?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("code",{className:"url-display"},g.llm_txt_url),(0,t.createElement)("p",{className:"muted",style:{marginTop:"12px",fontSize:"13px"}},"If not accessible, go to Settings > Permalinks and save to flush rewrite rules.")):(0,t.createElement)("p",{className:"muted"},"Enable llm.txt to generate your file.")),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h3",null,"What is llm.txt?"),(0,t.createElement)("p",{className:"muted"},"A standardized file that helps AI language models like ChatGPT, Claude, and Gemini discover and understand your content structure."),(0,t.createElement)("p",{className:"muted",style:{marginTop:"8px"}},"This improves how AI systems reference and cite your content when answering questions."),(0,t.createElement)("a",{href:"https://llmstxt.org/",target:"_blank",rel:"noopener noreferrer",className:"button ghost small",style:{marginTop:"12px"}},"Learn More")))))},W=[{id:"general-seo",name:"SEO Assistant",description:"Your helpful SEO buddy for all things search optimization. Ask about meta tags, keywords, content, and more.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.createElement)("path",{d:"M21 21l-4.35-4.35"}),(0,t.createElement)("path",{d:"M11 8v6M8 11h6"})),color:"#2271b1"},{id:"seo-reporter",name:"SEO Reporter",description:"Get quick reports on your site's SEO health. Find issues, track improvements, and get actionable tips.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),(0,t.createElement)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M9 12h6M9 16h6"})),color:"#00a32a"}],D=[{id:"bulk-editor",name:"Smart Bulk Editor",description:"Edit SEO titles and descriptions in bulk with AI-powered suggestions. Spreadsheet view for efficient editing.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),(0,t.createElement)("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})),color:"#6366f1"},{id:"content-gaps",name:"Content Gaps Finder",description:"AI finds what you should write about. Discover missing topics and get content outlines automatically.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),(0,t.createElement)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M12 12v4M10 14h4"})),color:"#059669"},{id:"schema-builder",name:"Schema Builder",description:"Visual drag-and-drop schema creation. Generate structured data for rich search results with AI assistance.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M16 18l2-2-2-2M8 18l-2-2 2-2M14 4l-4 16"})),color:"#8b5cf6"}],z=[{id:"redirects",name:"Redirects",description:"Create and manage URL redirects. Handle 301, 302, and 307 redirects to maintain SEO value when URLs change.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}),(0,t.createElement)("path",{d:"M15 6l-6 6 6 6",opacity:"0.5"})),color:"#2271b1",popular:!0},{id:"404-log",name:"404 Log",description:"Track and fix broken links. Monitor 404 errors in real-time and quickly create redirects to fix them.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 8v4m0 4h.01"})),color:"#d63638",popular:!0},{id:"audit",name:"SEO Audit",description:"Analyze your site for SEO issues. Get actionable recommendations to improve rankings and fix problems.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),(0,t.createElement)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M9 12l2 2 4-4"})),color:"#00a32a",popular:!0},{id:"ai-assistant",name:"AI Assistant",description:"Generate SEO-optimized content with AI. Create titles, descriptions, and content suggestions automatically.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z"}),(0,t.createElement)("circle",{cx:"9",cy:"13",r:"1"}),(0,t.createElement)("circle",{cx:"15",cy:"13",r:"1"}),(0,t.createElement)("path",{d:"M9 17h6"})),color:"#8b5cf6",popular:!0},{id:"internal-linking",name:"Internal Linking",description:"Discover and manage internal link opportunities. Build a stronger site structure for better SEO.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),(0,t.createElement)("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"})),color:"#0891b2",popular:!1},{id:"robots-txt",name:"Robots.txt Editor",description:"View and edit your robots.txt file. Control how search engines crawl your site.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,t.createElement)("path",{d:"M9 9h6M9 13h6M9 17h4"})),color:"#64748b",popular:!1,comingSoon:!0},{id:"htaccess-editor",name:".htaccess Editor",description:"Safely edit your .htaccess file. Manage redirects, security rules, and server configuration.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z"})),color:"#be185d",popular:!1,comingSoon:!0},{id:"sitemap-validator",name:"Sitemap Validator",description:"Test and validate your XML sitemap. Ensure all URLs are accessible and properly formatted.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),(0,t.createElement)("path",{d:"M2 17l10 5 10-5M2 12l10 5 10-5"})),color:"#0d9488",popular:!1,comingSoon:!0},{id:"meta-validator",name:"Meta Tag Tester",description:"Test any URL for SEO meta tags. Validate titles, descriptions, OG tags, and Twitter cards.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"}),(0,t.createElement)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M9 12h6M9 16h6"})),color:"#7c3aed",popular:!1,comingSoon:!0},{id:"schema-validator",name:"Schema Validator",description:"Test structured data on any page. Validate JSON-LD, Microdata, and RDFa markup.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M4 6h16M4 12h16M4 18h10"}),(0,t.createElement)("circle",{cx:"19",cy:"18",r:"3"}),(0,t.createElement)("path",{d:"M19 16v2h2"})),color:"#ea580c",popular:!1,comingSoon:!0},{id:"heading-analyzer",name:"Heading Analyzer",description:"Analyze heading structure of any page. Check H1-H6 hierarchy and find issues.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M4 12h8M4 18V6M12 18V6M20 7v10M16 7h8M16 12h6"})),color:"#0284c7",popular:!1,comingSoon:!0},{id:"link-health",name:"Link Health",description:"Scan your site for broken links and orphan pages. Find and fix link issues before they hurt your SEO.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M15 7h3a5 5 0 010 10h-3m-6 0H6a5 5 0 010-10h3"}),(0,t.createElement)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,t.createElement)("path",{d:"M9 12l2 2 4-4"})),color:"#059669",popular:!0},{id:"page-speed",name:"Page Speed Test",description:"Test page load performance. Get Core Web Vitals scores and optimization tips.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 6v6l4 2"})),color:"#16a34a",popular:!1,comingSoon:!0},{id:"mobile-test",name:"Mobile Friendly Test",description:"Check if pages are mobile-friendly. Identify viewport and touch issues.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2"}),(0,t.createElement)("path",{d:"M12 18h.01"})),color:"#2563eb",popular:!1,comingSoon:!0},{id:"image-optimizer",name:"Image SEO Checker",description:"Analyze images for SEO. Check alt texts, file sizes, and compression opportunities.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,t.createElement)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,t.createElement)("path",{d:"M21 15l-5-5L5 21"})),color:"#f59e0b",popular:!1,comingSoon:!0},{id:"schema-generator",name:"Schema Generator",description:"Generate structured data markup for rich snippets. Support for articles, products, FAQs, and more.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M16 18l2-2-2-2M8 18l-2-2 2-2M14 4l-4 16"})),color:"#8b5cf6",popular:!1,comingSoon:!0},{id:"keyword-tracker",name:"Keyword Tracker",description:"Monitor keyword rankings over time. Track your positions in search results and see trends.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M3 3v18h18"}),(0,t.createElement)("path",{d:"M18 9l-5 5-4-4-3 3"})),color:"#059669",popular:!1,comingSoon:!0},{id:"bulk-editor",name:"Bulk Editor",description:"Edit SEO titles and descriptions in bulk. Make changes to multiple posts at once efficiently.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),(0,t.createElement)("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})),color:"#6366f1",popular:!1,comingSoon:!0}],$=({onNavigate:e})=>{const[l,n]=(0,a.useState)(null),s=t=>{if(t.comingSoon)return;const a={redirects:"redirects","404-log":"404-log",audit:"audit","ai-assistant":"ai-assistant","internal-linking":"internal-linking","robots-txt":"robots-txt","htaccess-editor":"htaccess-editor","sitemap-validator":"sitemap-validator","meta-validator":"meta-validator","schema-validator":"schema-validator","heading-analyzer":"heading-analyzer","link-health":"link-health","page-speed":"page-speed","mobile-test":"mobile-test","image-optimizer":"image-optimizer","bulk-editor":"bulk-editor","content-gaps":"content-gaps","schema-builder":"schema-builder"}[t.id];a&&e&&e(a)},r=z.filter(e=>e.popular),c=z.filter(e=>!e.popular);return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Tools"),(0,t.createElement)("p",null,"SEO utilities and helpers to optimize your website."))),(0,t.createElement)("section",{className:"tools-section"},(0,t.createElement)("h2",{className:"tools-section__title"},"AI-Powered Tools"),(0,t.createElement)("div",{className:"tools-grid tools-grid--large"},D.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:"tool-card "+(l===e.id?"tool-card--hover":""),onClick:()=>s(e),onMouseEnter:()=>n(e.id),onMouseLeave:()=>n(null)},(0,t.createElement)("div",{className:"tool-card__icon",style:{backgroundColor:`${e.color}15`,color:e.color}},e.icon),(0,t.createElement)("div",{className:"tool-card__content"},(0,t.createElement)("div",{className:"tool-card__header"},(0,t.createElement)("h3",{className:"tool-card__name"},e.name),(0,t.createElement)("span",{className:"tool-card__badge tool-card__badge--ai"},"AI")),(0,t.createElement)("p",{className:"tool-card__desc"},e.description)),(0,t.createElement)("div",{className:"tool-card__arrow",style:{color:e.color}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}))))))),(0,t.createElement)("section",{className:"tools-section"},(0,t.createElement)("h2",{className:"tools-section__title"},"AI Assistants"),(0,t.createElement)("div",{className:"tools-grid tools-grid--large"},W.map(a=>(0,t.createElement)("button",{key:a.id,type:"button",className:"tool-card "+(l===a.id?"tool-card--hover":""),onClick:()=>{e&&e("assistants")},onMouseEnter:()=>n(a.id),onMouseLeave:()=>n(null)},(0,t.createElement)("div",{className:"tool-card__icon",style:{backgroundColor:`${a.color}15`,color:a.color}},a.icon),(0,t.createElement)("div",{className:"tool-card__content"},(0,t.createElement)("div",{className:"tool-card__header"},(0,t.createElement)("h3",{className:"tool-card__name"},a.name),(0,t.createElement)("span",{className:"tool-card__badge tool-card__badge--ai"},"AI")),(0,t.createElement)("p",{className:"tool-card__desc"},a.description)),(0,t.createElement)("div",{className:"tool-card__arrow",style:{color:a.color}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}))))))),(0,t.createElement)("section",{className:"tools-section"},(0,t.createElement)("h2",{className:"tools-section__title"},"Popular Tools"),(0,t.createElement)("div",{className:"tools-grid tools-grid--large"},r.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:`tool-card ${e.comingSoon?"tool-card--disabled":""} ${l===e.id?"tool-card--hover":""}`,onClick:()=>s(e),onMouseEnter:()=>n(e.id),onMouseLeave:()=>n(null),disabled:e.comingSoon},(0,t.createElement)("div",{className:"tool-card__icon",style:{backgroundColor:`${e.color}15`,color:e.color}},e.icon),(0,t.createElement)("div",{className:"tool-card__content"},(0,t.createElement)("div",{className:"tool-card__header"},(0,t.createElement)("h3",{className:"tool-card__name"},e.name),e.comingSoon&&(0,t.createElement)("span",{className:"tool-card__badge"},"Coming Soon")),(0,t.createElement)("p",{className:"tool-card__desc"},e.description)),(0,t.createElement)("div",{className:"tool-card__arrow",style:{color:e.color}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}))))))),(0,t.createElement)("section",{className:"tools-section"},(0,t.createElement)("h2",{className:"tools-section__title"},"More Tools"),(0,t.createElement)("div",{className:"tools-grid tools-grid--small"},c.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:"tool-card tool-card--compact "+(e.comingSoon?"tool-card--disabled":""),onClick:()=>s(e),disabled:e.comingSoon},(0,t.createElement)("div",{className:"tool-card__icon tool-card__icon--small",style:{backgroundColor:`${e.color}15`,color:e.color}},e.icon),(0,t.createElement)("div",{className:"tool-card__content"},(0,t.createElement)("div",{className:"tool-card__header"},(0,t.createElement)("h3",{className:"tool-card__name"},e.name),e.comingSoon&&(0,t.createElement)("span",{className:"tool-card__badge"},"Soon")),(0,t.createElement)("p",{className:"tool-card__desc"},e.description)))))))},U=[{value:301,label:"301 Permanent"},{value:302,label:"302 Temporary"},{value:307,label:"307"},{value:410,label:"410 Gone"}],V={source:"",target:"",status_code:301,is_regex:!1,group_name:"",start_date:"",end_date:"",notes:""},G=()=>{const[e,l]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[c,i]=(0,a.useState)({page:1,per_page:50,total:0,total_pages:1}),[o,m]=(0,a.useState)({...V}),[d,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(!1),[E,h]=(0,a.useState)(!1),[v,b]=(0,a.useState)(""),[y,N]=(0,a.useState)([]),[_,k]=(0,a.useState)(!1),[f,w]=(0,a.useState)(""),[x,C]=(0,a.useState)(""),[S,P]=(0,a.useState)(""),[A,T]=(0,a.useState)([]),[L,M]=(0,a.useState)([]),[I,F]=(0,a.useState)(!1),[O,B]=(0,a.useState)(!1),[R,W]=(0,a.useState)(""),[D,z]=(0,a.useState)("json"),[$,G]=(0,a.useState)(!1),[H,j]=(0,a.useState)(!1),[q,Y]=(0,a.useState)(null),[J,K]=(0,a.useState)([]),[X,Q]=(0,a.useState)(!0),Z=(0,a.useRef)(null),ee=(0,a.useCallback)(async(e=1)=>{r(!0);try{const t=new URLSearchParams;t.append("page",e),t.append("per_page",c.per_page),f&&t.append("search",f),x&&t.append("group",x),S&&t.append("status_code",S);const a=await n()({path:`/wpseopilot/v2/redirects?${t}`});a.success&&(l(a.data.items||[]),i(e=>({...e,page:a.data.page,total:a.data.total,total_pages:a.data.total_pages})))}catch(e){console.error("Failed to fetch redirects:",e)}finally{r(!1)}},[f,x,S,c.per_page]),te=(0,a.useCallback)(async()=>{try{const e=await n()({path:"/wpseopilot/v2/redirects/groups"});e.success&&T(e.data||[])}catch(e){console.error("Failed to fetch groups:",e)}},[]),ae=(0,a.useCallback)(async()=>{Q(!0);try{const e=await n()({path:"/wpseopilot/v2/slug-suggestions"});e.success&&K(e.data)}catch(e){console.error("Failed to fetch suggestions:",e)}finally{Q(!1)}},[]);(0,a.useEffect)(()=>{ee(),te(),ae();const e=sessionStorage.getItem("wpseopilot_redirect_source");e&&(m(t=>({...t,source:e})),g(!0),sessionStorage.removeItem("wpseopilot_redirect_source"))},[]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{ee(1)},300);return()=>clearTimeout(e)},[f,x,S]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{(async(e,t)=>{if(e&&t)try{const a=await n()({path:"/wpseopilot/v2/redirects/validate-chain",method:"POST",data:{source:e,target:t,exclude_id:d||0}});a.success&&N(a.data.warnings||[])}catch(e){console.error("Chain validation failed:",e)}})(o.source,o.target)},500);return()=>clearTimeout(e)},[o.source,o.target]);const le=(e,t)=>{m(a=>({...a,[e]:t})),b("")},ne=()=>{m({...V}),p(null),g(!0),N([]),k(!1),b("")},se=()=>{g(!1),p(null),m({...V}),N([]),b("")},re=async e=>{try{const t=await n()({path:`/wpseopilot/v2/redirects/export?format=${e}`});if(t.success){const a=new Blob([t.data.content],{type:"json"===e?"application/json":"text/csv"}),l=URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download=t.data.filename,n.click(),URL.revokeObjectURL(l)}}catch(e){console.error("Export failed:",e)}},ce=e=>e?new Date(e).toLocaleDateString():null;return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Redirects"),(0,t.createElement)("p",null,"Create and manage URL redirects to maintain SEO value when URLs change.")),(0,t.createElement)("div",{className:"page-header-actions"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:()=>B(!0)},"Import"),(0,t.createElement)("div",{className:"dropdown"},(0,t.createElement)("button",{type:"button",className:"button ghost"},"Export"),(0,t.createElement)("div",{className:"dropdown-menu"},(0,t.createElement)("button",{onClick:()=>re("json")},"Export as JSON"),(0,t.createElement)("button",{onClick:()=>re("csv")},"Export as CSV"))),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:ne},"Add Redirect"))),(0,t.createElement)("section",{className:"panel"},!X&&J.length>0&&(0,t.createElement)("div",{className:"alert-card warning",style:{marginBottom:"24px"}},(0,t.createElement)("div",{className:"alert-header"},(0,t.createElement)("h3",null,"Detected Slug Changes")),(0,t.createElement)("p",{className:"muted"},"The following posts have changed their URL structure. Create redirects to prevent 404 errors."),(0,t.createElement)("table",{className:"data-table suggestions-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Old Path"),(0,t.createElement)("th",null,"New Target"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,J.map(e=>(0,t.createElement)("tr",{key:e.key},(0,t.createElement)("td",null,(0,t.createElement)("code",null,e.source)),(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},e.target)),(0,t.createElement)("td",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(async e=>{try{(await n()({path:`/wpseopilot/v2/slug-suggestions/${e}/apply`,method:"POST"})).success&&(K(J.filter(t=>t.key!==e)),ee())}catch(e){console.error("Failed to apply suggestion:",e)}})(e.key)},"Apply"),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(e=>{m(t=>({...t,source:e.source,target:e.target,status_code:301})),g(!0)})(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>(async e=>{try{await n()({path:`/wpseopilot/v2/slug-suggestions/${e}/dismiss`,method:"POST"}),K(J.filter(t=>t.key!==e))}catch(e){console.error("Failed to dismiss suggestion:",e)}})(e.key)},"Dismiss"))))))),(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",{className:"table-toolbar-filters"},(0,t.createElement)("input",{type:"search",placeholder:"Search redirects...",value:f,onChange:e=>w(e.target.value),className:"search-input"}),(0,t.createElement)("select",{value:x,onChange:e=>C(e.target.value)},(0,t.createElement)("option",{value:""},"All Groups"),A.map(e=>(0,t.createElement)("option",{key:e,value:e},e))),(0,t.createElement)("select",{value:S,onChange:e=>P(e.target.value)},(0,t.createElement)("option",{value:""},"All Status"),U.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("div",{className:"table-toolbar-info"},(0,t.createElement)("span",{className:"muted"},c.total," redirect",1!==c.total?"s":""))),L.length>0&&(0,t.createElement)("div",{className:"bulk-actions"},(0,t.createElement)("span",null,L.length," selected"),(0,t.createElement)("button",{type:"button",className:"button danger small",onClick:async()=>{if(0!==L.length&&window.confirm(`Delete ${L.length} selected redirect(s)?`)){F(!0);try{await n()({path:"/wpseopilot/v2/redirects/bulk-delete",method:"POST",data:{ids:L}}),M([]),ee(c.page),te()}catch(e){console.error("Failed to bulk delete:",e)}finally{F(!1)}}},disabled:I},I?"Deleting...":"Delete Selected"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>M([])},"Clear Selection")),s?(0,t.createElement)("div",{className:"loading-state"},"Loading redirects..."):0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"48",height:"48"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}),(0,t.createElement)("path",{d:"M15 6l-6 6 6 6",opacity:"0.5"}))),(0,t.createElement)("h3",null,"No redirects found"),(0,t.createElement)("p",null,f||x||S?"Try adjusting your filters.":"Add your first redirect to get started."),!f&&!x&&!S&&(0,t.createElement)("button",{type:"button",className:"button primary",onClick:ne},"Add Redirect")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"checkbox-col"},(0,t.createElement)("input",{type:"checkbox",checked:L.length===e.length&&e.length>0,onChange:()=>{L.length===e.length?M([]):M(e.map(e=>e.id))}})),(0,t.createElement)("th",null,"Source"),(0,t.createElement)("th",null,"Target"),(0,t.createElement)("th",null,"Status"),(0,t.createElement)("th",null,"Hits"),(0,t.createElement)("th",null,"Last Hit"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>(0,t.createElement)("tr",{key:e.id,className:e.is_active?"":"inactive-row"},(0,t.createElement)("td",{className:"checkbox-col"},(0,t.createElement)("input",{type:"checkbox",checked:L.includes(e.id),onChange:()=>{return t=e.id,void M(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})),(0,t.createElement)("td",null,(0,t.createElement)("code",null,e.source),e.is_regex&&(0,t.createElement)("span",{className:"pill info small",style:{marginLeft:"6px"}},"Regex"),e.group_name&&(0,t.createElement)("span",{className:"pill muted small",style:{marginLeft:"6px"}},e.group_name)),(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.target,target:"_blank",rel:"noopener noreferrer",className:"truncate-link"},e.target)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(301===e.status_code?"success":410===e.status_code?"danger":"warning")},e.status_code)),(0,t.createElement)("td",null,e.hits),(0,t.createElement)("td",null,(e=>{if(!e||"0000-00-00 00:00:00"===e)return"-";const t=new Date(e);return t.toLocaleDateString()+", "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(e.last_hit),!e.is_active&&(0,t.createElement)("div",{className:"text-muted text-small"},e.start_date&&new Date(e.start_date)>new Date?`Starts: ${ce(e.start_date)}`:`Ended: ${ce(e.end_date)}`)),(0,t.createElement)("td",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>(e=>{m({source:e.source||"",target:e.target||"",status_code:e.status_code||301,is_regex:e.is_regex||!1,group_name:e.group_name||"",start_date:e.start_date?e.start_date.slice(0,16):"",end_date:e.end_date?e.end_date.slice(0,16):"",notes:e.notes||""}),p(e.id),g(!0),N([]),k(!!e.start_date||!!e.end_date||!!e.notes),b("")})(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this redirect?"))try{await n()({path:`/wpseopilot/v2/redirects/${e}`,method:"DELETE"}),ee(c.page),te()}catch(e){console.error("Failed to delete redirect:",e)}})(e.id)},"Delete")))))),c.total_pages>1&&(0,t.createElement)("div",{className:"pagination"},(0,t.createElement)("button",{type:"button",className:"button ghost small",disabled:c.page<=1,onClick:()=>ee(c.page-1)},"Previous"),(0,t.createElement)("span",{className:"pagination-info"},"Page ",c.page," of ",c.total_pages),(0,t.createElement)("button",{type:"button",className:"button ghost small",disabled:c.page>=c.total_pages,onClick:()=>ee(c.page+1)},"Next")))),u&&(0,t.createElement)("div",{className:"modal-overlay",onClick:se},(0,t.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal-header"},(0,t.createElement)("h2",null,d?"Edit Redirect":"Add Redirect"),(0,t.createElement)("button",{type:"button",className:"modal-close",onClick:se},"×")),(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),h(!0),b("");try{const e={...o};let t;e.start_date||(e.start_date=null),e.end_date||(e.end_date=null),t=d?await n()({path:`/wpseopilot/v2/redirects/${d}`,method:"PUT",data:e}):await n()({path:"/wpseopilot/v2/redirects",method:"POST",data:e}),t.success?(se(),ee(c.page),te(),ae()):b(t.message||"Failed to save redirect")}catch(e){b(e.message||"Failed to save redirect")}finally{h(!1)}}},(0,t.createElement)("div",{className:"modal-body"},y.length>0&&(0,t.createElement)("div",{className:"chain-warnings"},y.map((e,a)=>(0,t.createElement)("div",{key:a,className:"alert-inline "+("loop"===e.type?"danger":"warning")},e.message))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-source"},"Source Path"),(0,t.createElement)("input",{type:"text",id:"modal-source",placeholder:o.is_regex?"^/old-path/(.*)$":"/old-url",value:o.source,onChange:e=>le("source",e.target.value),required:!0}),(0,t.createElement)("label",{className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",checked:o.is_regex,onChange:e=>le("is_regex",e.target.checked)}),"Use regex pattern"),o.is_regex&&(0,t.createElement)("p",{className:"field-hint"},"Use capture groups like (.*) and reference them in target as $1, $2, etc.")),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-target"},"Target URL"),(0,t.createElement)("input",{type:"text",id:"modal-target",placeholder:o.is_regex?"https://example.com/new-path/$1":"https://example.com/new-url",value:o.target,onChange:e=>le("target",e.target.value),required:!0})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-status"},"Status Code"),(0,t.createElement)("select",{id:"modal-status",value:o.status_code,onChange:e=>le("status_code",parseInt(e.target.value,10))},U.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-group"},"Group (optional)"),(0,t.createElement)("input",{type:"text",id:"modal-group",placeholder:"e.g., migration, campaign",value:o.group_name,onChange:e=>le("group_name",e.target.value),list:"group-suggestions"}),(0,t.createElement)("datalist",{id:"group-suggestions"},A.map(e=>(0,t.createElement)("option",{key:e,value:e}))))),(0,t.createElement)("button",{type:"button",className:"link-button advanced-toggle",onClick:()=>k(!_)},_?"Hide Advanced Options":"Show Advanced Options"),_&&(0,t.createElement)("div",{className:"advanced-options"},(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-start-date"},"Start Date (optional)"),(0,t.createElement)("input",{type:"datetime-local",id:"modal-start-date",value:o.start_date,onChange:e=>le("start_date",e.target.value)}),(0,t.createElement)("p",{className:"field-hint"},"Redirect activates at this time")),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-end-date"},"End Date (optional)"),(0,t.createElement)("input",{type:"datetime-local",id:"modal-end-date",value:o.end_date,onChange:e=>le("end_date",e.target.value)}),(0,t.createElement)("p",{className:"field-hint"},"Redirect expires after this time"))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"modal-notes"},"Notes (optional)"),(0,t.createElement)("textarea",{id:"modal-notes",placeholder:"Internal notes about this redirect...",value:o.notes,onChange:e=>le("notes",e.target.value),rows:"2"}))),v&&(0,t.createElement)("p",{className:"form-error"},v)),(0,t.createElement)("div",{className:"modal-footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:se},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:E},E?"Saving...":d?"Update Redirect":"Add Redirect"))))),O&&(0,t.createElement)("div",{className:"modal-overlay",onClick:()=>B(!1)},(0,t.createElement)("div",{className:"modal modal-wide",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal-header"},(0,t.createElement)("h2",null,"Import Redirects"),(0,t.createElement)("button",{type:"button",className:"modal-close",onClick:()=>B(!1)},"×")),(0,t.createElement)("div",{className:"modal-body"},(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",null,"Upload File"),(0,t.createElement)("input",{type:"file",ref:Z,accept:".json,.csv",onChange:e=>{const t=e.target.files?.[0];if(!t)return;const a=new FileReader;a.onload=e=>{W(e.target.result),z(t.name.endsWith(".csv")?"csv":"json")},a.readAsText(t)}})),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",null,"Or paste data directly"),(0,t.createElement)("textarea",{value:R,onChange:e=>W(e.target.value),placeholder:"Paste JSON or CSV data here...",rows:"8",className:"code-textarea"})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",null,"Format"),(0,t.createElement)("select",{value:D,onChange:e=>z(e.target.value)},(0,t.createElement)("option",{value:"json"},"JSON"),(0,t.createElement)("option",{value:"csv"},"CSV"))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{className:"checkbox-label",style:{marginTop:"28px"}},(0,t.createElement)("input",{type:"checkbox",checked:$,onChange:e=>G(e.target.checked)}),"Overwrite existing redirects"))),q&&(0,t.createElement)("div",{className:"import-result "+(q.error?"error":"success")},q.error?(0,t.createElement)("p",null,"Error: ",q.error):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",null,"Imported: ",q.imported," | Skipped: ",q.skipped),q.errors?.length>0&&(0,t.createElement)("ul",{className:"import-errors"},q.errors.slice(0,5).map((e,a)=>(0,t.createElement)("li",{key:a},e)),q.errors.length>5&&(0,t.createElement)("li",null,"...and ",q.errors.length-5," more"))))),(0,t.createElement)("div",{className:"modal-footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:()=>B(!1)},"Close"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{if(R.trim()){j(!0),Y(null);try{const e=await n()({path:"/wpseopilot/v2/redirects/import",method:"POST",data:{format:D,data:R,overwrite:$}});e.success?(Y(e.data),ee(1),te()):Y({error:e.message})}catch(e){Y({error:e.message})}finally{j(!1)}}},disabled:H||!R.trim()},H?"Importing...":"Import")))))},H=[{value:301,label:"301 - Permanent Redirect"},{value:302,label:"302 - Temporary Redirect"},{value:307,label:"307 - Temporary (Preserve Method)"},{value:410,label:"410 - Gone (Deleted)"}],j=({entry:e,onClose:l,onSuccess:s})=>{const[r,c]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[m,d]=(0,a.useState)(!1),[p,u]=(0,a.useState)(""),[g,E]=(0,a.useState)(""),[h,v]=(0,a.useState)(301),[b,y]=(0,a.useState)(!0),[N,_]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{o(!0);try{const t=await n()({path:`/wpseopilot/v2/404-log/${e.id}/suggestions`});t.success&&t.data.suggestions&&(c(t.data.suggestions),t.data.suggestions.length>0&&u(t.data.suggestions[0].url))}catch(e){console.error("Failed to fetch suggestions:",e)}finally{o(!1)}})()},[e.id]),(0,t.createElement)("div",{className:"modal-overlay",onClick:e=>e.target===e.currentTarget&&l()},(0,t.createElement)("div",{className:"modal redirect-modal"},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,"Create Redirect"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:l},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20"},(0,t.createElement)("path",{d:"M18 6L6 18M6 6l12 12"})))),(0,t.createElement)("div",{className:"modal__body"},(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",null,"Source URL (404)"),(0,t.createElement)("div",{className:"source-url"},(0,t.createElement)("code",null,e.request_uri),(0,t.createElement)("span",{className:"hits-badge"},e.hits," hits"))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",null,"Target URL"),i?(0,t.createElement)("div",{className:"suggestions-loading"},"Loading suggestions..."):(0,t.createElement)(t.Fragment,null,r.length>0&&(0,t.createElement)("div",{className:"suggestions-list"},(0,t.createElement)("p",{className:"suggestions-label"},"Suggested targets:"),r.map((e,a)=>(0,t.createElement)("label",{key:a,className:"suggestion-item"},(0,t.createElement)("input",{type:"radio",name:"target",value:e.url,checked:p===e.url,onChange:()=>u(e.url)}),(0,t.createElement)("div",{className:"suggestion-content"},(0,t.createElement)("span",{className:"suggestion-title"},e.title),(0,t.createElement)("span",{className:"suggestion-url"},e.url),(0,t.createElement)("span",{className:"suggestion-score"},e.score,"% match"))))),(0,t.createElement)("div",{className:"custom-url-option"},(0,t.createElement)("label",{className:"suggestion-item"},(0,t.createElement)("input",{type:"radio",name:"target",value:"custom",checked:"custom"===p,onChange:()=>u("custom")}),(0,t.createElement)("span",null,"Enter custom URL")),"custom"===p&&(0,t.createElement)("input",{type:"url",className:"custom-url-input",placeholder:"https://example.com/page",value:g,onChange:e=>E(e.target.value),autoFocus:!0})))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{htmlFor:"status-code"},"Status Code"),(0,t.createElement)("select",{id:"status-code",value:h,onChange:e=>v(parseInt(e.target.value,10))},H.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked)}),(0,t.createElement)("span",null,"Remove 404 entry after creating redirect"))),N&&(0,t.createElement)("div",{className:"form-error"},N)),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button",onClick:l,disabled:m},"Cancel"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{const t="custom"===p?g:p;if(t){d(!0),_("");try{const a=await n()({path:`/wpseopilot/v2/404-log/${e.id}/create-redirect`,method:"POST",data:{target:t,status_code:h,delete_entry:b}});a.success?s(a.data):_(a.message||"Failed to create redirect.")}catch(e){_(e.message||"Failed to create redirect.")}finally{d(!1)}}else _("Please select or enter a target URL.")},disabled:m||i||!p||"custom"===p&&!g},m?"Creating...":"Create Redirect"))))},q=({onClose:e,onPatternChange:l})=>{const[s,r]=(0,a.useState)([]),[c,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),[u,g]=(0,a.useState)(""),[E,h]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),[y,N]=(0,a.useState)("");(0,a.useEffect)(()=>{_()},[]);const _=async()=>{i(!0);try{const e=await n()({path:"/wpseopilot/v2/404-ignore-patterns"});e.success&&r(e.data)}catch(e){console.error("Failed to fetch patterns:",e)}finally{i(!1)}};return(0,t.createElement)("div",{className:"modal-overlay",onClick:e},(0,t.createElement)("div",{className:"modal ignore-pattern-modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal-header"},(0,t.createElement)("h2",null,"Manage Ignore Patterns"),(0,t.createElement)("button",{type:"button",className:"modal-close",onClick:e},(0,t.createElement)("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:"20",height:"20"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),(0,t.createElement)("div",{className:"modal-body"},(0,t.createElement)("p",{className:"modal-description"},"Add URL patterns to automatically ignore matching 404 errors. Use ",(0,t.createElement)("code",null,"*")," as wildcard (e.g., ",(0,t.createElement)("code",null,"/uploads/*"),") or enable regex for complex patterns."),(0,t.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()){h(!0),N("");try{const e=await n()({path:"/wpseopilot/v2/404-ignore-patterns",method:"POST",data:{pattern:o.trim(),is_regex:d,reason:u.trim()}});e.success?(r(t=>[...t,e.data]),m(""),p(!1),g(""),l?.()):N(e.message||"Failed to add pattern")}catch(e){N(e.message||"Failed to add pattern")}finally{h(!1)}}},className:"pattern-form"},(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",{className:"form-field"},(0,t.createElement)("span",null,"Pattern"),(0,t.createElement)("input",{type:"text",value:o,onChange:e=>m(e.target.value),placeholder:d?"^/old-.*\\.html$":"/uploads/*",disabled:E}))),(0,t.createElement)("div",{className:"form-row form-row--split"},(0,t.createElement)("label",{className:"form-field"},(0,t.createElement)("span",null,"Reason (optional)"),(0,t.createElement)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"e.g., Legacy URLs",disabled:E})),(0,t.createElement)("label",{className:"form-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:d,onChange:e=>p(e.target.checked),disabled:E}),(0,t.createElement)("span",null,"Use Regex"))),y&&(0,t.createElement)("p",{className:"form-error"},y),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:E||!o.trim()},E?"Adding...":"Add Pattern"))),(0,t.createElement)("div",{className:"patterns-list"},(0,t.createElement)("h3",null,"Current Patterns"),c?(0,t.createElement)("div",{className:"loading-state"},"Loading patterns..."):0===s.length?(0,t.createElement)("div",{className:"empty-state small"},(0,t.createElement)("p",null,"No ignore patterns defined yet.")):(0,t.createElement)("table",{className:"data-table compact"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Pattern"),(0,t.createElement)("th",null,"Type"),(0,t.createElement)("th",null,"Reason"),(0,t.createElement)("th",null,"Created"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,s.map(e=>{return(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("code",null,e.pattern)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"badge "+(e.is_regex?"info":"muted")},e.is_regex?"Regex":"Wildcard")),(0,t.createElement)("td",null,e.reason||"-"),(0,t.createElement)("td",null,(a=e.created_at)&&"0000-00-00 00:00:00"!==a?new Date(a).toLocaleDateString():"-"),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"button ghost small danger",onClick:()=>(async e=>{b(e);try{await n()({path:`/wpseopilot/v2/404-ignore-patterns/${e}`,method:"DELETE"}),r(t=>t.filter(t=>t.id!==e)),l?.()}catch(e){console.error("Failed to delete pattern:",e)}finally{b(null)}})(e.id),disabled:v===e.id},v===e.id?"...":"Delete")));var a}))))),(0,t.createElement)("div",{className:"modal-footer"},(0,t.createElement)("button",{type:"button",className:"button",onClick:e},"Close"))))},Y=[{value:"recent",label:"Most recent"},{value:"top",label:"Top hits"}],J=[25,50,100,200],K=({onNavigate:e})=>{const[l,s]=(0,a.useState)([]),[r,c]=(0,a.useState)(!0),[i,o]=(0,a.useState)(0),[m,d]=(0,a.useState)(0),[p,u]=(0,a.useState)(1),[g,E]=(0,a.useState)(50),[h,v]=(0,a.useState)(1),[b,y]=(0,a.useState)("recent"),[N,_]=(0,a.useState)(!0),[k,f]=(0,a.useState)(!1),[w,x]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),[P,A]=(0,a.useState)(null),[T,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)(!1),[F,O]=(0,a.useState)(!1),[B,R]=(0,a.useState)(!1),[W,D]=(0,a.useState)(0),[z,$]=(0,a.useState)(null),U=(0,a.useCallback)(async()=>{c(!0);try{const e=new URLSearchParams({sort:b,per_page:g,page:p,hide_spam:N?"1":"0",hide_images:k?"1":"0",hide_bots:w?"1":"0",hide_ignored:B?"0":"1"}),t=await n()({path:`/wpseopilot/v2/404-log?${e}`});t.success&&(s(t.data.items),o(t.data.total),v(t.data.total_pages),d(t.data.bot_count||0),D(t.data.ignored_count||0))}catch(e){console.error("Failed to fetch 404 log:",e)}finally{c(!1)}},[b,g,p,N,k,w,B]);(0,a.useEffect)(()=>{U()},[U]);const V=async e=>{L(!0),I(!1);try{const t=new URLSearchParams({format:e,hide_spam:N?"1":"0",hide_images:k?"1":"0",hide_bots:w?"1":"0"}),a=await n()({path:`/wpseopilot/v2/404-log/export?${t}`});if(a.success&&a.data.content){const t=new Blob([a.data.content],{type:"csv"===e?"text/csv":"application/json"}),l=URL.createObjectURL(t),n=document.createElement("a");n.href=l,n.download=a.data.filename,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}}catch(e){console.error("Failed to export:",e)}finally{L(!1)}};return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"404 Log"),(0,t.createElement)("p",null,"Monitor broken links and create redirects to fix them.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("button",{type:"button",className:"button",onClick:()=>O(!0)},"Manage Ignore Patterns"),(0,t.createElement)("div",{className:"dropdown-wrapper"},(0,t.createElement)("button",{type:"button",className:"button",onClick:()=>I(!M),disabled:T||0===l.length},T?"Exporting...":"Export",(0,t.createElement)("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16",style:{marginLeft:4}},(0,t.createElement)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))),M&&(0,t.createElement)("div",{className:"dropdown-menu"},(0,t.createElement)("button",{type:"button",onClick:()=>V("csv")},"Export as CSV"),(0,t.createElement)("button",{type:"button",onClick:()=>V("json")},"Export as JSON"))),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:async()=>{if(window.confirm("Are you sure you want to clear the entire 404 log? This cannot be undone.")){S(!0);try{await n()({path:"/wpseopilot/v2/404-log",method:"DELETE"}),s([]),o(0),v(1),u(1)}catch(e){console.error("Failed to clear log:",e)}finally{S(!1)}}},disabled:C||0===l.length},C?"Clearing...":"Clear Log"))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",{className:"stats-bar"},(0,t.createElement)("div",{className:"stat-box"},(0,t.createElement)("span",{className:"stat-box__value"},i.toLocaleString()),(0,t.createElement)("span",{className:"stat-box__label"},"Total Entries")),(0,t.createElement)("div",{className:"stat-box"},(0,t.createElement)("span",{className:"stat-box__value"},l.filter(e=>!e.redirect_exists).length),(0,t.createElement)("span",{className:"stat-box__label"},"Need Redirect")),(0,t.createElement)("div",{className:"stat-box"},(0,t.createElement)("span",{className:"stat-box__value"},m.toLocaleString()),(0,t.createElement)("span",{className:"stat-box__label"},"Bot Hits")),(0,t.createElement)("div",{className:"stat-box"},(0,t.createElement)("span",{className:"stat-box__value"},W.toLocaleString()),(0,t.createElement)("span",{className:"stat-box__label"},"Ignored")))),(0,t.createElement)("div",{className:"filter-form"},(0,t.createElement)("div",{className:"filter-row"},(0,t.createElement)("label",{className:"filter-field"},(0,t.createElement)("span",null,"Sort by"),(0,t.createElement)("select",{value:b,onChange:e=>{y(e.target.value),u(1)}},Y.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("label",{className:"filter-field"},(0,t.createElement)("span",null,"Rows per page"),(0,t.createElement)("select",{value:g,onChange:e=>{E(parseInt(e.target.value,10)),u(1)}},J.map(e=>(0,t.createElement)("option",{key:e,value:e},e)))),(0,t.createElement)("label",{className:"filter-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:N,onChange:e=>{_(e.target.checked),u(1)}}),(0,t.createElement)("span",null,"Hide spammy extensions")),(0,t.createElement)("label",{className:"filter-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:k,onChange:e=>{f(e.target.checked),u(1)}}),(0,t.createElement)("span",null,"Hide image extensions")),(0,t.createElement)("label",{className:"filter-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:w,onChange:e=>{x(e.target.checked),u(1)}}),(0,t.createElement)("span",null,"Hide bots/crawlers")),(0,t.createElement)("label",{className:"filter-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:B,onChange:e=>{R(e.target.checked),u(1)}}),(0,t.createElement)("span",null,"Show ignored")))),r?(0,t.createElement)("div",{className:"loading-state"},"Loading 404 log..."):0===l.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"48",height:"48"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M9 9l6 6m0-6l-6 6"}))),(0,t.createElement)("h3",null,"No 404 errors logged"),(0,t.createElement)("p",null,"Great news! Your site doesn't have any broken links recorded yet.")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Request URL"),(0,t.createElement)("th",null,"Hits"),(0,t.createElement)("th",null,"Last Seen"),(0,t.createElement)("th",null,"Device"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,l.map(e=>(0,t.createElement)("tr",{key:e.id,className:`${e.is_bot?"is-bot-row":""} ${e.is_ignored?"is-ignored-row":""}`},(0,t.createElement)("td",{className:"url-cell"},(0,t.createElement)("code",null,e.request_uri),e.redirect_exists&&(0,t.createElement)("span",{className:"badge success"},"Redirect exists"),e.is_bot&&(0,t.createElement)("span",{className:"badge muted",title:"Bot/crawler request"},"Bot"),e.is_ignored&&(0,t.createElement)("span",{className:"badge warning",title:"This URL is ignored"},"Ignored")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"hits-badge "+(e.hits>10?"high":e.hits>5?"medium":"")},e.hits)),(0,t.createElement)("td",null,(e=>{if(!e||"0000-00-00 00:00:00"===e)return"-";const t=new Date(e);return t.toLocaleDateString()+", "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(e.last_seen)),(0,t.createElement)("td",null,e.device_label),(0,t.createElement)("td",{className:"action-cell"},(0,t.createElement)("div",{className:"action-buttons"},!e.redirect_exists&&(0,t.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(e=>{A(e)})(e)},"Redirect"),e.is_ignored?(0,t.createElement)("button",{type:"button",className:"button small",onClick:()=>(async e=>{$(e.id);try{await n()({path:`/wpseopilot/v2/404-log/${e.id}/ignore`,method:"DELETE"}),s(t=>t.map(t=>t.id===e.id?{...t,is_ignored:!1}:t)),D(e=>Math.max(0,e-1))}catch(e){console.error("Failed to unignore entry:",e)}finally{$(null)}})(e),disabled:z===e.id},z===e.id?"...":"Unignore"):(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(async e=>{$(e.id);try{await n()({path:`/wpseopilot/v2/404-log/${e.id}/ignore`,method:"POST"}),s(t=>t.map(t=>t.id===e.id?{...t,is_ignored:!0}:t)),D(e=>e+1),B||(s(t=>t.filter(t=>t.id!==e.id)),o(e=>Math.max(0,e-1)))}catch(e){console.error("Failed to ignore entry:",e)}finally{$(null)}})(e),disabled:z===e.id,title:"Ignore this URL"},z===e.id?"...":"Ignore"))))))),h>1&&(0,t.createElement)("div",{className:"pagination"},(0,t.createElement)("span",{className:"pagination-info"},i.toLocaleString()," ",1===i?"item":"items"),(0,t.createElement)("div",{className:"pagination-links"},(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:p<=1,onClick:()=>u(p-1)},"‹ Previous"),(0,t.createElement)("span",{className:"pagination-current"},p," of ",h),(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:p>=h,onClick:()=>u(p+1)},"Next ›"))))),P&&(0,t.createElement)(j,{entry:P,onClose:()=>A(null),onSuccess:e=>{A(null),e.entry_deleted?(s(t=>t.filter(t=>t.id!==e.redirect.id)),o(e=>Math.max(0,e-1))):s(t=>t.map(t=>t.request_uri===e.redirect.source?{...t,redirect_exists:!0}:t)),U()}}),F&&(0,t.createElement)(q,{onClose:()=>O(!1),onPatternChange:()=>U()}))},X=[{id:"rules",label:"Rules"},{id:"categories",label:"Categories"},{id:"utm-templates",label:"UTM Templates"},{id:"settings",label:"Settings"}],Q=["h1","h2","h3","h4","h5","h6"],Z=({rules:e,rulesLoading:a,categories:l,templates:n,selectedRules:s,filterStatus:r,filterCategory:c,filterSearch:i,bulkAction:o,bulkCategory:m,onFilterStatus:d,onFilterCategory:p,onFilterSearch:u,onSelectAll:g,onSelectRule:E,onEditRule:h,onDeleteRule:v,onToggleRule:b,onDuplicateRule:y,onBulkAction:N,onBulkCategory:_,onApplyBulk:k,onAddRule:f,getCategoryById:w,getTemplateById:x})=>{const C=r||c||i;return(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Linking Rules"),(0,t.createElement)("p",{className:"muted"},"Define keywords and their target URLs for automatic linking.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:f},"Add Rule")),(0,t.createElement)("div",{className:"filters-bar"},(0,t.createElement)("div",{className:"filters-bar__filters"},(0,t.createElement)("select",{value:r,onChange:e=>d(e.target.value)},(0,t.createElement)("option",{value:""},"All statuses"),(0,t.createElement)("option",{value:"active"},"Active"),(0,t.createElement)("option",{value:"inactive"},"Inactive")),(0,t.createElement)("select",{value:c,onChange:e=>p(e.target.value)},(0,t.createElement)("option",{value:""},"All categories"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))),(0,t.createElement)("input",{type:"search",placeholder:"Search rules...",value:i,onChange:e=>u(e.target.value)}),C&&(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>{d(""),p(""),u("")}},"Clear"))),a?(0,t.createElement)("div",{className:"loading-state"},"Loading rules..."):0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"48",height:"48"},(0,t.createElement)("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),(0,t.createElement)("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"}))),(0,t.createElement)("h3",null,C?"No rules match your filters":"No linking rules yet"),(0,t.createElement)("p",null,C?"Try adjusting your filters.":"Create your first internal link rule to get started."),!C&&(0,t.createElement)("button",{type:"button",className:"button primary",onClick:f},"Create Rule")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"check-column"},(0,t.createElement)("input",{type:"checkbox",checked:s.length===e.length&&e.length>0,onChange:g})),(0,t.createElement)("th",null,"Title"),(0,t.createElement)("th",null,"Category"),(0,t.createElement)("th",null,"Keywords"),(0,t.createElement)("th",null,"Destination"),(0,t.createElement)("th",null,"Status"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>{const a=w(e.category);return(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",{className:"check-column"},(0,t.createElement)("input",{type:"checkbox",checked:s.includes(e.id),onChange:()=>E(e.id)})),(0,t.createElement)("td",null,(0,t.createElement)("strong",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>h(e)},e.title))),(0,t.createElement)("td",null,a?(0,t.createElement)("span",{className:"category-pill",style:{"--pill-color":a.color}},a.name):(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"keywords-preview"},(e.keywords||[]).slice(0,3).join(", "),(e.keywords||[]).length>3&&(0,t.createElement)("span",{className:"muted"}," +",e.keywords.length-3))),(0,t.createElement)("td",null,e.destination_url?(0,t.createElement)("a",{href:e.destination_url,target:"_blank",rel:"noopener noreferrer",className:"destination-link"},e.destination_label):(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+("active"===e.status?"success":"muted")},"active"===e.status?"Active":"Inactive")),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>h(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>y(e.id)},"Duplicate"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>b(e.id)},"active"===e.status?"Deactivate":"Activate"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>v(e.id)},"Delete"))))}))),s.length>0&&(0,t.createElement)("div",{className:"bulk-actions"},(0,t.createElement)("span",{className:"bulk-actions__count"},s.length," selected"),(0,t.createElement)("select",{value:o,onChange:e=>N(e.target.value)},(0,t.createElement)("option",{value:""},"Bulk actions"),(0,t.createElement)("option",{value:"activate"},"Activate"),(0,t.createElement)("option",{value:"deactivate"},"Deactivate"),(0,t.createElement)("option",{value:"change_category"},"Change category"),(0,t.createElement)("option",{value:"delete"},"Delete")),"change_category"===o&&(0,t.createElement)("select",{value:m,onChange:e=>_(e.target.value)},(0,t.createElement)("option",{value:"__none__"},"Remove category"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))),(0,t.createElement)("button",{type:"button",className:"button",onClick:k,disabled:!o},"Apply"))))},ee=({categories:e,templates:a,onEdit:l,onDelete:n,onAdd:s})=>(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Rule Categories"),(0,t.createElement)("p",{className:"muted"},"Group rules, pick a color, and set per-category limits.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:s},"Add Category")),0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("h3",null,"No categories yet"),(0,t.createElement)("p",null,"Create categories to organize your linking rules."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:s},"Create Category")):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Name"),(0,t.createElement)("th",null,"Color"),(0,t.createElement)("th",null,"Default UTM"),(0,t.createElement)("th",null,"Cap"),(0,t.createElement)("th",null,"Rules"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>{const s=(r=e.default_utm,a.find(e=>e.id===r));var r;return(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),e.description&&(0,t.createElement)("div",{className:"muted small"},e.description)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"color-chip",style:{backgroundColor:e.color}})),(0,t.createElement)("td",null,s?s.name:(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.category_cap||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.rule_count||0),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>l(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>n(e.id)},"Delete"))))})))),te=({templates:e,onEdit:a,onDelete:l,onAdd:n})=>(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"UTM Templates"),(0,t.createElement)("p",{className:"muted"},"Define reusable parameter sets for consistent tracking.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:n},"Add Template")),0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("h3",null,"No UTM templates yet"),(0,t.createElement)("p",null,"Create templates to add tracking parameters to your links."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:n},"Create Template")):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Name"),(0,t.createElement)("th",null,"utm_source"),(0,t.createElement)("th",null,"utm_medium"),(0,t.createElement)("th",null,"utm_campaign"),(0,t.createElement)("th",null,"Apply to"),(0,t.createElement)("th",null,"Mode"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name)),(0,t.createElement)("td",null,e.utm_source||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.utm_medium||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.utm_campaign||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,(e=>{switch(e){case"internal":return"Internal only";case"external":return"External only";default:return"Both"}})(e.apply_to)),(0,t.createElement)("td",null,(e=>{switch(e){case"always_overwrite":return"Always overwrite";case"never":return"Never overwrite";default:return"Append if missing"}})(e.append_mode)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>a(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>l(e.id)},"Delete")))))))),ae=({settings:e,onChange:a,onSave:l})=>{const n=(t,l)=>{a({...e,[t]:l})};return(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Module Settings"),(0,t.createElement)("p",{className:"muted"},"Configure how internal links are applied to your content."))),(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h4",{className:"settings-section__title"},"Global Defaults"),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"default-max-links"},"Default max links per page"),(0,t.createElement)("p",{className:"settings-help"},"0 means no limit.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"default-max-links",type:"number",min:"0",max:"50",value:e.default_max_links_per_page||0,onChange:e=>n("default_max_links_per_page",parseInt(e.target.value,10)||0),style:{width:"80px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Default heading behavior"),(0,t.createElement)("p",{className:"settings-help"},"Control whether links can appear in headings.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"radio-group"},["none","selected","all"].map(a=>(0,t.createElement)("label",{key:a,className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"heading_behavior",value:a,checked:e.default_heading_behavior===a,onChange:()=>n("default_heading_behavior",a)}),(0,t.createElement)("span",null,a.charAt(0).toUpperCase()+a.slice(1))))),"selected"===e.default_heading_behavior&&(0,t.createElement)("div",{className:"checkbox-group",style:{marginTop:"8px"}},Q.map(a=>(0,t.createElement)("label",{key:a,className:"checkbox-item"},(0,t.createElement)("input",{type:"checkbox",checked:(e.default_heading_levels||[]).includes(a),onChange:()=>(t=>{const a=e.default_heading_levels||[];a.includes(t)?n("default_heading_levels",a.filter(e=>e!==t)):n("default_heading_levels",[...a,t])})(a)}),(0,t.createElement)("span",null,a.toUpperCase()))))))),(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h4",{className:"settings-section__title"},"Safeties"),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"avoid-existing"},"Avoid replacing inside existing links")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"avoid-existing",type:"checkbox",checked:e.avoid_existing_links,onChange:e=>n("avoid_existing_links",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"word-boundaries"},"Prefer word boundaries")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"word-boundaries",type:"checkbox",checked:e.prefer_word_boundaries,onChange:e=>n("prefer_word_boundaries",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"normalize-accents"},"Normalize accents/diacritics")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"normalize-accents",type:"checkbox",checked:e.normalize_accents,onChange:e=>n("normalize_accents",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h4",{className:"settings-section__title"},"Performance"),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"cache-content"},"Cache rendered content")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"cache-content",type:"checkbox",checked:e.cache_rendered_content,onChange:e=>n("cache_rendered_content",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"chunk-docs"},"Chunk long documents"),(0,t.createElement)("p",{className:"settings-help"},"Prevents timeouts on large content.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"chunk-docs",type:"checkbox",checked:e.chunk_long_documents,onChange:e=>n("chunk_long_documents",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("div",{className:"panel-footer"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:l},"Save Settings")))},le=({rule:e,categories:l,templates:s,onClose:r,onSave:c})=>{const i=!!e,[o,m]=(0,a.useState)(()=>e?{...e}:{title:"",category:"",keywords:[],destination:{type:"post",post:0,url:""},utm_template:"inherit",attributes:{nofollow:!1,new_tab:!1},limits:{max_page:1},status:"active"}),[d,p]=(0,a.useState)(""),[u,g]=(0,a.useState)(""),[E,h]=(0,a.useState)([]),[v,b]=(0,a.useState)(null),[y,N]=(0,a.useState)(!1),[_,k]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&"post"===e.destination?.type&&e.destination?.post&&b({id:e.destination.post,title:e.destination_label||"Loading..."})},[e]),(0,a.useEffect)(()=>{if(u.length<2)return void h([]);const e=setTimeout(async()=>{try{const e=await n()({path:`/wpseopilot/v2/internal-links/search-posts?search=${encodeURIComponent(u)}`});e.success&&h(e.data)}catch(e){console.error("Post search failed:",e)}},300);return()=>clearTimeout(e)},[u]);const f=(e,t)=>m(a=>({...a,[e]:t})),w=(e,t,a)=>m(l=>({...l,[e]:{...l[e],[t]:a}})),x=()=>{const e=d.trim();e&&!o.keywords.includes(e)&&(f("keywords",[...o.keywords,e]),p(""))};return(0,t.createElement)("div",{className:"modal-overlay",onClick:r},(0,t.createElement)("div",{className:"modal modal--large",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,i?"Edit Rule":"Add Rule"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:r},"×")),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),k(""),N(!0);try{const t=i?`/wpseopilot/v2/internal-links/rules/${e.id}`:"/wpseopilot/v2/internal-links/rules",a=await n()({path:t,method:i?"PUT":"POST",data:o});a.success?c(a.data):k(a.message||"Failed to save rule")}catch(e){k(e.message||"Failed to save rule")}finally{N(!1)}}},(0,t.createElement)("div",{className:"modal__body"},_&&(0,t.createElement)("div",{className:"form-error"},_),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"rule-title"},"Title"),(0,t.createElement)("input",{id:"rule-title",type:"text",value:o.title,onChange:e=>f("title",e.target.value),placeholder:"e.g., Link to Services page",required:!0})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"rule-category"},"Category"),(0,t.createElement)("select",{id:"rule-category",value:o.category,onChange:e=>f("category",e.target.value)},(0,t.createElement)("option",{value:""},"None"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Status"),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:"active"===o.status,onChange:e=>f("status",e.target.checked?"active":"inactive")}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Destination"),(0,t.createElement)("div",{className:"radio-group",style:{marginBottom:"12px"}},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"destination_type",checked:"post"===o.destination.type,onChange:()=>w("destination","type","post")}),(0,t.createElement)("span",null,"Post/Page")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"destination_type",checked:"url"===o.destination.type,onChange:()=>w("destination","type","url")}),(0,t.createElement)("span",null,"Custom URL"))),"post"===o.destination.type?v?(0,t.createElement)("div",{className:"selected-post"},(0,t.createElement)("span",null,v.title),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>{b(null),w("destination","post",0)}},"Change")):(0,t.createElement)("div",{className:"post-search"},(0,t.createElement)("input",{type:"text",placeholder:"Search posts...",value:u,onChange:e=>g(e.target.value)}),E.length>0&&(0,t.createElement)("ul",{className:"post-search__results"},E.map(e=>(0,t.createElement)("li",{key:e.id},(0,t.createElement)("button",{type:"button",onClick:()=>(e=>{b(e),w("destination","post",e.id),w("destination","type","post"),g(""),h([])})(e)},e.title," ",(0,t.createElement)("span",{className:"muted"},"(",e.post_type,")")))))):(0,t.createElement)("input",{type:"url",value:o.destination.url,onChange:e=>w("destination","url",e.target.value),placeholder:"https://example.com"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Keywords"),(0,t.createElement)("div",{className:"tag-input"},(0,t.createElement)("div",{className:"tag-input__tags"},o.keywords.map(e=>(0,t.createElement)("span",{key:e,className:"tag"},e,(0,t.createElement)("button",{type:"button",onClick:()=>(e=>f("keywords",o.keywords.filter(t=>t!==e)))(e)},"×")))),(0,t.createElement)("input",{type:"text",placeholder:"Type and press Enter",value:d,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),x())},onBlur:x}))),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field narrow"},(0,t.createElement)("label",{htmlFor:"max-page"},"Max per page"),(0,t.createElement)("input",{id:"max-page",type:"number",min:"0",max:"50",value:o.limits?.max_page||1,onChange:e=>w("limits","max_page",parseInt(e.target.value,10)||1)})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Options"),(0,t.createElement)("div",{className:"checkbox-group"},(0,t.createElement)("label",{className:"checkbox-item"},(0,t.createElement)("input",{type:"checkbox",checked:o.attributes?.nofollow,onChange:e=>w("attributes","nofollow",e.target.checked)}),(0,t.createElement)("span",null,"nofollow")),(0,t.createElement)("label",{className:"checkbox-item"},(0,t.createElement)("input",{type:"checkbox",checked:o.attributes?.new_tab,onChange:e=>w("attributes","new_tab",e.target.checked)}),(0,t.createElement)("span",null,"New tab")))))),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:r},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:y},y?"Saving...":i?"Update":"Create")))))},ne=({category:e,templates:l,onClose:s,onSave:r})=>{const c=!!e,[i,o]=(0,a.useState)(()=>e?{...e}:{name:"",color:"#4F46E5",description:"",default_utm:"",category_cap:0}),[m,d]=(0,a.useState)(!1),[p,u]=(0,a.useState)("");return(0,t.createElement)("div",{className:"modal-overlay",onClick:s},(0,t.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,c?"Edit Category":"Add Category"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:s},"×")),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),u(""),d(!0);try{const t=c?`/wpseopilot/v2/internal-links/categories/${e.id}`:"/wpseopilot/v2/internal-links/categories",a=c?"PUT":"POST",l=await n()({path:t,method:a,data:i});l.success?r(l.data):u(l.message||"Failed to save category")}catch(e){u(e.message||"Failed to save category")}finally{d(!1)}}},(0,t.createElement)("div",{className:"modal__body"},p&&(0,t.createElement)("div",{className:"form-error"},p),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-name"},"Name"),(0,t.createElement)("input",{id:"cat-name",type:"text",value:i.name,onChange:e=>o({...i,name:e.target.value}),required:!0})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-color"},"Color"),(0,t.createElement)("input",{id:"cat-color",type:"color",value:i.color,onChange:e=>o({...i,color:e.target.value})})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-desc"},"Description"),(0,t.createElement)("textarea",{id:"cat-desc",rows:"3",value:i.description,onChange:e=>o({...i,description:e.target.value})})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-utm"},"Default UTM Template"),(0,t.createElement)("select",{id:"cat-utm",value:i.default_utm,onChange:e=>o({...i,default_utm:e.target.value})},(0,t.createElement)("option",{value:""},"None"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-cap"},"Category-level cap (per page)"),(0,t.createElement)("input",{id:"cat-cap",type:"number",min:"0",max:"50",value:i.category_cap||"",onChange:e=>o({...i,category_cap:parseInt(e.target.value,10)||0}),placeholder:"0 = no extra cap"}))),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:s},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:m},m?"Saving...":c?"Update Category":"Create Category")))))},se=({template:e,onClose:l,onSave:s})=>{const r=!!e,[c,i]=(0,a.useState)(()=>e?{...e}:{name:"",utm_source:"",utm_medium:"",utm_campaign:"",apply_to:"both"}),[o,m]=(0,a.useState)(!1),[d,p]=(0,a.useState)("");return(0,t.createElement)("div",{className:"modal-overlay",onClick:l},(0,t.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,r?"Edit Template":"Add Template"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:l},"×")),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),p(""),m(!0);try{const t=r?`/wpseopilot/v2/internal-links/templates/${e.id}`:"/wpseopilot/v2/internal-links/templates",a=await n()({path:t,method:r?"PUT":"POST",data:c});a.success?s(a.data):p(a.message||"Failed to save template")}catch(e){p(e.message||"Failed to save template")}finally{m(!1)}}},(0,t.createElement)("div",{className:"modal__body"},d&&(0,t.createElement)("div",{className:"form-error"},d),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-name"},"Name"),(0,t.createElement)("input",{id:"tpl-name",type:"text",value:c.name,onChange:e=>i({...c,name:e.target.value}),required:!0})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-source"},"utm_source"),(0,t.createElement)("input",{id:"tpl-source",type:"text",value:c.utm_source||"",onChange:e=>i({...c,utm_source:e.target.value}),placeholder:"e.g., website"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-medium"},"utm_medium"),(0,t.createElement)("input",{id:"tpl-medium",type:"text",value:c.utm_medium||"",onChange:e=>i({...c,utm_medium:e.target.value}),placeholder:"e.g., internal_link"}))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-campaign"},"utm_campaign"),(0,t.createElement)("input",{id:"tpl-campaign",type:"text",value:c.utm_campaign||"",onChange:e=>i({...c,utm_campaign:e.target.value}),placeholder:"e.g., cross_selling"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Apply to"),(0,t.createElement)("div",{className:"radio-group"},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"apply_to",checked:"internal"===c.apply_to,onChange:()=>i({...c,apply_to:"internal"})}),(0,t.createElement)("span",null,"Internal")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"apply_to",checked:"external"===c.apply_to,onChange:()=>i({...c,apply_to:"external"})}),(0,t.createElement)("span",null,"External")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"apply_to",checked:"both"===c.apply_to,onChange:()=>i({...c,apply_to:"both"})}),(0,t.createElement)("span",null,"Both"))))),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:l},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:o},o?"Saving...":r?"Update":"Create")))))},re=()=>{const[e,l]=w({tabs:X,defaultTab:"rules"}),[s,r]=(0,a.useState)([]),[c,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),[g,E]=(0,a.useState)({}),[h,v]=(0,a.useState)({total_rules:0,active_rules:0,categories:0,utm_templates:0}),[b,y]=(0,a.useState)(""),[N,_]=(0,a.useState)(""),[k,f]=(0,a.useState)(""),[x,C]=(0,a.useState)([]),[S,P]=(0,a.useState)(""),[A,T]=(0,a.useState)(""),[L,M]=(0,a.useState)(!1),[I,F]=(0,a.useState)(null),[O,B]=(0,a.useState)(!1),[R,W]=(0,a.useState)(null),[D,z]=(0,a.useState)(!1),[$,U]=(0,a.useState)(null),V=(0,a.useCallback)(async()=>{i(!0);try{const[e,t,a,l,s]=await Promise.all([n()({path:"/wpseopilot/v2/internal-links/rules"}),n()({path:"/wpseopilot/v2/internal-links/categories"}),n()({path:"/wpseopilot/v2/internal-links/templates"}),n()({path:"/wpseopilot/v2/internal-links/settings"}),n()({path:"/wpseopilot/v2/internal-links/stats"})]);e.success&&r(e.data),t.success&&m(t.data),a.success&&u(a.data),l.success&&E(l.data),s.success&&v(s.data)}catch(e){console.error("Failed to fetch internal linking data:",e)}finally{i(!1)}},[]);(0,a.useEffect)(()=>{V()},[V]);const G=s.filter(e=>{if(b&&e.status!==b)return!1;if(N&&e.category!==N)return!1;if(k){const t=k.toLowerCase(),a=(e.title||"").toLowerCase().includes(t),l=(e.keywords||[]).some(e=>e.toLowerCase().includes(t));if(!a&&!l)return!1}return!0}),H=e=>o.find(t=>t.id===e);return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Internal Linking"),(0,t.createElement)("p",null,"Automatically add internal links to your content based on keywords.")),(0,t.createElement)("div",{className:"page-header__stats"},(0,t.createElement)("div",{className:"stat-chip"},(0,t.createElement)("span",{className:"stat-chip__value"},h.active_rules),(0,t.createElement)("span",{className:"stat-chip__label"},"Active Rules")),(0,t.createElement)("div",{className:"stat-chip"},(0,t.createElement)("span",{className:"stat-chip__value"},h.categories),(0,t.createElement)("span",{className:"stat-chip__label"},"Categories")))),(0,t.createElement)(d,{tabs:X,activeTab:e,onChange:l,ariaLabel:"Internal linking sections"}),"rules"===e&&(0,t.createElement)(Z,{rules:G,rulesLoading:c,categories:o,templates:p,selectedRules:x,filterStatus:b,filterCategory:N,filterSearch:k,bulkAction:S,bulkCategory:A,onFilterStatus:y,onFilterCategory:_,onFilterSearch:f,onSelectAll:e=>{e.target.checked?C(G.map(e=>e.id)):C([])},onSelectRule:e=>{x.includes(e)?C(x.filter(t=>t!==e)):C([...x,e])},onEditRule:e=>{F(e),M(!0)},onDeleteRule:async e=>{if(window.confirm("Are you sure you want to delete this rule?"))try{await n()({path:`/wpseopilot/v2/internal-links/rules/${e}`,method:"DELETE"}),r(s.filter(t=>t.id!==e)),C(x.filter(t=>t!==e))}catch(e){console.error("Failed to delete rule:",e)}},onToggleRule:async e=>{try{const t=await n()({path:`/wpseopilot/v2/internal-links/rules/${e}/toggle`,method:"POST"});t.success&&r(s.map(a=>a.id===e?t.data:a))}catch(e){console.error("Failed to toggle rule:",e)}},onDuplicateRule:async e=>{try{const t=await n()({path:`/wpseopilot/v2/internal-links/rules/${e}/duplicate`,method:"POST"});t.success&&r([t.data,...s])}catch(e){console.error("Failed to duplicate rule:",e)}},onBulkAction:P,onBulkCategory:T,onApplyBulk:async()=>{if(S&&0!==x.length)try{const e={ids:x,action:S};"change_category"===S&&(e.category=A),await n()({path:"/wpseopilot/v2/internal-links/rules/bulk",method:"POST",data:e}),C([]),P(""),T(""),V()}catch(e){console.error("Failed to perform bulk action:",e)}},onAddRule:()=>{F(null),M(!0)},getCategoryById:H,getTemplateById:e=>p.find(t=>t.id===e)}),"categories"===e&&(0,t.createElement)(ee,{categories:o,templates:p,onEdit:e=>{W(e),B(!0)},onDelete:async e=>{if(!H(e))return;const t=s.filter(t=>t.category===e).length;let a=null;if(t>0){const e=`This category has ${t} rule(s). Delete anyway and remove category from rules?`;if(!window.confirm(e))return;a="__none__"}else if(!window.confirm("Are you sure you want to delete this category?"))return;try{await n()({path:`/wpseopilot/v2/internal-links/categories/${e}`,method:"DELETE",data:a?{reassign:a}:void 0}),m(o.filter(t=>t.id!==e)),a&&r(s.map(t=>t.category===e?{...t,category:""}:t))}catch(e){console.error("Failed to delete category:",e)}},onAdd:()=>{W(null),B(!0)}}),"utm-templates"===e&&(0,t.createElement)(te,{templates:p,onEdit:e=>{U(e),z(!0)},onDelete:async e=>{if(window.confirm("Are you sure you want to delete this UTM template?"))try{await n()({path:`/wpseopilot/v2/internal-links/templates/${e}`,method:"DELETE"}),u(p.filter(t=>t.id!==e))}catch(e){console.error("Failed to delete template:",e)}},onAdd:()=>{U(null),z(!0)}}),"settings"===e&&(0,t.createElement)(ae,{settings:g,onChange:E,onSave:async()=>{try{const e=await n()({path:"/wpseopilot/v2/internal-links/settings",method:"POST",data:g});e.success&&E(e.data)}catch(e){console.error("Failed to save settings:",e)}}}),L&&(0,t.createElement)(le,{rule:I,categories:o,templates:p,onClose:()=>{M(!1),F(null)},onSave:e=>{r(I?s.map(t=>t.id===e.id?e:t):[e,...s]),M(!1),F(null)}}),O&&(0,t.createElement)(ne,{category:R,templates:p,onClose:()=>{B(!1),W(null)},onSave:e=>{m(R?o.map(t=>t.id===e.id?e:t):[...o,e]),B(!1),W(null)}}),D&&(0,t.createElement)(se,{template:$,onClose:()=>{z(!1),U(null)},onSave:e=>{u($?p.map(t=>t.id===e.id?e:t):[...p,e]),z(!1),U(null)}}))},ce={title_missing:"Missing Meta Title",title_length:"Title Too Long",description_missing:"Missing Meta Description",description_length:"Description Too Long",missing_alt:"Missing Alt Text",low_word_count:"Low Word Count",missing_h1:"Missing H1 Heading"},ie={high:{label:"Critical",class:"danger",color:"var(--color-danger)"},medium:{label:"Warning",class:"warning",color:"var(--color-warning)"},low:{label:"Suggestion",class:"muted",color:"var(--color-muted)"}},oe=()=>{const[e,l]=(0,a.useState)(!0),[s,r]=(0,a.useState)(!1),[c,i]=(0,a.useState)(null),[o,m]=(0,a.useState)({type:"",text:""}),[d,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(null),E=(0,a.useCallback)(async()=>{l(!0);try{const e=await n()({path:"/wpseopilot/v2/audit"});e.success&&i(e.data)}catch(e){console.error("Failed to fetch audit:",e),m({type:"error",text:"Failed to load audit data."})}finally{l(!1)}},[]);if((0,a.useEffect)(()=>{E()},[E]),e)return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"SEO Audit"),(0,t.createElement)("p",null,"Scan your site for SEO issues and get actionable recommendations."))),(0,t.createElement)("div",{className:"loading-state"},"Loading audit data..."));const h=c?.stats||{severity:{high:0,medium:0,low:0},total:0},v=(()=>{if(!c?.issues)return{};const e={};return c.issues.forEach(t=>{e[t.type]||(e[t.type]=[]),e[t.type].push(t)}),e})();return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"SEO Audit"),(0,t.createElement)("p",null,"Scan your site for SEO issues and get actionable recommendations.")),(0,t.createElement)("div",{className:"header-actions"},c?.from_cache&&(0,t.createElement)("span",{className:"cache-badge"},"Cached results"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{r(!0),m({type:"",text:""});try{const e=await n()({path:"/wpseopilot/v2/audit/run",method:"POST",data:{post_type:"any",limit:100}});e.success&&(i(e.data),m({type:"success",text:`Audit complete! Scanned ${e.data.scanned} posts.`}))}catch(e){console.error("Failed to run audit:",e),m({type:"error",text:"Failed to run audit."})}finally{r(!1)}},disabled:s},s?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Running Audit..."):"Run Full Audit"))),o.text&&(0,t.createElement)("div",{className:`notice-message ${o.type}`},o.text),(0,t.createElement)("div",{className:"audit-stats-grid"},(0,t.createElement)("div",{className:"audit-stat-card "+(h.severity.high>0?"has-issues":"no-issues")},(0,t.createElement)("div",{className:"audit-stat-icon danger"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 9v4M12 17h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},h.severity.high),(0,t.createElement)("div",{className:"audit-stat-label"},"Critical Issues"),(0,t.createElement)("div",{className:"audit-stat-desc"},0===h.severity.high?"All critical checks passed":"Issues severely impacting SEO"))),(0,t.createElement)("div",{className:"audit-stat-card "+(h.severity.medium>0?"has-issues":"no-issues")},(0,t.createElement)("div",{className:"audit-stat-icon warning"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},h.severity.medium),(0,t.createElement)("div",{className:"audit-stat-label"},"Warnings"),(0,t.createElement)("div",{className:"audit-stat-desc"},0===h.severity.medium?"No warnings found":"Issues that may affect rankings"))),(0,t.createElement)("div",{className:"audit-stat-card"},(0,t.createElement)("div",{className:"audit-stat-icon muted"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},h.severity.low),(0,t.createElement)("div",{className:"audit-stat-label"},"Suggestions"),(0,t.createElement)("div",{className:"audit-stat-desc"},0===h.severity.low?"No suggestions":"Optional improvements available"))),(0,t.createElement)("div",{className:"audit-stat-card info"},(0,t.createElement)("div",{className:"audit-stat-icon info"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},c?.scanned||0),(0,t.createElement)("div",{className:"audit-stat-label"},"Posts Scanned"),(0,t.createElement)("div",{className:"audit-stat-desc"},h.posts_with_issues||0," with issues")))),(0,t.createElement)("section",{className:"audit-section"},(0,t.createElement)("div",{className:"audit-section-header"},(0,t.createElement)("h2",null,"Issues by Type"),(0,t.createElement)("p",{className:"muted"},"Click on an issue type to see affected posts.")),0===Object.keys(v).length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{color:"var(--color-success)"}},(0,t.createElement)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,t.createElement)("h3",null,"No issues found!"),(0,t.createElement)("p",null,"Your site is in great SEO shape.")):(0,t.createElement)("div",{className:"audit-issues-list"},Object.entries(v).map(([e,a])=>{const l=(e=>e.some(e=>"high"===e.severity)?"high":e.some(e=>"medium"===e.severity)?"medium":"low")(a),n=ie[l],s=d===e;return(0,t.createElement)("div",{key:e,className:"audit-issue-group "+(s?"expanded":"")},(0,t.createElement)("button",{type:"button",className:"audit-issue-header",onClick:()=>p(s?null:e)},(0,t.createElement)("div",{className:"audit-issue-info"},(0,t.createElement)("span",{className:`severity-dot ${n.class}`}),(0,t.createElement)("span",{className:"audit-issue-type"},ce[e]||e),(0,t.createElement)("span",{className:`pill ${n.class}`},a.length)),(0,t.createElement)("svg",{className:"chevron "+(s?"expanded":""),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M19 9l-7 7-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),s&&(0,t.createElement)("div",{className:"audit-issue-posts"},(0,t.createElement)("table",{className:"data-table compact"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Post"),(0,t.createElement)("th",null,"Issue"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,a.map((e,a)=>(0,t.createElement)("tr",{key:a},(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer"},e.title)),(0,t.createElement)("td",null,e.message),(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer",className:"link-button"},"Edit Post"))))))))}))),c?.recommendations&&c.recommendations.length>0&&(0,t.createElement)("section",{className:"audit-section"},(0,t.createElement)("div",{className:"audit-section-header"},(0,t.createElement)("h2",null,"Quick Fixes"),(0,t.createElement)("p",{className:"muted"},"Apply suggested meta titles and descriptions with one click.")),(0,t.createElement)("div",{className:"recommendations-list"},c.recommendations.map(e=>(0,t.createElement)("div",{key:e.post_id,className:"recommendation-card"},(0,t.createElement)("div",{className:"recommendation-header"},(0,t.createElement)("h4",null,e.title),(0,t.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer",className:"link-button small"},"Edit Post")),(0,t.createElement)("div",{className:"recommendation-suggestions"},(0,t.createElement)("div",{className:"suggestion-item"},(0,t.createElement)("label",null,"Suggested Title"),(0,t.createElement)("div",{className:"suggestion-value"},e.suggested_title)),(0,t.createElement)("div",{className:"suggestion-item"},(0,t.createElement)("label",null,"Suggested Description"),(0,t.createElement)("div",{className:"suggestion-value"},e.suggested_description||"(No suggestion available)"))),(0,t.createElement)("div",{className:"recommendation-actions"},(0,t.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(async e=>{g(e.post_id);try{(await n()({path:`/wpseopilot/v2/audit/apply/${e.post_id}`,method:"POST",data:{title:e.suggested_title,description:e.suggested_description}})).success&&(m({type:"success",text:`Applied recommendations to "${e.title}"`}),i(t=>({...t,recommendations:t.recommendations.filter(t=>t.post_id!==e.post_id)})))}catch(e){console.error("Failed to apply recommendation:",e),m({type:"error",text:"Failed to apply recommendation."})}finally{g(null)}})(e),disabled:u===e.post_id},u===e.post_id?"Applying...":"Apply Suggestions")))))))},me=()=>{const[e,l]=(0,a.useState)(!0),[s,r]=(0,a.useState)(!1),[c,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!1),[d,p]=(0,a.useState)({ai_prompt_system:"",ai_prompt_title:"",ai_prompt_description:""}),[u,g]=(0,a.useState)({configured:!1,status:"not_configured",message:"Not configured",provider:"none",ai_pilot:null}),[E,h]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[_,k]=(0,a.useState)({type:"",text:""}),f=(0,a.useCallback)(async()=>{l(!0);try{const[e,t]=await Promise.all([n()({path:"/wpseopilot/v2/ai/settings"}),n()({path:"/wpseopilot/v2/ai/status"})]);e.success&&p(t=>({...t,ai_prompt_system:e.data.ai_prompt_system||"",ai_prompt_title:e.data.ai_prompt_title||"",ai_prompt_description:e.data.ai_prompt_description||""})),t.success&&g(t.data)}catch(e){console.error("Failed to fetch AI settings:",e),k({type:"error",text:"Failed to load AI settings."})}finally{l(!1)}},[]);return(0,a.useEffect)(()=>{f()},[f]),e?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"AI Assistant"),(0,t.createElement)("p",null,"Configure AI-powered SEO content generation."))),(0,t.createElement)("div",{className:"loading-state"},"Loading AI settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"AI Assistant"),(0,t.createElement)("p",null,"Configure AI-powered SEO content generation.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("div",{className:"api-status-badge "+(u.configured?"connected":"disconnected")},(0,t.createElement)("span",{className:"status-dot"}),u.configured?"Connected":"Not Connected"))),_.text&&(0,t.createElement)("div",{className:`notice-message ${_.type}`},_.text),(0,t.createElement)("div",{className:"ai-settings-layout"},(0,t.createElement)("div",{className:"ai-config-column"},(0,t.createElement)("div",{className:"ai-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"AI Provider"),"wp-ai-pilot"===u.provider&&(0,t.createElement)("span",{className:"provider-badge provider-badge--active"},(0,t.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})),"WP AI Pilot")),(0,t.createElement)("div",{className:"ai-card-body"},"wp-ai-pilot"===u.provider?(0,t.createElement)("div",{className:"ai-provider-status ai-provider-status--connected"},(0,t.createElement)("div",{className:"ai-provider-status__icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,t.createElement)("polyline",{points:"22 4 12 14.01 9 11.01"}))),(0,t.createElement)("div",{className:"ai-provider-status__content"},(0,t.createElement)("h4",null,"Connected to WP AI Pilot"),(0,t.createElement)("p",null,"AI features are powered by WP AI Pilot. Manage your API keys and models there."),(0,t.createElement)("a",{href:u.ai_pilot?.settings_url||"admin.php?page=wp-ai-pilot",className:"button primary"},"Open WP AI Pilot Settings"))):u.ai_pilot?.installed?(0,t.createElement)("div",{className:"ai-provider-status ai-provider-status--warning"},(0,t.createElement)("div",{className:"ai-provider-status__icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 8v4m0 4h.01"}))),(0,t.createElement)("div",{className:"ai-provider-status__content"},(0,t.createElement)("h4",null,"WP AI Pilot Needs Configuration"),(0,t.createElement)("p",null,"WP AI Pilot is installed but not configured. Add an API key to enable AI features."),(0,t.createElement)("a",{href:u.ai_pilot?.settings_url||"admin.php?page=wp-ai-pilot",className:"button primary"},"Configure WP AI Pilot"))):(0,t.createElement)("div",{className:"ai-provider-status ai-provider-status--info"},(0,t.createElement)("div",{className:"ai-provider-status__icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,t.createElement)("div",{className:"ai-provider-status__content"},(0,t.createElement)("h4",null,"Install WP AI Pilot"),(0,t.createElement)("p",null,"AI features in WP SEO Pilot are now powered by WP AI Pilot. Install it to enable AI-powered title and description generation."),(0,t.createElement)("a",{href:"plugin-install.php?s=wp+ai+pilot&tab=search",className:"button primary"},"Install WP AI Pilot"))),(0,t.createElement)("div",{className:"deprecation-notice"},(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 16v-4M12 8h.01"})),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"API Key Management Deprecated"),(0,t.createElement)("p",null,"Direct API key configuration has been moved to WP AI Pilot. This provides centralized AI management across all your WordPress plugins."))))),(0,t.createElement)("div",{className:"ai-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Prompt Configuration"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:async()=>{if(window.confirm("Reset prompts to defaults?")){i(!0),k({type:"",text:""});try{const e=await n()({path:"/wpseopilot/v2/ai/reset",method:"POST"});e.success&&(p(t=>({...t,ai_prompt_system:e.data.ai_prompt_system||"",ai_prompt_title:e.data.ai_prompt_title||"",ai_prompt_description:e.data.ai_prompt_description||""})),k({type:"success",text:"Prompts restored to defaults."}))}catch(e){console.error("Failed to reset settings:",e),k({type:"error",text:"Failed to reset settings."})}finally{i(!1)}}},disabled:c},c?"Resetting...":"Reset Defaults")),(0,t.createElement)("div",{className:"ai-card-body"},(0,t.createElement)("div",{className:"ai-prompts-stack"},(0,t.createElement)("div",{className:"ai-prompt-field"},(0,t.createElement)("label",{htmlFor:"system-prompt"},"System Prompt",(0,t.createElement)("span",{className:"label-hint"},"Base instructions for every request")),(0,t.createElement)("textarea",{id:"system-prompt",value:d.ai_prompt_system,onChange:e=>p(t=>({...t,ai_prompt_system:e.target.value})),rows:"2",placeholder:"You are an SEO assistant..."})),(0,t.createElement)("div",{className:"ai-prompts-row"},(0,t.createElement)("div",{className:"ai-prompt-field"},(0,t.createElement)("label",{htmlFor:"title-prompt"},"Title Prompt",(0,t.createElement)("span",{className:"label-hint"},"How to craft titles")),(0,t.createElement)("textarea",{id:"title-prompt",value:d.ai_prompt_title,onChange:e=>p(t=>({...t,ai_prompt_title:e.target.value})),rows:"2",placeholder:"Write an SEO meta title..."})),(0,t.createElement)("div",{className:"ai-prompt-field"},(0,t.createElement)("label",{htmlFor:"desc-prompt"},"Description Prompt",(0,t.createElement)("span",{className:"label-hint"},"How to craft descriptions")),(0,t.createElement)("textarea",{id:"desc-prompt",value:d.ai_prompt_description,onChange:e=>p(t=>({...t,ai_prompt_description:e.target.value})),rows:"2",placeholder:"Write a meta description..."}))))),(0,t.createElement)("div",{className:"ai-card-footer"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{r(!0),k({type:"",text:""});try{(await n()({path:"/wpseopilot/v2/ai/settings",method:"POST",data:{ai_prompt_system:d.ai_prompt_system,ai_prompt_title:d.ai_prompt_title,ai_prompt_description:d.ai_prompt_description}})).success&&k({type:"success",text:"Prompt settings saved successfully!"})}catch(e){console.error("Failed to save settings:",e),k({type:"error",text:"Failed to save settings."})}finally{r(!1)}},disabled:s},s?"Saving...":"Save Prompt Settings")))),(0,t.createElement)("div",{className:"ai-test-column"},(0,t.createElement)("div",{className:"ai-card ai-test-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Test Generation"),u.provider&&"none"!==u.provider&&(0,t.createElement)("span",{className:"provider-tag"},"via ",(()=>{switch(u.provider){case"wp-ai-pilot":return"WP AI Pilot";case"native":return"Native API Keys (Deprecated)";default:return"Not Configured"}})())),(0,t.createElement)("div",{className:"ai-card-body"},(0,t.createElement)("div",{className:"ai-test-input"},(0,t.createElement)("textarea",{value:E,onChange:e=>h(e.target.value),rows:"4",placeholder:"Paste content here to test AI generation. Provide at least 100 words for best results...",disabled:!u.configured}),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{if(E.trim())if(u.configured){m(!0),k({type:"",text:""}),b(""),N("");try{const e=await n()({path:"/wpseopilot/v2/ai/generate",method:"POST",data:{content:E,type:"both"}});e.success&&(b(e.data.title||""),N(e.data.description||""),k({type:"success",text:"Generation complete!"}))}catch(e){console.error("Failed to generate:",e),k({type:"error",text:e.message||"Failed to generate content."})}finally{m(!1)}}else k({type:"error",text:"Please configure WP AI Pilot to enable AI generation."});else k({type:"error",text:"Please enter some content to analyze."})},disabled:o||!u.configured},o?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Generating..."):"Generate")),!u.configured&&(0,t.createElement)("div",{className:"ai-test-disabled-notice"},(0,t.createElement)("p",null,"Configure WP AI Pilot to test AI generation.")),(v||y)&&(0,t.createElement)("div",{className:"ai-results"},v&&(0,t.createElement)("div",{className:"ai-result-item"},(0,t.createElement)("div",{className:"ai-result-header"},(0,t.createElement)("span",{className:"ai-result-label"},"Title"),(0,t.createElement)("span",{className:"ai-result-count"},v.length," chars")),(0,t.createElement)("div",{className:"ai-result-value"},v)),y&&(0,t.createElement)("div",{className:"ai-result-item"},(0,t.createElement)("div",{className:"ai-result-header"},(0,t.createElement)("span",{className:"ai-result-label"},"Description"),(0,t.createElement)("span",{className:"ai-result-count"},y.length," chars")),(0,t.createElement)("div",{className:"ai-result-value"},y))))),(0,t.createElement)("div",{className:"ai-info-grid"},(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Unified AI Platform"),(0,t.createElement)("p",null,"WP AI Pilot manages AI for all your plugins in one place"))),(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Privacy First"),(0,t.createElement)("p",null,"API keys stored locally, nothing saved externally"))),(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Multiple Providers"),(0,t.createElement)("p",null,"OpenAI, Anthropic, Google AI, and more via WP AI Pilot")))))))},de=(0,a.createContext)(null),pe=({children:e,assistantId:l,initialMessage:s=""})=>{const[r,c]=(0,a.useState)(()=>s?[{id:"initial",role:"assistant",content:s,actions:[]}]:[]),[i,o]=(0,a.useState)(!1),[m,d]=(0,a.useState)(null),p=(0,a.useCallback)(async(e,t={})=>{if(!e.trim()||i)return;const a={id:`user-${Date.now()}`,role:"user",content:e.trim()};c(e=>[...e,a]),o(!0),d(null);try{const a=await n()({path:"/wpseopilot/v2/assistants/chat",method:"POST",data:{assistant:l,message:e.trim(),context:t}});if(a.success){const e={id:`assistant-${Date.now()}`,role:"assistant",content:a.data.message,actions:a.data.actions||[],data:a.data.data};c(t=>[...t,e])}else d(a.message||"Failed to get response")}catch(e){d(e.message||"An error occurred")}finally{o(!1)}},[l,i]),u=(0,a.useCallback)(async(e,t={})=>{o(!0),d(null);try{const a=await n()({path:"/wpseopilot/v2/assistants/action",method:"POST",data:{assistant:l,action:e,context:t}});if(a.success){const e={id:`assistant-${Date.now()}`,role:"assistant",content:a.data.message,actions:a.data.actions||[],data:a.data.data};c(t=>[...t,e])}else d(a.message||"Failed to execute action")}catch(e){d(e.message||"An error occurred")}finally{o(!1)}},[l]),g=(0,a.useCallback)(()=>{c(s?[{id:"initial",role:"assistant",content:s,actions:[]}]:[]),d(null)},[s]),E={messages:r,isLoading:i,error:m,sendMessage:p,executeAction:u,clearChat:g,assistantId:l};return(0,t.createElement)(de.Provider,{value:E},e)},ue=({message:e,isUser:a,actions:l,onAction:n})=>(0,t.createElement)("div",{className:"assistant-message "+(a?"assistant-message--user":"assistant-message--assistant")},(0,t.createElement)("div",{className:"assistant-message__content"},a?(0,t.createElement)("p",null,e):(0,t.createElement)("div",{className:"assistant-message__text",dangerouslySetInnerHTML:{__html:(e=>{if(!e)return"";const t=e.split("\n"),a=[];let l=!1;return t.forEach((e,n)=>{let s=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");s=s.replace(/__(.*?)__/g,"<strong>$1</strong>"),e.match(/^[-*]\s+(.*)$/)?(l||(a.push('<ul class="assistant-message__list">'),l=!0),a.push(`<li>${s.replace(/^[-*]\s+/,"")}</li>`)):(l&&(a.push("</ul>"),l=!1),s.trim()?a.push(`<p>${s}</p>`):n<t.length-1&&a.push("<br/>"))}),l&&a.push("</ul>"),a.join("")})(e)}})),!a&&l&&l.length>0&&(0,t.createElement)("div",{className:"assistant-message__actions"},l.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:"assistant-message__action-btn",onClick:()=>n&&n(e.id)},e.label)))),ge=()=>(0,t.createElement)("div",{className:"assistant-typing"},(0,t.createElement)("div",{className:"assistant-typing__dot"}),(0,t.createElement)("div",{className:"assistant-typing__dot"}),(0,t.createElement)("div",{className:"assistant-typing__dot"})),Ee=({suggestedPrompts:e=[]})=>{const{messages:l,isLoading:n,error:s,sendMessage:r,executeAction:c}=(()=>{const e=(0,a.useContext)(de);if(!e)throw new Error("useAssistant must be used within an AssistantProvider");return e})(),[i,o]=(0,a.useState)(""),m=(0,a.useRef)(null),d=(0,a.useRef)(null);(0,a.useEffect)(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[l,n]),(0,a.useEffect)(()=>{d.current?.focus()},[]);const p=e=>{e.preventDefault(),i.trim()&&!n&&(r(i),o(""))},u=e=>{n||c(e)},g=l.length<=1&&e.length>0;return(0,t.createElement)("div",{className:"assistant-chat"},(0,t.createElement)("div",{className:"assistant-chat__messages"},l.map(e=>(0,t.createElement)(ue,{key:e.id,message:e.content,isUser:"user"===e.role,actions:e.actions,onAction:u})),n&&(0,t.createElement)(ge,null),s&&(0,t.createElement)("div",{className:"assistant-chat__error"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 8v4m0 4h.01"})),(0,t.createElement)("span",null,s)),(0,t.createElement)("div",{ref:m})),g&&(0,t.createElement)("div",{className:"assistant-chat__suggestions"},(0,t.createElement)("p",{className:"assistant-chat__suggestions-label"},"Try asking:"),(0,t.createElement)("div",{className:"assistant-chat__suggestions-list"},e.map((e,a)=>(0,t.createElement)("button",{key:a,type:"button",className:"assistant-chat__suggestion",onClick:()=>(e=>{n||r(e)})(e),disabled:n},e)))),(0,t.createElement)("form",{className:"assistant-chat__input-form",onSubmit:p},(0,t.createElement)("div",{className:"assistant-chat__input-wrapper"},(0,t.createElement)("textarea",{ref:d,className:"assistant-chat__input",value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p(e))},placeholder:"Type your message...",disabled:n,rows:1}),(0,t.createElement)("button",{type:"submit",className:"assistant-chat__send-btn",disabled:!i.trim()||n},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"}))))))},he=((0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.createElement)("path",{d:"M21 21l-4.35-4.35"}),(0,t.createElement)("path",{d:"M11 8v6M8 11h6"})),(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),(0,t.createElement)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M9 12h6M9 16h6"})),window?.wpseopilotV2Settings||{}),ve=he.aiEnabled||!1,be=he.aiProvider||"none",ye=he.aiPilot||null,Ne=({initialAssistant:e=null})=>{const[l,s]=(0,a.useState)("list"),[r,c]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[m,d]=(0,a.useState)(null),[p,u]=(0,a.useState)(null),[g,E]=(0,a.useState)(null),[h,v]=(0,a.useState)(!0),[b,y]=(0,a.useState)(!1),[N,_]=(0,a.useState)({name:"",description:"",system_prompt:"",initial_message:"",icon:"🤖",color:"#6366f1",model_id:"",is_active:!0}),k=(0,a.useCallback)(async()=>{v(!0);try{const[e,t,a]=await Promise.all([n()({path:"/wpseopilot/v2/assistants"}),n()({path:"/wpseopilot/v2/assistants/custom"}),n()({path:"/wpseopilot/v2/assistants/stats"})]);e.success&&c(e.data),t.success&&o(t.data),a.success&&d(a.data)}catch(e){console.error("Failed to fetch assistants:",e)}finally{v(!1)}},[]);(0,a.useEffect)(()=>{k()},[k]),(0,a.useEffect)(()=>{if(e&&r.length>0){const t=r.find(t=>t.id===e);t&&(u(t),s("chat"))}},[e,r]);const f=e=>{u(e),s("chat")},w=()=>{u(null),E(null),s("list"),_({name:"",description:"",system_prompt:"",initial_message:"",icon:"🤖",color:"#6366f1",model_id:"",is_active:!0})},x=()=>{_({name:"",description:"",system_prompt:"",initial_message:"",icon:"🤖",color:"#6366f1",model_id:"",is_active:!0}),E(null),s("create")},C=(e,t)=>{_(a=>({...a,[e]:t}))};return h?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"loading-state"},"Loading assistants...")):"chat"===l&&p?(0,t.createElement)("div",{className:"page assistants-page"},(0,t.createElement)("div",{className:"page-header page-header--with-back"},(0,t.createElement)("button",{type:"button",className:"back-button",onClick:w},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M15 18l-6-6 6-6"})),(0,t.createElement)("span",null,"All Assistants")),(0,t.createElement)("div",{className:"page-header__info"},(0,t.createElement)("div",{className:"page-header__icon",style:{backgroundColor:`${p.color}15`,color:p.color}},p.icon),(0,t.createElement)("div",null,(0,t.createElement)("h1",null,p.name),(0,t.createElement)("p",null,p.description)))),(0,t.createElement)("div",{className:"assistants-chat-container"},(0,t.createElement)(pe,{key:p.id,assistantId:p.id,initialMessage:p.initial_message||p.initialMessage},(0,t.createElement)(Ee,{suggestedPrompts:p.suggested_prompts||p.suggestedPrompts})))):"create"===l||"edit"===l?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header page-header--with-back"},(0,t.createElement)("button",{type:"button",className:"back-button",onClick:w},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M15 18l-6-6 6-6"})),(0,t.createElement)("span",null,"All Assistants")),(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"edit"===l?"Edit Assistant":"Create Assistant"),(0,t.createElement)("p",null,"Configure your custom AI assistant."))),(0,t.createElement)("div",{className:"assistants-form"},(0,t.createElement)("div",{className:"panel"},(0,t.createElement)("h3",null,"Basic Info"),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",{htmlFor:"name"},"Name *"),(0,t.createElement)("input",{id:"name",type:"text",value:N.name,onChange:e=>C("name",e.target.value),placeholder:"My SEO Assistant"})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",{htmlFor:"description"},"Description"),(0,t.createElement)("input",{id:"description",type:"text",value:N.description,onChange:e=>C("description",e.target.value),placeholder:"A helpful assistant for..."})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",null,"Icon"),(0,t.createElement)("div",{className:"icon-picker"},["🤖","💬","📊","🎯","✨","🔍","📝","💡","🚀","⚡"].map(e=>(0,t.createElement)("button",{key:e,type:"button",className:"icon-option "+(N.icon===e?"active":""),onClick:()=>C("icon",e)},e)))),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",null,"Color"),(0,t.createElement)("div",{className:"color-picker"},["#3b82f6","#8b5cf6","#6366f1","#ec4899","#f59e0b","#10b981","#ef4444","#6b7280"].map(e=>(0,t.createElement)("button",{key:e,type:"button",className:"color-option "+(N.color===e?"active":""),style:{backgroundColor:e},onClick:()=>C("color",e)}))))),(0,t.createElement)("div",{className:"panel"},(0,t.createElement)("h3",null,"AI Configuration"),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",{htmlFor:"system_prompt"},"System Prompt *"),(0,t.createElement)("textarea",{id:"system_prompt",value:N.system_prompt,onChange:e=>C("system_prompt",e.target.value),placeholder:"You are a helpful SEO assistant...",rows:6}),(0,t.createElement)("p",{className:"form-help"},"Define the assistant's personality and expertise.")),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",{htmlFor:"initial_message"},"Welcome Message"),(0,t.createElement)("textarea",{id:"initial_message",value:N.initial_message,onChange:e=>C("initial_message",e.target.value),placeholder:"Hi! I'm here to help with...",rows:2})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("label",{htmlFor:"model_id"},"Model (optional)"),(0,t.createElement)("input",{id:"model_id",type:"text",value:N.model_id,onChange:e=>C("model_id",e.target.value),placeholder:"Leave empty to use default model"}),(0,t.createElement)("p",{className:"form-help"},"Use custom_ID for custom models (e.g., custom_1).")),(0,t.createElement)("div",{className:"form-row form-row--checkbox"},(0,t.createElement)("label",null,(0,t.createElement)("input",{type:"checkbox",checked:N.is_active,onChange:e=>C("is_active",e.target.checked)}),(0,t.createElement)("span",null,"Active")))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:w},"Cancel"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{if(N.name&&N.system_prompt){y(!0);try{g?await n()({path:`/wpseopilot/v2/assistants/custom/${g.id}`,method:"PUT",data:N}):await n()({path:"/wpseopilot/v2/assistants/custom",method:"POST",data:N}),await k(),w()}catch(e){console.error("Failed to save assistant:",e),alert("Failed to save assistant.")}finally{y(!1)}}else alert("Name and system prompt are required.")},disabled:b},b?"Saving...":"edit"===l?"Save Changes":"Create Assistant")))):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"AI Assistants"),(0,t.createElement)("p",null,"Manage your AI assistants and track usage.")),(0,t.createElement)("div",{className:"page-header__actions"},"wp-ai-pilot"===be&&(0,t.createElement)("a",{href:ye?.settingsUrl||"admin.php?page=wp-ai-pilot",className:"button ghost"},(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})),"WP AI Pilot"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:x},"+ Create Assistant"))),!ve&&(0,t.createElement)("div",{className:"assistants-notice"},(0,t.createElement)("div",{className:"assistants-notice__icon"},(0,t.createElement)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,t.createElement)("div",{className:"assistants-notice__content"},(0,t.createElement)("h3",null,"AI Assistants Powered by WP AI Pilot"),ye?.installed?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",null,"WP AI Pilot is installed but needs configuration. Add an API key to enable AI assistants."),(0,t.createElement)("a",{href:ye.settingsUrl||"admin.php?page=wp-ai-pilot",className:"button primary"},"Configure WP AI Pilot")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",null,"Install WP AI Pilot to access AI-powered assistants for SEO optimization, content generation, and more."),(0,t.createElement)("a",{href:"plugin-install.php?s=wp+ai+pilot&tab=search",className:"button primary"},"Install WP AI Pilot")))),m&&(0,t.createElement)("div",{className:"stats-grid"},(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("div",{className:"stat-card__value"},m.total_messages),(0,t.createElement)("div",{className:"stat-card__label"},"Total Messages")),(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("div",{className:"stat-card__value"},m.today),(0,t.createElement)("div",{className:"stat-card__label"},"Today")),(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("div",{className:"stat-card__value"},m.this_week),(0,t.createElement)("div",{className:"stat-card__label"},"This Week")),(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("div",{className:"stat-card__value"},m.this_month),(0,t.createElement)("div",{className:"stat-card__label"},"This Month"))),(0,t.createElement)("div",{className:"assistants-section"},(0,t.createElement)("h2",null,"Built-in Assistants"),(0,t.createElement)("div",{className:"assistants-grid"},r.filter(e=>e.is_builtin).map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:"assistant-card",onClick:()=>f(e)},(0,t.createElement)("div",{className:"assistant-card__icon",style:{backgroundColor:`${e.color}15`,color:e.color}},e.icon),(0,t.createElement)("div",{className:"assistant-card__content"},(0,t.createElement)("h3",{className:"assistant-card__name"},e.name),(0,t.createElement)("p",{className:"assistant-card__desc"},e.description)),(0,t.createElement)("div",{className:"assistant-card__arrow",style:{color:e.color}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}))))))),(0,t.createElement)("div",{className:"assistants-section"},(0,t.createElement)("h2",null,"Custom Assistants"),0===i.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("p",null,"No custom assistants yet."),(0,t.createElement)("button",{type:"button",className:"button",onClick:x},"Create your first assistant")):(0,t.createElement)("div",{className:"assistants-grid"},i.map(e=>(0,t.createElement)("div",{key:e.id,className:"assistant-card assistant-card--custom"},(0,t.createElement)("button",{type:"button",className:"assistant-card__main",onClick:()=>f({...e,id:`custom_${e.id}`})},(0,t.createElement)("div",{className:"assistant-card__icon",style:{backgroundColor:`${e.color||"#6366f1"}15`,color:e.color||"#6366f1"}},e.icon||"🤖"),(0,t.createElement)("div",{className:"assistant-card__content"},(0,t.createElement)("h3",{className:"assistant-card__name"},e.name,!e.is_active&&(0,t.createElement)("span",{className:"badge badge--muted"},"Inactive")),(0,t.createElement)("p",{className:"assistant-card__desc"},e.description||"Custom assistant"),e.usage>0&&(0,t.createElement)("span",{className:"assistant-card__usage"},e.usage," messages"))),(0,t.createElement)("div",{className:"assistant-card__actions"},(0,t.createElement)("button",{type:"button",className:"icon-button",onClick:()=>(e=>{_({name:e.name||"",description:e.description||"",system_prompt:e.system_prompt||"",initial_message:e.initial_message||"",icon:e.icon||"🤖",color:e.color||"#6366f1",model_id:e.model_id||"",is_active:!1!==e.is_active}),E(e),s("edit")})(e),title:"Edit"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.createElement)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))),(0,t.createElement)("button",{type:"button",className:"icon-button icon-button--danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this assistant?"))try{await n()({path:`/wpseopilot/v2/assistants/custom/${e}`,method:"DELETE"}),await k()}catch(e){console.error("Failed to delete assistant:",e)}})(e.id),title:"Delete"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})))))))))},_e=({isEnabled:e,onToggle:l})=>{const[n,s]=(0,a.useState)(!1);return(0,t.createElement)("div",{className:"analytics-notice"},(0,t.createElement)("div",{className:"analytics-notice__header"},(0,t.createElement)("div",{className:"analytics-notice__icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),(0,t.createElement)("path",{d:"M12 16v-4"}),(0,t.createElement)("path",{d:"M12 8h.01"}))),(0,t.createElement)("div",{className:"analytics-notice__content"},(0,t.createElement)("h4",null,"Help Improve WP SEO Pilot"),(0,t.createElement)("p",null,"Share anonymous usage data to help us understand which features are most valuable and improve the plugin for everyone.")),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e,onChange:e=>l(e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))),(0,t.createElement)("button",{type:"button",className:"analytics-notice__expand",onClick:()=>s(!n)},n?"Hide details":"What data is collected?",(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:n?"rotate(180deg)":"none"}},(0,t.createElement)("polyline",{points:"6 9 12 15 18 9"}))),n&&(0,t.createElement)("div",{className:"analytics-notice__details"},(0,t.createElement)("div",{className:"analytics-privacy-info"},(0,t.createElement)("h5",null,"What We Collect"),(0,t.createElement)("ul",null,(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("polyline",{points:"20 6 9 17 4 12"})),(0,t.createElement)("span",null,'Feature usage (e.g., "redirect created", "AI title generated")')),(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("polyline",{points:"20 6 9 17 4 12"})),(0,t.createElement)("span",null,"Plugin version number")),(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("polyline",{points:"20 6 9 17 4 12"})),(0,t.createElement)("span",null,"Pages visited within the plugin")),(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("polyline",{points:"20 6 9 17 4 12"})),(0,t.createElement)("span",null,"Anonymized site identifier (hashed URL)"))),(0,t.createElement)("h5",null,"What We Never Collect"),(0,t.createElement)("ul",{className:"analytics-privacy-info__never"},(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),(0,t.createElement)("span",null,"Personal information (names, emails, IP addresses)")),(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),(0,t.createElement)("span",null,"Your content (posts, pages, meta data)")),(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),(0,t.createElement)("span",null,"API keys or credentials")),(0,t.createElement)("li",null,(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),(0,t.createElement)("span",null,"Your site's URL or domain name"))),(0,t.createElement)("h5",null,"Privacy Measures"),(0,t.createElement)("div",{className:"analytics-privacy-info__measures"},(0,t.createElement)("div",{className:"privacy-measure"},(0,t.createElement)("span",{className:"privacy-measure__icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,t.createElement)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"No Cookies"),(0,t.createElement)("span",null,"We don't use any tracking cookies"))),(0,t.createElement)("div",{className:"privacy-measure"},(0,t.createElement)("span",{className:"privacy-measure__icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"Admin Only"),(0,t.createElement)("span",null,"Only tracks within plugin admin pages"))),(0,t.createElement)("div",{className:"privacy-measure"},(0,t.createElement)("span",{className:"privacy-measure__icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"Opt-out Anytime"),(0,t.createElement)("span",null,"Disable tracking at any time"))),(0,t.createElement)("div",{className:"privacy-measure"},(0,t.createElement)("span",{className:"privacy-measure__icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"Self-Hosted"),(0,t.createElement)("span",null,"Analytics on our own Matomo instance")))),(0,t.createElement)("p",{className:"analytics-privacy-info__footer"},"This data helps us prioritize features, fix common issues, and understand how the plugin is used in real-world scenarios. Thank you for helping us improve!"))))},ke=()=>void 0!==window._paq,fe=(e,t,a=null,l=null)=>{if(ke())try{const n=["trackEvent",e,t];a&&n.push(a),null!==l&&n.push(l),window._paq.push(n),window.wpseopilotDebug&&console.log("WP SEO Pilot Analytics:",{category:e,action:t,name:a,value:l})}catch(e){}},we={save:e=>fe("Settings","Save",e),moduleToggle:(e,t)=>fe("Settings","ModuleToggle",e,t?1:0),export:()=>fe("Settings","Export"),import:()=>fe("Settings","Import"),reset:()=>fe("Settings","Reset")},xe=[{id:"general",label:"General"},{id:"modules",label:"Modules"},{id:"breadcrumbs",label:"Breadcrumbs"},{id:"social",label:"Social"},{id:"advanced",label:"Advanced"},{id:"tools",label:"Tools"}],Ce={separator:"-",knowledge_graph_type:"organization",organization_name:"",organization_logo:"",person_name:"",google_verification:"",bing_verification:"",pinterest_verification:"",yandex_verification:"",baidu_verification:"",module_sitemap:!0,module_redirects:!0,module_404_log:!0,module_social_cards:!0,show_404_dashboard_widget:!0,enable_404_cleanup:!1,cleanup_404_days:30,enable_404_notifications:!1,notification_404_threshold:10,notification_404_email:"",module_llm_txt:!1,module_local_seo:!1,module_internal_linking:!0,module_schema:!0,module_breadcrumbs:!1,breadcrumb_separator:">",breadcrumb_separator_custom:"",breadcrumb_show_home:!0,breadcrumb_home_label:"",breadcrumb_show_current:!0,breadcrumb_link_current:!1,breadcrumb_truncate_length:0,breadcrumb_show_on_front:!1,breadcrumb_style_preset:"default",module_analytics:!1,module_search_console:!1,module_ai_assistant:!0,module_indexnow:!1,indexnow_submit_on_publish:!0,indexnow_submit_on_update:!0,default_og_image:"",twitter_card_type:"summary_large_image",twitter_username:"",facebook_app_id:"",facebook_admin_id:"",enable_admin_bar:!0,output_clean_head:!0,remove_shortlinks:!0,remove_rsd_link:!0,remove_wlwmanifest:!0,remove_wp_generator:!0,remove_feed_links:!1,disable_json_ld:!1,disable_emoji:!1,disable_comments_css:!1,disable_gutenberg_css:!1,enable_link_suggestions:!0,enable_internal_link_count:!0,enable_cornerstone_content:!0,cache_schema:!0,purge_on_save:!0,enable_rest_api:!0,debug_mode:!1,lazy_load_schema:!0,minify_schema_output:!0,async_schema_validation:!1,openai_api_key:"",google_api_key:"",bing_api_key:""},Se=({settings:e,updateSetting:a})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Title Separator"),(0,t.createElement)("p",{className:"panel-desc"},'Character used between title parts across your site (e.g., "Page Title | Site Name").'),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Separator"),(0,t.createElement)("p",{className:"settings-help"},"Click to select your preferred separator.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"separator-picker"},[{value:"-",label:"Dash (-)"},{value:"|",label:"Pipe (|)"},{value:">",label:"Greater than (>)"},{value:"<",label:"Less than (<)"},{value:"~",label:"Tilde (~)"},{value:"•",label:"Bullet (•)"},{value:"—",label:"Em dash (—)"}].map(l=>(0,t.createElement)("button",{key:l.value,type:"button",className:"separator-option "+(e.separator===l.value?"active":""),onClick:()=>a("separator",l.value),title:l.label},l.value))))),(0,t.createElement)("div",{className:"settings-info-box"},(0,t.createElement)("strong",null,"Site Name & Tagline"),(0,t.createElement)("p",null,"These are managed in WordPress Settings. ",(0,t.createElement)("a",{href:"options-general.php"},"Edit in Settings → General")))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Knowledge Graph"),(0,t.createElement)("p",{className:"panel-desc"},"Tell search engines who you are with structured data."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Site Represents"),(0,t.createElement)("p",{className:"settings-help"},"Is this site for a person or organization?")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"radio-group"},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"kg_type",checked:"organization"===e.knowledge_graph_type,onChange:()=>a("knowledge_graph_type","organization")}),(0,t.createElement)("span",null,"Organization")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"kg_type",checked:"person"===e.knowledge_graph_type,onChange:()=>a("knowledge_graph_type","person")}),(0,t.createElement)("span",null,"Person"))))),"organization"===e.knowledge_graph_type?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"org-name"},"Organization Name")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"org-name",type:"text",value:e.organization_name,onChange:e=>a("organization_name",e.target.value),placeholder:"Acme Corporation"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"org-logo"},"Logo URL"),(0,t.createElement)("p",{className:"settings-help"},"Recommended: 112x112px minimum.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"org-logo",type:"url",value:e.organization_logo,onChange:e=>a("organization_logo",e.target.value),placeholder:"https://example.com/logo.png"})))):(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"person-name"},"Person Name")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"person-name",type:"text",value:e.person_name,onChange:e=>a("person_name",e.target.value),placeholder:"John Doe"})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Webmaster Tools Verification"),(0,t.createElement)("p",{className:"panel-desc"},"Verify your site with search engines and services."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"google-verify"},"Google Search Console"),(0,t.createElement)("p",{className:"settings-help"},"Meta tag content value.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"google-verify",type:"text",value:e.google_verification,onChange:e=>a("google_verification",e.target.value),placeholder:"abc123..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"bing-verify"},"Bing Webmaster Tools")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"bing-verify",type:"text",value:e.bing_verification,onChange:e=>a("bing_verification",e.target.value),placeholder:"abc123..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"pinterest-verify"},"Pinterest")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"pinterest-verify",type:"text",value:e.pinterest_verification,onChange:e=>a("pinterest_verification",e.target.value),placeholder:"abc123..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"yandex-verify"},"Yandex")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"yandex-verify",type:"text",value:e.yandex_verification,onChange:e=>a("yandex_verification",e.target.value),placeholder:"abc123..."}))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h4",null,"Title Preview"),(0,t.createElement)("div",{className:"title-preview"},(0,t.createElement)("span",{className:"title-preview__text"},"Page Title ",e.separator," Site Name")),(0,t.createElement)("p",{className:"muted",style:{marginTop:"8px",fontSize:"12px"}},"This is how titles will be structured across your site.")))),Pe=({settings:e,updateSetting:a})=>{const l=[{key:"module_sitemap",name:"XML Sitemap",desc:"Generate and manage XML sitemaps for search engines.",icon:"🗺️"},{key:"module_redirects",name:"Redirects",desc:"Create and manage URL redirects (301, 302, 307).",icon:"↪️"},{key:"module_404_log",name:"404 Error Log",desc:"Track and monitor 404 errors on your site.",icon:"🚫"},{key:"module_internal_linking",name:"Internal Linking",desc:"Automatic internal link suggestions and management.",icon:"🔗"},{key:"module_schema",name:"Schema Markup",desc:"Add structured data for rich search results.",icon:"📊"},{key:"module_social_cards",name:"Social Cards",desc:"Dynamic Open Graph and Twitter Card generation.",icon:"🃏"},{key:"module_breadcrumbs",name:"Breadcrumbs",desc:"SEO-friendly breadcrumb navigation.",icon:"🥖"},{key:"module_llm_txt",name:"LLM.txt",desc:"Generate llm.txt file for AI crawlers and LLMs.",icon:"🤖"},{key:"module_local_seo",name:"Local SEO",desc:"Local business schema and location pages.",icon:"📍"},{key:"module_ai_assistant",name:"AI Assistant",desc:"AI-powered content optimization suggestions.",icon:"✨"},{key:"module_indexnow",name:"IndexNow",desc:"Instant URL submission to search engines (Bing, Yandex).",icon:"⚡"},{key:"module_search_console",name:"Search Console",desc:"Google Search Console integration.",icon:"🔍"}],n=l.filter(t=>e[t.key]).length;return(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)(_e,{isEnabled:e.module_analytics,onToggle:e=>{a("module_analytics",e),e&&we.moduleToggle("analytics",!0)}}),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"panel-header"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Feature Modules"),(0,t.createElement)("p",{className:"panel-desc"},"Enable or disable plugin features. Disabled modules are completely unloaded for performance.")),(0,t.createElement)("span",{className:"module-count"},n," of ",l.length," enabled")),(0,t.createElement)("div",{className:"modules-grid"},l.map(l=>(0,t.createElement)("div",{key:l.key,className:"module-card "+(e[l.key]?"active":"")},(0,t.createElement)("div",{className:"module-card__icon"},l.icon),(0,t.createElement)("div",{className:"module-card__content"},(0,t.createElement)("h4",null,l.name),(0,t.createElement)("p",null,l.desc)),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e[l.key],onChange:e=>{return t=l.key,n=e.target.checked,a(t,n),void we.moduleToggle(t.replace("module_",""),n);var t,n}}),(0,t.createElement)("span",{className:"toggle-track"}))))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Performance Tip"),(0,t.createElement)("p",{className:"muted"},"Disable modules you don't use to reduce database queries and improve page load times.")),(0,t.createElement)("div",{className:"side-card warning"},(0,t.createElement)("h4",null,"Dependencies"),(0,t.createElement)("p",{className:"muted"},'Some modules require others. For example, "404 Error Log" works best with "Redirects" enabled.'))))},Ae=({settings:e,updateSetting:a})=>{const l=e.module_breadcrumbs;return(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"panel-header"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Breadcrumbs Navigation"),(0,t.createElement)("p",{className:"panel-desc"},"Add SEO-friendly breadcrumb navigation to your pages.")),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:l,onChange:e=>a("module_breadcrumbs",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))),!l&&(0,t.createElement)("div",{className:"notice notice-info"},(0,t.createElement)("p",null,"Enable breadcrumbs to configure settings below."))),l&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Display Settings"),(0,t.createElement)("p",{className:"panel-desc"},"Configure how breadcrumbs appear on your site."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-separator"},"Separator"),(0,t.createElement)("p",{className:"settings-help"},"Character between breadcrumb items.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{id:"breadcrumb-separator",value:e.breadcrumb_separator,onChange:e=>a("breadcrumb_separator",e.target.value)},[{value:">",label:"Angle bracket (>)"},{value:"/",label:"Slash (/)"},{value:"|",label:"Pipe (|)"},{value:"-",label:"Dash (-)"},{value:"arrow",label:"Arrow (→)"},{value:"chevron",label:"Chevron (›)"},{value:"custom",label:"Custom"}].map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),"custom"===e.breadcrumb_separator&&(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-separator-custom"},"Custom Separator"),(0,t.createElement)("p",{className:"settings-help"},"Enter your custom separator character or HTML.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"breadcrumb-separator-custom",type:"text",value:e.breadcrumb_separator_custom,onChange:e=>a("breadcrumb_separator_custom",e.target.value),placeholder:"e.g., •"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-style"},"Style Preset"),(0,t.createElement)("p",{className:"settings-help"},"Visual style for breadcrumbs.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{id:"breadcrumb-style",value:e.breadcrumb_style_preset,onChange:e=>a("breadcrumb_style_preset",e.target.value)},[{value:"default",label:"Default",desc:"Gray background with rounded corners"},{value:"minimal",label:"Minimal",desc:"Clean text without background"},{value:"rounded",label:"Rounded",desc:"Pill-shaped items"},{value:"pills",label:"Pills",desc:"Arrow-shaped connected items"},{value:"none",label:"No Styling",desc:"Unstyled for custom CSS"}].map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-truncate"},"Truncate Length"),(0,t.createElement)("p",{className:"settings-help"},"Max characters per item. 0 = no truncation.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"breadcrumb-truncate",type:"number",min:"0",max:"100",value:e.breadcrumb_truncate_length,onChange:e=>a("breadcrumb_truncate_length",parseInt(e.target.value,10)||0)})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Home Link"),(0,t.createElement)("p",{className:"panel-desc"},"Configure the home link in breadcrumbs."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-show-home"},"Show Home Link"),(0,t.createElement)("p",{className:"settings-help"},"Include a link to the homepage in breadcrumbs.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"breadcrumb-show-home",type:"checkbox",checked:e.breadcrumb_show_home,onChange:e=>a("breadcrumb_show_home",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),e.breadcrumb_show_home&&(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-home-label"},"Home Label"),(0,t.createElement)("p",{className:"settings-help"},'Text for the home link. Leave empty for "Home".')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"breadcrumb-home-label",type:"text",value:e.breadcrumb_home_label,onChange:e=>a("breadcrumb_home_label",e.target.value),placeholder:"Home"})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Current Page"),(0,t.createElement)("p",{className:"panel-desc"},"Configure how the current page appears in breadcrumbs."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-show-current"},"Show Current Page"),(0,t.createElement)("p",{className:"settings-help"},"Display the current page title in breadcrumbs.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"breadcrumb-show-current",type:"checkbox",checked:e.breadcrumb_show_current,onChange:e=>a("breadcrumb_show_current",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-link-current"},"Link Current Page"),(0,t.createElement)("p",{className:"settings-help"},"Make the current page title a clickable link.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"breadcrumb-link-current",type:"checkbox",checked:e.breadcrumb_link_current,onChange:e=>a("breadcrumb_link_current",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"breadcrumb-show-front"},"Show on Front Page"),(0,t.createElement)("p",{className:"settings-help"},"Display breadcrumbs on the homepage.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"breadcrumb-show-front",type:"checkbox",checked:e.breadcrumb_show_on_front,onChange:e=>a("breadcrumb_show_on_front",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Usage"),(0,t.createElement)("p",{className:"muted"},"Add breadcrumbs to your theme using:"),(0,t.createElement)("code",{className:"code-block"},"[wpseopilot_breadcrumbs]"),(0,t.createElement)("p",{className:"muted",style:{marginTop:"8px"}},"Or in PHP:"),(0,t.createElement)("code",{className:"code-block"},"wpseopilot_breadcrumbs();")),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Gutenberg Block"),(0,t.createElement)("p",{className:"muted"},'Search for "WP SEO Pilot Breadcrumbs" in the block inserter to add breadcrumbs to any page.')),(0,t.createElement)("div",{className:"side-card success"},(0,t.createElement)("h4",null,"Schema Markup"),(0,t.createElement)("p",{className:"muted"},"BreadcrumbList JSON-LD schema is automatically added when breadcrumbs are enabled."))))},Te=({settings:e,updateSetting:a})=>{const l="Your Page Title",n="Your page description will appear here when shared on social media platforms.",s="yoursite.com";return(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Open Graph Defaults"),(0,t.createElement)("p",{className:"panel-desc"},"Default settings for Facebook and other social platforms."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"default-og-image"},"Default Share Image"),(0,t.createElement)("p",{className:"settings-help"},"Used when no featured image is available. Recommended: 1200x630px.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"default-og-image",type:"url",value:e.default_og_image,onChange:e=>a("default_og_image",e.target.value),placeholder:"https://example.com/share-image.jpg"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"fb-app-id"},"Facebook App ID"),(0,t.createElement)("p",{className:"settings-help"},"For Facebook Insights.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"fb-app-id",type:"text",value:e.facebook_app_id,onChange:e=>a("facebook_app_id",e.target.value),placeholder:"123456789"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"fb-admin-id"},"Facebook Admin ID")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"fb-admin-id",type:"text",value:e.facebook_admin_id,onChange:e=>a("facebook_admin_id",e.target.value),placeholder:"123456789"})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Twitter/X Settings"),(0,t.createElement)("p",{className:"panel-desc"},"Configure Twitter Card appearance."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Card Type"),(0,t.createElement)("p",{className:"settings-help"},"How your content appears on Twitter.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"radio-group"},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"twitter_card",checked:"summary"===e.twitter_card_type,onChange:()=>a("twitter_card_type","summary")}),(0,t.createElement)("span",null,"Summary")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"twitter_card",checked:"summary_large_image"===e.twitter_card_type,onChange:()=>a("twitter_card_type","summary_large_image")}),(0,t.createElement)("span",null,"Large Image"))))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"twitter-username"},"Twitter Username"),(0,t.createElement)("p",{className:"settings-help"},"Your @handle without the @.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"input-with-prefix"},(0,t.createElement)("span",{className:"input-prefix"},"@"),(0,t.createElement)("input",{id:"twitter-username",type:"text",value:e.twitter_username,onChange:e=>a("twitter_username",e.target.value),placeholder:"username"})))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"social-preview social-preview--facebook"},(0,t.createElement)("div",{className:"social-preview__header"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#1877f2"},(0,t.createElement)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),(0,t.createElement)("span",null,"Facebook")),(0,t.createElement)("div",{className:"social-preview__card"},(0,t.createElement)("div",{className:"social-preview__image",style:{backgroundImage:e.default_og_image?`url(${e.default_og_image})`:"none"}},!e.default_og_image&&(0,t.createElement)("div",{className:"social-preview__placeholder"},(0,t.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},(0,t.createElement)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})))),(0,t.createElement)("div",{className:"social-preview__body"},(0,t.createElement)("span",{className:"social-preview__domain"},s),(0,t.createElement)("span",{className:"social-preview__title"},l),(0,t.createElement)("span",{className:"social-preview__desc"},n)))),(0,t.createElement)("div",{className:"social-preview social-preview--twitter "+("summary"===e.twitter_card_type?"social-preview--summary":"")},(0,t.createElement)("div",{className:"social-preview__header"},(0,t.createElement)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"#000"},(0,t.createElement)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})),(0,t.createElement)("span",null,"X (Twitter)")),"summary"===e.twitter_card_type?(0,t.createElement)("div",{className:"social-preview__card social-preview__card--horizontal"},(0,t.createElement)("div",{className:"social-preview__image social-preview__image--square",style:{backgroundImage:e.default_og_image?`url(${e.default_og_image})`:"none"}},!e.default_og_image&&(0,t.createElement)("div",{className:"social-preview__placeholder"},(0,t.createElement)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},(0,t.createElement)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})))),(0,t.createElement)("div",{className:"social-preview__body"},(0,t.createElement)("span",{className:"social-preview__title"},l),(0,t.createElement)("span",{className:"social-preview__desc"},n),(0,t.createElement)("span",{className:"social-preview__domain"},s))):(0,t.createElement)("div",{className:"social-preview__card"},(0,t.createElement)("div",{className:"social-preview__image",style:{backgroundImage:e.default_og_image?`url(${e.default_og_image})`:"none"}},!e.default_og_image&&(0,t.createElement)("div",{className:"social-preview__placeholder"},(0,t.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",opacity:"0.3"},(0,t.createElement)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}))),(0,t.createElement)("span",{className:"social-preview__domain-overlay"},s)),(0,t.createElement)("div",{className:"social-preview__body"},(0,t.createElement)("span",{className:"social-preview__title"},l),(0,t.createElement)("span",{className:"social-preview__desc"},n))))))},Le=({settings:e,updateSetting:a})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"User Interface"),(0,t.createElement)("p",{className:"panel-desc"},"Customize how WP SEO Pilot appears in your WordPress admin."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Admin Bar Menu"),(0,t.createElement)("p",{className:"settings-help"},"Show SEO Pilot menu in the WordPress admin bar with quick access to features and SEO score on posts/pages.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_admin_bar,onChange:e=>a("enable_admin_bar",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"WordPress Head Cleanup"),(0,t.createElement)("p",{className:"panel-desc"},"Remove unnecessary tags from your site's <head> section."),(0,t.createElement)("div",{className:"settings-grid"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove Shortlinks")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_shortlinks,onChange:e=>a("remove_shortlinks",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove RSD Link")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_rsd_link,onChange:e=>a("remove_rsd_link",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove WLW Manifest")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_wlwmanifest,onChange:e=>a("remove_wlwmanifest",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove WP Generator")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_wp_generator,onChange:e=>a("remove_wp_generator",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove Feed Links")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_feed_links,onChange:e=>a("remove_feed_links",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Disable Emoji Scripts")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.disable_emoji,onChange:e=>a("disable_emoji",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Content Analysis"),(0,t.createElement)("p",{className:"panel-desc"},"Features for content optimization in the editor."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Link Suggestions"),(0,t.createElement)("p",{className:"settings-help"},"Show internal link suggestions while editing.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_link_suggestions,onChange:e=>a("enable_link_suggestions",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Internal Link Counter"),(0,t.createElement)("p",{className:"settings-help"},"Show count of internal links in post list.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_internal_link_count,onChange:e=>a("enable_internal_link_count",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Cornerstone Content"),(0,t.createElement)("p",{className:"settings-help"},"Enable cornerstone content marking.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_cornerstone_content,onChange:e=>a("enable_cornerstone_content",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Performance"),(0,t.createElement)("p",{className:"panel-desc"},"Optimize plugin performance."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Cache Schema Output"),(0,t.createElement)("p",{className:"settings-help"},"Cache generated schema markup.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.cache_schema,onChange:e=>a("cache_schema",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Minify Schema"),(0,t.createElement)("p",{className:"settings-help"},"Minify JSON-LD output.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.minify_schema_output,onChange:e=>a("minify_schema_output",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Purge Cache on Save"),(0,t.createElement)("p",{className:"settings-help"},"Clear caches when posts are updated.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.purge_on_save,onChange:e=>a("purge_on_save",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),e.module_indexnow&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"IndexNow Settings"),(0,t.createElement)("p",{className:"panel-desc"},"Configure instant URL submission to search engines."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Submit on Publish"),(0,t.createElement)("p",{className:"settings-help"},"Automatically submit URLs when new content is published.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.indexnow_submit_on_publish,onChange:e=>a("indexnow_submit_on_publish",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Submit on Update"),(0,t.createElement)("p",{className:"settings-help"},"Automatically submit URLs when existing content is updated.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.indexnow_submit_on_update,onChange:e=>a("indexnow_submit_on_update",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-info"},(0,t.createElement)("p",{className:"muted"},"IndexNow instantly notifies Bing, Yandex, Seznam, and Naver when your content changes. An API key is automatically generated when you enable the module."))),(0,t.createElement)("section",{className:"panel panel--deprecated"},(0,t.createElement)("h3",null,"API Keys ",(0,t.createElement)("span",{className:"deprecated-badge"},"Deprecated")),(0,t.createElement)("p",{className:"panel-desc"},"API key management has moved to WP AI Pilot for centralized AI configuration."),(0,t.createElement)("div",{className:"deprecation-notice deprecation-notice--block"},(0,t.createElement)("div",{className:"deprecation-notice__icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"}))),(0,t.createElement)("div",{className:"deprecation-notice__content"},(0,t.createElement)("h4",null,"AI Features Now Powered by WP AI Pilot"),(0,t.createElement)("p",null,"Configure your OpenAI, Anthropic, Google AI, and other API keys in WP AI Pilot. This provides unified AI management across all your WordPress plugins that support it."),(0,t.createElement)("div",{className:"deprecation-notice__actions"},(0,t.createElement)("a",{href:"admin.php?page=wp-ai-pilot",className:"button primary"},"Open WP AI Pilot"),(0,t.createElement)("a",{href:"plugin-install.php?s=wp+ai+pilot&tab=search",className:"button ghost"},"Install WP AI Pilot")))),(0,t.createElement)("details",{className:"legacy-settings-toggle"},(0,t.createElement)("summary",null,"Show legacy API key fields (for reference only)"),(0,t.createElement)("div",{className:"legacy-settings-content"},(0,t.createElement)("p",{className:"muted"},"These fields are read-only. Use WP AI Pilot to manage API keys."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"openai-key"},"OpenAI API Key")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"openai-key",type:"password",value:e.openai_api_key?"••••••••••••":"",disabled:!0,placeholder:"Configured in WP AI Pilot"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"google-key"},"Google API Key")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"google-key",type:"password",value:e.google_api_key?"••••••••••••":"",disabled:!0,placeholder:"Configured in WP AI Pilot"})))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"404 Monitor"),(0,t.createElement)("p",{className:"panel-desc"},"Configure 404 error logging and cleanup options."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Dashboard Widget"),(0,t.createElement)("p",{className:"settings-help"},"Show 404 summary widget on the WordPress dashboard.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!1!==e.show_404_dashboard_widget,onChange:e=>a("show_404_dashboard_widget",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Auto-Cleanup"),(0,t.createElement)("p",{className:"settings-help"},"Automatically delete old 404 entries to keep the database clean.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_404_cleanup,onChange:e=>a("enable_404_cleanup",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),e.enable_404_cleanup&&(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Cleanup Age (days)"),(0,t.createElement)("p",{className:"settings-help"},"Delete 404 entries older than this many days.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",min:"1",max:"365",value:e.cleanup_404_days||30,onChange:e=>a("cleanup_404_days",parseInt(e.target.value,10)||30),style:{width:"80px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Email Notifications"),(0,t.createElement)("p",{className:"settings-help"},"Send email alerts when a URL hits the notification threshold.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_404_notifications,onChange:e=>a("enable_404_notifications",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),e.enable_404_notifications&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Hit Threshold"),(0,t.createElement)("p",{className:"settings-help"},"Send notification when a 404 URL reaches this many hits.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",min:"1",max:"1000",value:e.notification_404_threshold||10,onChange:e=>a("notification_404_threshold",parseInt(e.target.value,10)||10),style:{width:"80px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Notification Email"),(0,t.createElement)("p",{className:"settings-help"},"Leave empty to use admin email.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"email",value:e.notification_404_email||"",onChange:e=>a("notification_404_email",e.target.value),placeholder:"admin@example.com",style:{width:"220px"}}))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Developer"),(0,t.createElement)("p",{className:"panel-desc"},"Options for developers and debugging."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Enable REST API"),(0,t.createElement)("p",{className:"settings-help"},"Allow external access to SEO data via REST.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_rest_api,onChange:e=>a("enable_rest_api",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Debug Mode"),(0,t.createElement)("p",{className:"settings-help"},"Enable verbose logging and debug output.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.debug_mode,onChange:e=>a("debug_mode",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card warning"},(0,t.createElement)("h4",null,"Caution"),(0,t.createElement)("p",{className:"muted"},"Changes to advanced settings may affect site functionality. Make sure you understand what each option does.")))),Me=({settings:e,onExport:a,onImport:l,onReset:n,onResetWizard:s,resettingWizard:r,importFile:c,setImportFile:i})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Import / Export"),(0,t.createElement)("p",{className:"panel-desc"},"Backup your settings or transfer them to another site."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Export Settings"),(0,t.createElement)("p",{className:"muted"},"Download all plugin settings as a JSON file."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:a},"Export Settings")),(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Import Settings"),(0,t.createElement)("p",{className:"muted"},"Upload a previously exported JSON file."),(0,t.createElement)("div",{className:"import-controls"},(0,t.createElement)("input",{type:"file",accept:".json",onChange:e=>i(e.target.files[0]),id:"import-file"}),(0,t.createElement)("label",{htmlFor:"import-file",className:"button ghost"},c?c.name:"Choose File"),(0,t.createElement)("button",{type:"button",className:"button",onClick:l,disabled:!c},"Import"))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Database Tools"),(0,t.createElement)("p",{className:"panel-desc"},"Manage plugin data stored in your database."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Clear Cache"),(0,t.createElement)("p",{className:"muted"},"Clear all cached SEO data (schema, sitemaps, etc)."),(0,t.createElement)("button",{type:"button",className:"button ghost"},"Clear Cache")),(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Reindex Content"),(0,t.createElement)("p",{className:"muted"},"Rebuild internal link index and content analysis."),(0,t.createElement)("button",{type:"button",className:"button ghost"},"Reindex")))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Setup Wizard"),(0,t.createElement)("p",{className:"panel-desc"},"Run the setup wizard again to reconfigure the plugin."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Reset Setup Wizard"),(0,t.createElement)("p",{className:"muted"},"Show the setup wizard on next page load. Existing settings will be preserved."),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:s,disabled:r},r?"Resetting...":"Reset Wizard")))),(0,t.createElement)("section",{className:"panel danger-zone"},(0,t.createElement)("h3",null,"Danger Zone"),(0,t.createElement)("p",{className:"panel-desc"},"Destructive actions that cannot be undone."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Reset to Defaults"),(0,t.createElement)("p",{className:"muted"},"Reset all settings to their default values."),(0,t.createElement)("button",{type:"button",className:"button danger",onClick:n},"Reset All Settings")),(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Delete All Data"),(0,t.createElement)("p",{className:"muted"},"Remove all plugin data including redirects, 404 logs, and meta."),(0,t.createElement)("button",{type:"button",className:"button danger"},"Delete All Data"))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h4",null,"Plugin Info"),(0,t.createElement)("div",{className:"info-rows"},(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"Version"),(0,t.createElement)("code",null,"0.2.0")),(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"Interface"),(0,t.createElement)("code",null,"React SPA")),(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"PHP"),(0,t.createElement)("code",null,"8.1")),(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"WordPress"),(0,t.createElement)("code",null,"6.4")))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Need Help?"),(0,t.createElement)("p",{className:"muted"},"Check the documentation or contact support."),(0,t.createElement)("a",{href:"#",className:"button ghost"},"View Documentation")),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Legacy Interface"),(0,t.createElement)("p",{className:"muted"},"Access V1 for features not yet migrated."),(0,t.createElement)("a",{href:"admin.php?page=wpseopilot",className:"button ghost"},"Open V1")))),Ie=()=>{const[e,l]=w({tabs:xe,defaultTab:"general"}),[s,r]=(0,a.useState)(Ce),[c,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),[g,E]=(0,a.useState)(null),[h,v]=(0,a.useState)(!1),b=(0,a.useCallback)(async()=>{i(!0);try{const e=await n()({path:"/wpseopilot/v2/settings"});e.success&&e.data&&r(t=>({...t,...e.data}))}catch(e){console.error("Failed to fetch settings:",e)}finally{i(!1)}},[]);(0,a.useEffect)(()=>{b()},[b]);const y=(e,t)=>{r(a=>({...a,[e]:t})),u(!1)};return c?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"loading-state"},"Loading settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Settings"),(0,t.createElement)("p",null,"Configure WP SEO Pilot features, integrations, and preferences.")),(0,t.createElement)("div",{className:"page-header__actions"},p&&(0,t.createElement)("span",{className:"save-indicator"},"Saved"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{m(!0);try{await n()({path:"/wpseopilot/v2/settings",method:"POST",data:s}),u(!0),setTimeout(()=>u(!1),3e3)}catch(e){console.error("Failed to save settings:",e)}finally{m(!1)}},disabled:o},o?"Saving...":"Save Changes"))),(0,t.createElement)(d,{tabs:xe,activeTab:e,onChange:l,ariaLabel:"Settings sections"}),"general"===e&&(0,t.createElement)(Se,{settings:s,updateSetting:y}),"modules"===e&&(0,t.createElement)(Pe,{settings:s,updateSetting:y}),"breadcrumbs"===e&&(0,t.createElement)(Ae,{settings:s,updateSetting:y}),"social"===e&&(0,t.createElement)(Te,{settings:s,updateSetting:y}),"advanced"===e&&(0,t.createElement)(Le,{settings:s,updateSetting:y}),"tools"===e&&(0,t.createElement)(Me,{settings:s,onExport:()=>{const e=JSON.stringify(s,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`wpseopilot-settings-${(new Date).toISOString().split("T")[0]}.json`,l.click(),URL.revokeObjectURL(a)},onImport:()=>{if(!g)return;const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);r(e=>({...e,...t})),u(!1),E(null)}catch(e){alert("Invalid JSON file")}},e.readAsText(g)},onReset:()=>{window.confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(r(Ce),u(!1))},onResetWizard:async()=>{v(!0);try{await n()({path:"/wpseopilot/v2/setup/reset",method:"POST"}),alert("Setup wizard has been reset. It will appear on the next page load.")}catch(e){console.error("Failed to reset wizard:",e),alert("Failed to reset the setup wizard.")}finally{v(!1)}},resettingWizard:h,importFile:g,setImportFile:E}))},Fe={"wp-seo-pilot":{className:"seo",svg:(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}))},"wp-ai-pilot":{className:"ai",svg:(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"1"}),(0,t.createElement)("circle",{cx:"8",cy:"12",r:"1"}),(0,t.createElement)("circle",{cx:"16",cy:"12",r:"1"}))},"wp-security-pilot":{className:"security",svg:(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M12 2L4 5.4v6.2c0 5.1 3.4 9.7 8 10.4 4.6-.7 8-5.3 8-10.4V5.4L12 2zm0 2.2l6 2.3v5.1c0 4-2.5 7.6-6 8.3-3.5-.7-6-4.3-6-8.3V6.5l6-2.3z"}),(0,t.createElement)("path",{d:"M10.5 12.7l-2-2-1.3 1.3 3.3 3.3 5.3-5.3-1.3-1.3-4 4z"}))}},Oe={"wp-seo-pilot":"Performance-led SEO insights.","wp-ai-pilot":"Centralized AI management.","wp-security-pilot":"Open standard security."},Be=()=>{const[e,l]=(0,a.useState)({}),[s,r]=(0,a.useState)(!0),[c,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)({}),[d,p]=(0,a.useState)({}),[u,g]=(0,a.useState)(null),E=(0,a.useCallback)(async()=>{try{r(!0);const e=await n()({path:"/wpseopilot/v2/updater/plugins"});l(e)}catch(e){console.error("Failed to load plugins:",e),g({type:"error",message:"Failed to load plugins."})}finally{r(!1)}},[]);(0,a.useEffect)(()=>{E()},[E]),(0,a.useEffect)(()=>{if(u){const e=setTimeout(()=>g(null),5e3);return()=>clearTimeout(e)}},[u]);const h=async(e,t)=>{m(a=>({...a,[e]:t})),g(null);try{const a=await n()({path:`/wpseopilot/v2/updater/${t}`,method:"POST",data:{slug:e}});g({type:"success",message:a.message||`Plugin ${t}d successfully.`}),await E()}catch(e){console.error(`Failed to ${t} plugin:`,e),g({type:"error",message:e.message||`Failed to ${t} plugin.`})}finally{m(t=>({...t,[e]:null}))}},v=e=>{const t=["managed-plugin-card"];return e.active&&t.push("active"),e.update_available&&t.push("has-update"),e.update_is_beta&&t.push("has-beta-update"),t.join(" ")};return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Pilot Plugins"),(0,t.createElement)("p",null,"Install and manage plugins from the Pilot ecosystem.")),(0,t.createElement)("button",{className:"button ghost",onClick:async()=>{i(!0),g(null);try{await n()({path:"/wpseopilot/v2/updater/check",method:"POST"}),await E(),g({type:"success",message:"Update check complete."})}catch(e){console.error("Failed to check updates:",e),g({type:"error",message:"Failed to check for updates."})}finally{i(!1)}},disabled:c||s},c?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner is-active"}),"Checking..."):"Check for Updates")),u&&(0,t.createElement)("div",{className:`notice notice-${u.type}`},(0,t.createElement)("p",null,u.message),(0,t.createElement)("button",{type:"button",className:"notice-dismiss",onClick:()=>g(null)},(0,t.createElement)("span",{className:"screen-reader-text"},"Dismiss"))),s&&(0,t.createElement)("div",{className:"loading-state"},(0,t.createElement)("span",{className:"spinner is-active"}),(0,t.createElement)("p",null,"Loading plugins...")),!s&&(0,t.createElement)("div",{className:"managed-plugins-grid"},Object.entries(e).map(([e,a])=>(0,t.createElement)("div",{key:e,className:v(a)},(0,t.createElement)("div",{className:"managed-plugin-header"},(0,t.createElement)("div",{className:"managed-plugin-icon"},((e,a)=>{const l=(e=>Fe[e]||Fe["wp-seo-pilot"])(e);return a.icon?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("img",{src:a.icon,alt:a.name,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,t.createElement)("div",{className:`managed-plugin-icon-fallback ${l.className}`,style:{display:"none"}},l.svg)):(0,t.createElement)("div",{className:`managed-plugin-icon-fallback ${l.className}`},l.svg)})(e,a)),(0,t.createElement)("div",{className:"managed-plugin-info"},(0,t.createElement)("div",{className:"managed-plugin-title"},(0,t.createElement)("h3",null,a.name),(e=>e.installed?e.update_available&&e.update_is_beta?(0,t.createElement)("span",{className:"badge beta"},"Beta Update"):e.update_available?(0,t.createElement)("span",{className:"badge warning"},"Update Available"):e.active?(0,t.createElement)("span",{className:"badge success"},"Active"):(0,t.createElement)("span",{className:"badge"},"Inactive"):(0,t.createElement)("span",{className:"badge"},"Not Installed"))(a)),(0,t.createElement)("p",{className:"managed-plugin-version"},(e=>{if(!e.installed)return e.remote_version?`v${e.remote_version} available`:"Checking...";if(e.update_available){const t=e.update_version||e.remote_version,a=e.update_is_beta?" (beta)":"";return`v${e.current_version} → v${t}${a}`}return e.current_version?`v${e.current_version}`:""})(a)))),(0,t.createElement)("p",{className:"managed-plugin-description"},a.description),(0,t.createElement)("p",{className:"managed-plugin-tagline"},(e=>Oe[e]||"")(e)),a.installed&&(0,t.createElement)("div",{className:"managed-plugin-beta"},(0,t.createElement)("label",{className:"beta-toggle"},(0,t.createElement)("input",{type:"checkbox",checked:a.beta_enabled||!1,onChange:()=>(async(e,t)=>{p(t=>({...t,[e]:!0})),g(null);try{const a=await n()({path:"/wpseopilot/v2/updater/beta",method:"POST",data:{slug:e,enabled:!t}});g({type:"success",message:a.message}),await E()}catch(e){console.error("Failed to toggle beta:",e),g({type:"error",message:e.message||"Failed to toggle beta versions."})}finally{p(t=>({...t,[e]:!1}))}})(e,a.beta_enabled),disabled:d[e]}),(0,t.createElement)("span",{className:"beta-toggle-slider"}),(0,t.createElement)("span",{className:"beta-toggle-label"},"Beta versions",a.beta_available&&!a.beta_enabled&&a.beta_version&&(0,t.createElement)("span",{className:"beta-available-hint"}," (v",a.beta_version," available)")))),((e,a)=>{const l=o[e];return(0,t.createElement)("div",{className:"managed-plugin-actions"},!a.installed&&(0,t.createElement)("button",{className:"button primary",onClick:()=>h(e,"install"),disabled:l||!a.download_url},"install"===l?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner is-active"}),"Installing..."):"Install"),a.installed&&a.update_available&&(0,t.createElement)("button",{className:"button "+(a.update_is_beta?"beta":"warning"),onClick:()=>h(e,"update"),disabled:l},"update"===l?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner is-active"}),"Updating..."):a.update_is_beta?"Install Beta":"Update"),a.installed&&(a.active?(0,t.createElement)("button",{className:"button ghost",onClick:()=>h(e,"deactivate"),disabled:l},"deactivate"===l?"Deactivating...":"Deactivate"):(0,t.createElement)("button",{className:"button primary",onClick:()=>h(e,"activate"),disabled:l},"activate"===l?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner is-active"}),"Activating..."):"Activate")),(0,t.createElement)("a",{href:a.github_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"GitHub"))})(e,a)))),!s&&0===Object.keys(e).length&&(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("p",null,"No managed plugins found.")))},Re=({onComplete:e,onSkip:l})=>{const[s,r]=(0,a.useState)(1),[c,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!1),[d,p]=(0,a.useState)(null),[u,g]=(0,a.useState)({site_type:"",primary_goal:"",industry:"",ai_provider:"openai",ai_api_key:"",ai_model:"gpt-4o-mini",enable_sitemap:!0,enable_404_log:!0,enable_redirects:!0,title_template:"%title% - %sitename%"}),E=(e,t)=>{g(a=>({...a,[e]:t})),p(null)},h=()=>{s<5&&r(s+1)},v=()=>{s>1&&r(s-1)},b=[{value:"blog",label:"Blog / News",icon:"📝"},{value:"business",label:"Business / Company",icon:"🏢"},{value:"ecommerce",label:"E-commerce / Store",icon:"🛒"},{value:"portfolio",label:"Portfolio / Personal",icon:"🎨"},{value:"agency",label:"Agency / Services",icon:"💼"},{value:"nonprofit",label:"Non-profit / Charity",icon:"❤️"}],y=[{value:"openai",label:"OpenAI",desc:"GPT-4, GPT-3.5"},{value:"anthropic",label:"Anthropic",desc:"Claude models"},{value:"ollama",label:"Ollama (Local)",desc:"Run locally, free"}];return(0,t.createElement)("div",{className:"setup-wizard"},(0,t.createElement)("div",{className:"setup-progress"},(0,t.createElement)("div",{className:"setup-progress__bar",style:{width:s/5*100+"%"}})),(0,t.createElement)("div",{className:"setup-content"},1===s&&(0,t.createElement)("div",{className:"setup-step setup-step--welcome"},(0,t.createElement)("div",{className:"setup-step__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M5 12h14M12 5l7 7-7 7"}))),(0,t.createElement)("h1",null,"Welcome to WP SEO Pilot"),(0,t.createElement)("p",{className:"setup-step__subtitle"},"Let's get your site ready for search engines. This will only take a minute."),(0,t.createElement)("div",{className:"setup-features"},(0,t.createElement)("div",{className:"setup-feature"},(0,t.createElement)("span",{className:"setup-feature__icon"},"🚀"),(0,t.createElement)("span",null,"AI-powered optimization")),(0,t.createElement)("div",{className:"setup-feature"},(0,t.createElement)("span",{className:"setup-feature__icon"},"📊"),(0,t.createElement)("span",null,"Real-time SEO analysis")),(0,t.createElement)("div",{className:"setup-feature"},(0,t.createElement)("span",{className:"setup-feature__icon"},"🔧"),(0,t.createElement)("span",null,"Easy-to-use tools"))),(0,t.createElement)("div",{className:"setup-actions"},(0,t.createElement)("button",{type:"button",className:"button primary large",onClick:h},"Let's Get Started"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:async()=>{try{await n()({path:"/wpseopilot/v2/setup/skip",method:"POST"})}catch(e){}l&&l()}},"Skip for now"))),2===s&&(0,t.createElement)("div",{className:"setup-step"},(0,t.createElement)("span",{className:"setup-step__number"},"Step 1 of 4"),(0,t.createElement)("h2",null,"Tell us about your site"),(0,t.createElement)("p",{className:"setup-step__subtitle"},"This helps us customize SEO recommendations for your needs."),(0,t.createElement)("div",{className:"setup-section"},(0,t.createElement)("label",{className:"setup-label"},"What type of site is this?"),(0,t.createElement)("div",{className:"setup-options setup-options--grid"},b.map(e=>(0,t.createElement)("button",{key:e.value,type:"button",className:"setup-option "+(u.site_type===e.value?"active":""),onClick:()=>E("site_type",e.value)},(0,t.createElement)("span",{className:"setup-option__icon"},e.icon),(0,t.createElement)("span",{className:"setup-option__label"},e.label))))),(0,t.createElement)("div",{className:"setup-section"},(0,t.createElement)("label",{className:"setup-label"},"What's your primary goal?"),(0,t.createElement)("div",{className:"setup-options"},[{value:"traffic",label:"Get more traffic",icon:"📈"},{value:"leads",label:"Generate leads",icon:"📋"},{value:"sales",label:"Increase sales",icon:"💰"},{value:"brand",label:"Build brand awareness",icon:"🌟"}].map(e=>(0,t.createElement)("button",{key:e.value,type:"button",className:"setup-option setup-option--horizontal "+(u.primary_goal===e.value?"active":""),onClick:()=>E("primary_goal",e.value)},(0,t.createElement)("span",{className:"setup-option__icon"},e.icon),(0,t.createElement)("span",{className:"setup-option__label"},e.label))))),(0,t.createElement)("div",{className:"setup-section"},(0,t.createElement)("label",{className:"setup-label",htmlFor:"industry"},"Industry / Niche (optional)"),(0,t.createElement)("input",{id:"industry",type:"text",className:"setup-input",value:u.industry,onChange:e=>E("industry",e.target.value),placeholder:"e.g., Technology, Health, Finance..."})),(0,t.createElement)("div",{className:"setup-actions"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:v},"Back"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:h,disabled:!u.site_type},"Continue"))),3===s&&(0,t.createElement)("div",{className:"setup-step"},(0,t.createElement)("span",{className:"setup-step__number"},"Step 2 of 4"),(0,t.createElement)("h2",null,"Connect AI (Optional)"),(0,t.createElement)("p",{className:"setup-step__subtitle"},"Enable AI-powered features like content suggestions and meta generation."),(0,t.createElement)("div",{className:"setup-section"},(0,t.createElement)("label",{className:"setup-label"},"Choose a provider"),(0,t.createElement)("div",{className:"setup-providers"},y.map(e=>(0,t.createElement)("button",{key:e.value,type:"button",className:"setup-provider "+(u.ai_provider===e.value?"active":""),onClick:()=>E("ai_provider",e.value)},(0,t.createElement)("strong",null,e.label),(0,t.createElement)("span",null,e.desc))))),"ollama"!==u.ai_provider&&(0,t.createElement)("div",{className:"setup-section"},(0,t.createElement)("label",{className:"setup-label",htmlFor:"api-key"},"API Key"),(0,t.createElement)("div",{className:"setup-input-group"},(0,t.createElement)("input",{id:"api-key",type:"password",className:"setup-input",value:u.ai_api_key,onChange:e=>E("ai_api_key",e.target.value),placeholder:"openai"===u.ai_provider?"sk-...":"sk-ant-..."}),(0,t.createElement)("button",{type:"button",className:"button",onClick:async()=>{if(u.ai_api_key){m(!0),p(null);try{const e=await n()({path:"/wpseopilot/v2/setup/test-api",method:"POST",data:{provider:u.ai_provider,api_key:u.ai_api_key,model:u.ai_model}});p(e.success?"success":"error")}catch(e){p("error")}finally{m(!1)}}},disabled:!u.ai_api_key||o},o?"Testing...":"Test")),"success"===d&&(0,t.createElement)("div",{className:"setup-test-result setup-test-result--success"},"Connection successful!"),"error"===d&&(0,t.createElement)("div",{className:"setup-test-result setup-test-result--error"},"Connection failed. Check your API key."),(0,t.createElement)("p",{className:"setup-help"},"openai"===u.ai_provider&&(0,t.createElement)(t.Fragment,null,"Get your API key from ",(0,t.createElement)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer"},"OpenAI Dashboard")),"anthropic"===u.ai_provider&&(0,t.createElement)(t.Fragment,null,"Get your API key from ",(0,t.createElement)("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer"},"Anthropic Console")))),"ollama"===u.ai_provider&&(0,t.createElement)("div",{className:"setup-info-box"},(0,t.createElement)("h4",null,"Ollama Setup"),(0,t.createElement)("p",null,"Make sure Ollama is running locally on port 11434. No API key required."),(0,t.createElement)("a",{href:"https://ollama.ai",target:"_blank",rel:"noopener noreferrer"},"Download Ollama")),(0,t.createElement)("div",{className:"setup-actions"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:v},"Back"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:h},"Skip AI Setup"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:h,disabled:"ollama"!==u.ai_provider&&!u.ai_api_key},"Continue"))),4===s&&(0,t.createElement)("div",{className:"setup-step"},(0,t.createElement)("span",{className:"setup-step__number"},"Step 3 of 4"),(0,t.createElement)("h2",null,"Quick Wins"),(0,t.createElement)("p",{className:"setup-step__subtitle"},"Enable these essential features to get started quickly."),(0,t.createElement)("div",{className:"setup-toggles"},(0,t.createElement)("label",{className:"setup-toggle"},(0,t.createElement)("div",{className:"setup-toggle__content"},(0,t.createElement)("strong",null,"XML Sitemap"),(0,t.createElement)("span",null,"Help search engines discover your content")),(0,t.createElement)("input",{type:"checkbox",checked:u.enable_sitemap,onChange:e=>E("enable_sitemap",e.target.checked)}),(0,t.createElement)("span",{className:"setup-toggle__switch"})),(0,t.createElement)("label",{className:"setup-toggle"},(0,t.createElement)("div",{className:"setup-toggle__content"},(0,t.createElement)("strong",null,"404 Error Logging"),(0,t.createElement)("span",null,"Track broken links and fix them")),(0,t.createElement)("input",{type:"checkbox",checked:u.enable_404_log,onChange:e=>E("enable_404_log",e.target.checked)}),(0,t.createElement)("span",{className:"setup-toggle__switch"})),(0,t.createElement)("label",{className:"setup-toggle"},(0,t.createElement)("div",{className:"setup-toggle__content"},(0,t.createElement)("strong",null,"Redirects Manager"),(0,t.createElement)("span",null,"Create and manage URL redirects")),(0,t.createElement)("input",{type:"checkbox",checked:u.enable_redirects,onChange:e=>E("enable_redirects",e.target.checked)}),(0,t.createElement)("span",{className:"setup-toggle__switch"}))),(0,t.createElement)("div",{className:"setup-section"},(0,t.createElement)("label",{className:"setup-label"},"Title Template"),(0,t.createElement)("select",{className:"setup-select",value:u.title_template,onChange:e=>E("title_template",e.target.value)},(0,t.createElement)("option",{value:"%title% - %sitename%"},"Page Title - Site Name"),(0,t.createElement)("option",{value:"%title% | %sitename%"},"Page Title | Site Name"),(0,t.createElement)("option",{value:"%sitename% - %title%"},"Site Name - Page Title"),(0,t.createElement)("option",{value:"%title%"},"Page Title Only")),(0,t.createElement)("p",{className:"setup-help"},"How titles will appear in search results.")),(0,t.createElement)("div",{className:"setup-actions"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:v},"Back"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:h},"Continue"))),5===s&&(0,t.createElement)("div",{className:"setup-step setup-step--done"},(0,t.createElement)("div",{className:"setup-step__icon setup-step__icon--success"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M20 6L9 17l-5-5"}))),(0,t.createElement)("h1",null,"You're All Set!"),(0,t.createElement)("p",{className:"setup-step__subtitle"},"WP SEO Pilot is configured and ready to help you rank higher."),(0,t.createElement)("div",{className:"setup-summary"},(0,t.createElement)("div",{className:"setup-summary__item"},(0,t.createElement)("span",{className:"setup-summary__label"},"Site Type"),(0,t.createElement)("span",{className:"setup-summary__value"},b.find(e=>e.value===u.site_type)?.label||"Not set")),(0,t.createElement)("div",{className:"setup-summary__item"},(0,t.createElement)("span",{className:"setup-summary__label"},"AI Provider"),(0,t.createElement)("span",{className:"setup-summary__value"},u.ai_api_key||"ollama"===u.ai_provider?y.find(e=>e.value===u.ai_provider)?.label:"Not configured")),(0,t.createElement)("div",{className:"setup-summary__item"},(0,t.createElement)("span",{className:"setup-summary__label"},"Features Enabled"),(0,t.createElement)("span",{className:"setup-summary__value"},[u.enable_sitemap&&"Sitemap",u.enable_404_log&&"404 Log",u.enable_redirects&&"Redirects"].filter(Boolean).join(", ")||"None"))),(0,t.createElement)("div",{className:"setup-actions"},(0,t.createElement)("button",{type:"button",className:"button primary large",onClick:async()=>{i(!0);try{await n()({path:"/wpseopilot/v2/setup/complete",method:"POST",data:u}),e&&e()}catch(e){console.error("Failed to save setup:",e)}finally{i(!1)}},disabled:c},c?"Saving...":"Go to Dashboard")),(0,t.createElement)("p",{className:"setup-note"},"You can change these settings anytime in Settings."))))},We=({onNavigate:e})=>{const[l,s]=(0,a.useState)([]),[r,c]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[m,d]=(0,a.useState)(null),[p,u]=(0,a.useState)("post"),[g,E]=(0,a.useState)(1),[h,v]=(0,a.useState)(1),[b,y]=(0,a.useState)({}),[N,_]=(0,a.useState)("all"),[k,f]=(0,a.useState)(""),[w,x]=(0,a.useState)([]),C=(0,a.useCallback)(async()=>{c(!0);try{const e=await n()({path:`/wpseopilot/v2/tools/bulk-editor/posts?post_type=${p}&page=${g}&per_page=20&filter=${N}&search=${encodeURIComponent(k)}`});e.success&&(s(e.data.posts),v(e.data.total_pages))}catch(e){console.error("Failed to fetch posts:",e)}finally{c(!1)}},[p,g,N,k]);(0,a.useEffect)(()=>{C()},[C]);const S=(e,t,a)=>{y(l=>({...l,[e]:{...l[e],[t]:a}}))},P=(e,t)=>b[e.id]&&void 0!==b[e.id][t]?b[e.id][t]:e[t]||"",A=Object.keys(b).length>0,T=async(e=null)=>{const t=e||w;if(0!==t.length){d(t);try{const e=await n()({path:"/wpseopilot/v2/tools/bulk-editor/generate",method:"POST",data:{post_ids:t}});if(e.success&&e.data.suggestions){const t={...b};e.data.suggestions.forEach(e=>{t[e.post_id]={...t[e.post_id],seo_title:e.title,seo_description:e.description}}),y(t)}}catch(e){console.error("Failed to generate:",e)}finally{d(null)}}},L=(e,t)=>"title"===t?0===e?"empty":e<30?"short":e>60?"long":"good":0===e?"empty":e<70?"short":e>160?"long":"good";return(0,t.createElement)("div",{className:"page bulk-editor-page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"page-header__breadcrumb"},(0,t.createElement)("button",{type:"button",className:"breadcrumb-link",onClick:()=>e("tools")},"Tools"),(0,t.createElement)("span",{className:"breadcrumb-separator"},"/"),(0,t.createElement)("span",null,"Bulk Editor")),(0,t.createElement)("h1",null,"Smart Bulk Editor"),(0,t.createElement)("p",null,"Edit SEO titles and descriptions in bulk with AI-powered suggestions.")),(0,t.createElement)("div",{className:"page-header__actions"},w.length>0&&(0,t.createElement)("button",{type:"button",className:"button button--secondary",onClick:()=>T(),disabled:m},m?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Generating..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z"})),"Generate AI (",w.length,")")),(0,t.createElement)("button",{type:"button",className:"button button--primary",onClick:async()=>{if(A){o(!0);try{const e=Object.entries(b).map(([e,t])=>({post_id:parseInt(e),...t}));(await n()({path:"/wpseopilot/v2/tools/bulk-editor/save",method:"POST",data:{changes:e}})).success&&(y({}),C())}catch(e){console.error("Failed to save:",e)}finally{o(!1)}}},disabled:!A||i},i?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Saving..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),(0,t.createElement)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,t.createElement)("polyline",{points:"7 3 7 8 15 8"})),"Save Changes ",A&&`(${Object.keys(b).length})`)))),(0,t.createElement)("div",{className:"bulk-editor-controls"},(0,t.createElement)("div",{className:"bulk-editor-filters"},(0,t.createElement)("select",{value:p,onChange:e=>{u(e.target.value),E(1)},className:"bulk-editor-select"},(0,t.createElement)("option",{value:"post"},"Posts"),(0,t.createElement)("option",{value:"page"},"Pages")),(0,t.createElement)("select",{value:N,onChange:e=>{_(e.target.value),E(1)},className:"bulk-editor-select"},(0,t.createElement)("option",{value:"all"},"All"),(0,t.createElement)("option",{value:"missing_title"},"Missing SEO Title"),(0,t.createElement)("option",{value:"missing_description"},"Missing Description"),(0,t.createElement)("option",{value:"missing_both"},"Missing Both")),(0,t.createElement)("div",{className:"bulk-editor-search"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.createElement)("path",{d:"M21 21l-4.35-4.35"})),(0,t.createElement)("input",{type:"text",placeholder:"Search posts...",value:k,onChange:e=>{f(e.target.value),E(1)}}))),(0,t.createElement)("div",{className:"bulk-editor-stats"},w.length>0&&(0,t.createElement)("span",{className:"selected-count"},w.length," selected"))),(0,t.createElement)("div",{className:"bulk-editor-table-wrapper"},r?(0,t.createElement)("div",{className:"bulk-editor-loading"},(0,t.createElement)("span",{className:"spinner"}),"Loading posts..."):0===l.length?(0,t.createElement)("div",{className:"bulk-editor-empty"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"48",height:"48"},(0,t.createElement)("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),(0,t.createElement)("polyline",{points:"14 2 14 8 20 8"})),(0,t.createElement)("p",null,"No posts found matching your criteria.")):(0,t.createElement)("table",{className:"bulk-editor-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"col-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:w.length===l.length,onChange:()=>{w.length===l.length?x([]):x(l.map(e=>e.id))}})),(0,t.createElement)("th",{className:"col-title"},"Post Title"),(0,t.createElement)("th",{className:"col-seo-title"},"SEO Title"),(0,t.createElement)("th",{className:"col-seo-desc"},"Meta Description"),(0,t.createElement)("th",{className:"col-actions"},"Actions"))),(0,t.createElement)("tbody",null,l.map(e=>{const a=P(e,"seo_title"),l=P(e,"seo_description"),n=m&&m.includes(e.id),s=!!b[e.id];return(0,t.createElement)("tr",{key:e.id,className:s?"row-modified":""},(0,t.createElement)("td",{className:"col-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:w.includes(e.id),onChange:()=>{return t=e.id,void x(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})),(0,t.createElement)("td",{className:"col-title"},(0,t.createElement)("div",{className:"post-info"},(0,t.createElement)("a",{href:e.edit_link,target:"_blank",rel:"noopener noreferrer",className:"post-title-link"},e.title),(0,t.createElement)("span",{className:"post-type-badge"},e.post_type))),(0,t.createElement)("td",{className:"col-seo-title"},(0,t.createElement)("div",{className:"field-wrapper"},(0,t.createElement)("input",{type:"text",value:a,onChange:t=>S(e.id,"seo_title",t.target.value),placeholder:e.title,className:n?"generating":"",disabled:n}),(0,t.createElement)("span",{className:`char-count ${L(a.length,"title")}`},a.length,"/60"))),(0,t.createElement)("td",{className:"col-seo-desc"},(0,t.createElement)("div",{className:"field-wrapper"},(0,t.createElement)("textarea",{value:l,onChange:t=>S(e.id,"seo_description",t.target.value),placeholder:"Enter meta description...",rows:2,className:n?"generating":"",disabled:n}),(0,t.createElement)("span",{className:`char-count ${L(l.length,"desc")}`},l.length,"/160"))),(0,t.createElement)("td",{className:"col-actions"},(0,t.createElement)("button",{type:"button",className:"action-button",onClick:()=>T([e.id]),disabled:n,title:"Generate AI suggestions"},n?(0,t.createElement)("span",{className:"spinner-small"}):(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z"})))))})))),h>1&&(0,t.createElement)("div",{className:"bulk-editor-pagination"},(0,t.createElement)("button",{type:"button",className:"pagination-button",onClick:()=>E(e=>Math.max(1,e-1)),disabled:1===g},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M15 18l-6-6 6-6"})),"Previous"),(0,t.createElement)("span",{className:"pagination-info"},"Page ",g," of ",h),(0,t.createElement)("button",{type:"button",className:"pagination-button",onClick:()=>E(e=>Math.min(h,e+1)),disabled:g===h},"Next",(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"})))))},De=({onNavigate:e})=>{const[l,s]=(0,a.useState)(!1),[r,c]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[m,d]=(0,a.useState)(null),[p,u]=(0,a.useState)(""),[g,E]=(0,a.useState)(""),[h,v]=(0,a.useState)([]);(0,a.useEffect)(()=>{b()},[]);const b=async()=>{try{const e=await n()({path:"/wp/v2/categories?per_page=100"});v(e)}catch(e){console.error("Failed to fetch categories:",e)}},y=e=>{switch(e){case"high":return"#d63638";case"medium":return"#dba617";case"low":return"#00a32a";default:return"#757575"}};return(0,t.createElement)("div",{className:"page content-gaps-page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"page-header__breadcrumb"},(0,t.createElement)("button",{type:"button",className:"breadcrumb-link",onClick:()=>e("tools")},"Tools"),(0,t.createElement)("span",{className:"breadcrumb-separator"},"/"),(0,t.createElement)("span",null,"Content Gaps Finder")),(0,t.createElement)("h1",null,"Content Gaps Finder"),(0,t.createElement)("p",null,"Discover missing topics and content opportunities based on your existing content."))),(0,t.createElement)("div",{className:"content-gaps-input"},(0,t.createElement)("div",{className:"input-row"},(0,t.createElement)("div",{className:"input-group"},(0,t.createElement)("label",null,"Focus Topic (optional)"),(0,t.createElement)("input",{type:"text",value:p,onChange:e=>u(e.target.value),placeholder:"e.g., coffee brewing, SEO, cooking..."})),(0,t.createElement)("div",{className:"input-group"},(0,t.createElement)("label",null,"Category Filter"),(0,t.createElement)("select",{value:g,onChange:e=>E(e.target.value)},(0,t.createElement)("option",{value:""},"All Categories"),h.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.count,")")))),(0,t.createElement)("button",{type:"button",className:"button button--primary analyze-button",onClick:async()=>{s(!0),c(null),d(null);try{const e=await n()({path:"/wpseopilot/v2/tools/content-gaps/analyze",method:"POST",data:{topic:p||null,category_id:g||null}});e.success&&c(e.data)}catch(e){console.error("Failed to analyze:",e)}finally{s(!1)}},disabled:l},l?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Analyzing..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.createElement)("path",{d:"M21 21l-4.35-4.35"}),(0,t.createElement)("path",{d:"M11 8v6M8 11h6"})),"Find Content Gaps")))),l&&(0,t.createElement)("div",{className:"content-gaps-loading"},(0,t.createElement)("div",{className:"loading-animation"},(0,t.createElement)("span",{className:"spinner-large"}),(0,t.createElement)("p",null,"Analyzing your content..."),(0,t.createElement)("span",{className:"loading-hint"},"This may take a moment as we review your posts."))),r&&!l&&(0,t.createElement)("div",{className:"content-gaps-results"},(0,t.createElement)("div",{className:"results-summary"},(0,t.createElement)("div",{className:"summary-stat"},(0,t.createElement)("span",{className:"stat-value"},r.posts_analyzed),(0,t.createElement)("span",{className:"stat-label"},"Posts Analyzed")),(0,t.createElement)("div",{className:"summary-stat"},(0,t.createElement)("span",{className:"stat-value"},r.gaps?.length||0),(0,t.createElement)("span",{className:"stat-label"},"Gaps Found")),(0,t.createElement)("div",{className:"summary-stat"},(0,t.createElement)("span",{className:"stat-value"},r.clusters?.length||0),(0,t.createElement)("span",{className:"stat-label"},"Content Clusters"))),r.existing_topics?.length>0&&(0,t.createElement)("div",{className:"results-section"},(0,t.createElement)("h3",null,"Your Current Topics"),(0,t.createElement)("div",{className:"topic-tags"},r.existing_topics.map((e,a)=>(0,t.createElement)("span",{key:a,className:"topic-tag"},e)))),r.gaps?.length>0&&(0,t.createElement)("div",{className:"results-section"},(0,t.createElement)("h3",null,"Content Gaps"),(0,t.createElement)("p",{className:"section-desc"},"Topics you should consider writing about:"),(0,t.createElement)("div",{className:"gaps-grid"},r.gaps.map((e,a)=>(0,t.createElement)("div",{key:a,className:"gap-card"},(0,t.createElement)("div",{className:"gap-header"},(0,t.createElement)("h4",{className:"gap-title"},e.topic),(0,t.createElement)("span",{className:"gap-priority",style:{backgroundColor:y(e.priority)}},e.priority)),(0,t.createElement)("p",{className:"gap-reason"},e.reason),e.search_volume&&(0,t.createElement)("div",{className:"gap-meta"},(0,t.createElement)("span",{className:"gap-volume"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("path",{d:"M3 3v18h18"}),(0,t.createElement)("path",{d:"M18 9l-5 5-4-4-3 3"})),"~",e.search_volume,"/mo")),(0,t.createElement)("button",{type:"button",className:"button button--small",onClick:()=>(async e=>{o(e);try{const t=await n()({path:"/wpseopilot/v2/tools/content-gaps/outline",method:"POST",data:{topic:e}});t.success&&d({topic:e,...t.data})}catch(e){console.error("Failed to generate outline:",e)}finally{o(null)}})(e.topic),disabled:i===e.topic},i===e.topic?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner-small"}),"Generating..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),(0,t.createElement)("polyline",{points:"14 2 14 8 20 8"}),(0,t.createElement)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,t.createElement)("line",{x1:"16",y1:"17",x2:"8",y2:"17"})),"Generate Outline")))))),r.clusters?.length>0&&(0,t.createElement)("div",{className:"results-section"},(0,t.createElement)("h3",null,"Content Clusters"),(0,t.createElement)("p",{className:"section-desc"},"Group related content for better internal linking:"),(0,t.createElement)("div",{className:"clusters-list"},r.clusters.map((e,a)=>(0,t.createElement)("div",{key:a,className:"cluster-card"},(0,t.createElement)("div",{className:"cluster-header"},(0,t.createElement)("h4",null,e.name),(0,t.createElement)("span",{className:"cluster-count"},e.posts?.length||0," posts")),e.missing_subtopics?.length>0&&(0,t.createElement)("div",{className:"cluster-missing"},(0,t.createElement)("span",{className:"missing-label"},"Missing subtopics:"),(0,t.createElement)("div",{className:"missing-tags"},e.missing_subtopics.map((e,a)=>(0,t.createElement)("span",{key:a,className:"missing-tag"},e))))))))),m&&(0,t.createElement)("div",{className:"outline-modal-backdrop",onClick:()=>d(null)},(0,t.createElement)("div",{className:"outline-modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"outline-header"},(0,t.createElement)("h3",null,"Content Outline: ",m.topic),(0,t.createElement)("button",{type:"button",className:"outline-close",onClick:()=>d(null)},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),(0,t.createElement)("div",{className:"outline-content"},m.suggested_title&&(0,t.createElement)("div",{className:"outline-section"},(0,t.createElement)("h4",null,"Suggested Title"),(0,t.createElement)("p",{className:"suggested-title"},m.suggested_title)),m.meta_description&&(0,t.createElement)("div",{className:"outline-section"},(0,t.createElement)("h4",null,"Meta Description"),(0,t.createElement)("p",null,m.meta_description)),m.outline?.length>0&&(0,t.createElement)("div",{className:"outline-section"},(0,t.createElement)("h4",null,"Content Structure"),(0,t.createElement)("ul",{className:"outline-list"},m.outline.map((e,a)=>(0,t.createElement)("li",{key:a,className:`outline-item outline-item--${e.level||"h2"}`},(0,t.createElement)("span",{className:"outline-heading"},e.heading),e.points?.length>0&&(0,t.createElement)("ul",{className:"outline-points"},e.points.map((e,a)=>(0,t.createElement)("li",{key:a},e))))))),m.target_keywords?.length>0&&(0,t.createElement)("div",{className:"outline-section"},(0,t.createElement)("h4",null,"Target Keywords"),(0,t.createElement)("div",{className:"keyword-tags"},m.target_keywords.map((e,a)=>(0,t.createElement)("span",{key:a,className:"keyword-tag"},e))))),(0,t.createElement)("div",{className:"outline-footer"},(0,t.createElement)("button",{type:"button",className:"button button--secondary",onClick:()=>{const e=`# ${m.suggested_title||m.topic}\n\n${m.outline?.map(e=>`## ${e.heading}\n${e.points?.map(e=>`- ${e}`).join("\n")||""}`).join("\n\n")||""}`;navigator.clipboard.writeText(e)}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),(0,t.createElement)("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})),"Copy Outline"),(0,t.createElement)("button",{type:"button",className:"button button--primary",onClick:()=>d(null)},"Done")))),!r&&!l&&(0,t.createElement)("div",{className:"content-gaps-empty"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"64",height:"64"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),(0,t.createElement)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M12 12v4M10 14h4"})),(0,t.createElement)("h3",null,"Find Your Content Opportunities"),(0,t.createElement)("p",null,'Enter a focus topic or select a category, then click "Find Content Gaps" to discover what topics you should be writing about based on your existing content.')))},ze=[{id:"Article",name:"Article",icon:"📄",description:"News, blog posts, and articles"},{id:"Product",name:"Product",icon:"🛍️",description:"E-commerce products"},{id:"LocalBusiness",name:"Local Business",icon:"🏪",description:"Physical business location"},{id:"FAQPage",name:"FAQ Page",icon:"❓",description:"Frequently asked questions"},{id:"HowTo",name:"How To",icon:"📝",description:"Step-by-step instructions"},{id:"Recipe",name:"Recipe",icon:"🍳",description:"Cooking recipes"},{id:"Event",name:"Event",icon:"📅",description:"Events and conferences"},{id:"Person",name:"Person",icon:"👤",description:"Author or person profile"},{id:"Organization",name:"Organization",icon:"🏢",description:"Company or organization"},{id:"WebSite",name:"Website",icon:"🌐",description:"Website information"},{id:"BreadcrumbList",name:"Breadcrumbs",icon:"🔗",description:"Navigation breadcrumbs"},{id:"VideoObject",name:"Video",icon:"🎬",description:"Video content"},{id:"Course",name:"Course",icon:"🎓",description:"Educational courses"},{id:"SoftwareApplication",name:"Software",icon:"💻",description:"Software applications"},{id:"Book",name:"Book",icon:"📚",description:"Books and literature"},{id:"MusicAlbum",name:"Music",icon:"🎵",description:"Music albums and playlists"},{id:"Movie",name:"Movie",icon:"🎬",description:"Films and movies"},{id:"Restaurant",name:"Restaurant",icon:"🍽️",description:"Restaurants and eateries"},{id:"Service",name:"Service",icon:"🛠️",description:"Offered services"},{id:"JobPosting",name:"Job Posting",icon:"💼",description:"Job opportunities"}],$e={Article:[{key:"headline",label:"Headline",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"author",label:"Author Name",type:"text"},{key:"datePublished",label:"Date Published",type:"date"},{key:"dateModified",label:"Date Modified",type:"date"},{key:"image",label:"Image URL",type:"url"}],Product:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"image",label:"Image URL",type:"url"},{key:"brand",label:"Brand",type:"text"},{key:"sku",label:"SKU",type:"text"},{key:"price",label:"Price",type:"number"},{key:"priceCurrency",label:"Currency",type:"text",placeholder:"USD"},{key:"availability",label:"Availability",type:"select",options:["InStock","OutOfStock","PreOrder"]}],LocalBusiness:[{key:"name",label:"Business Name",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"image",label:"Image URL",type:"url"},{key:"telephone",label:"Phone",type:"tel"},{key:"streetAddress",label:"Street Address",type:"text"},{key:"addressLocality",label:"City",type:"text"},{key:"addressRegion",label:"State/Region",type:"text"},{key:"postalCode",label:"Postal Code",type:"text"},{key:"addressCountry",label:"Country",type:"text"}],FAQPage:[{key:"faqs",label:"FAQ Items",type:"faq-list"}],HowTo:[{key:"name",label:"Title",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"totalTime",label:"Total Time",type:"text",placeholder:"PT30M (30 minutes)"},{key:"steps",label:"Steps",type:"steps-list"}],Recipe:[{key:"name",label:"Recipe Name",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"image",label:"Image URL",type:"url"},{key:"prepTime",label:"Prep Time",type:"text",placeholder:"PT15M"},{key:"cookTime",label:"Cook Time",type:"text",placeholder:"PT30M"},{key:"recipeYield",label:"Servings",type:"text"},{key:"recipeIngredient",label:"Ingredients",type:"list"},{key:"recipeInstructions",label:"Instructions",type:"steps-list"}],Event:[{key:"name",label:"Event Name",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"startDate",label:"Start Date",type:"datetime-local"},{key:"endDate",label:"End Date",type:"datetime-local"},{key:"location",label:"Location Name",type:"text"},{key:"streetAddress",label:"Address",type:"text"},{key:"image",label:"Image URL",type:"url"}],Person:[{key:"name",label:"Name",type:"text",required:!0},{key:"jobTitle",label:"Job Title",type:"text"},{key:"description",label:"Bio",type:"textarea"},{key:"image",label:"Photo URL",type:"url"},{key:"email",label:"Email",type:"email"},{key:"url",label:"Website",type:"url"}],Organization:[{key:"name",label:"Organization Name",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"logo",label:"Logo URL",type:"url"},{key:"url",label:"Website",type:"url"},{key:"telephone",label:"Phone",type:"tel"},{key:"email",label:"Email",type:"email"}],WebSite:[{key:"name",label:"Site Name",type:"text",required:!0},{key:"url",label:"URL",type:"url",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"potentialAction",label:"Enable Site Search",type:"checkbox"}],BreadcrumbList:[{key:"items",label:"Breadcrumb Items",type:"breadcrumb-list"}],VideoObject:[{key:"name",label:"Video Title",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"thumbnailUrl",label:"Thumbnail URL",type:"url"},{key:"uploadDate",label:"Upload Date",type:"date"},{key:"duration",label:"Duration",type:"text",placeholder:"PT5M30S"},{key:"contentUrl",label:"Video URL",type:"url"},{key:"embedUrl",label:"Embed URL",type:"url"}],Course:[{key:"name",label:"Course Name",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"provider",label:"Provider Name",type:"text"},{key:"courseCode",label:"Course Code",type:"text"}],SoftwareApplication:[{key:"name",label:"Software Name",type:"text",required:!0},{key:"operatingSystem",label:"Operating System",type:"text"},{key:"applicationCategory",label:"Application Category",type:"text"}],Book:[{key:"name",label:"Book Title",type:"text",required:!0},{key:"author",label:"Author Name",type:"text"},{key:"isbn",label:"ISBN",type:"text"},{key:"bookEdition",label:"Book Edition",type:"text"}],MusicAlbum:[{key:"name",label:"Album Name",type:"text",required:!0},{key:"byArtist",label:"Artist Name",type:"text"},{key:"numTracks",label:"Number of Tracks",type:"number"}],Movie:[{key:"name",label:"Movie Title",type:"text",required:!0},{key:"director",label:"Director Name",type:"text"},{key:"dateCreated",label:"Date Created",type:"date"}],Restaurant:[{key:"name",label:"Restaurant Name",type:"text",required:!0},{key:"servesCuisine",label:"Serves Cuisine",type:"text"},{key:"priceRange",label:"Price Range",type:"text"}],Service:[{key:"name",label:"Service Name",type:"text",required:!0},{key:"serviceType",label:"Service Type",type:"text"},{key:"provider",label:"Provider Name",type:"text"},{key:"areaServed",label:"Area Served",type:"text"}],JobPosting:[{key:"title",label:"Job Title",type:"text",required:!0},{key:"description",label:"Description",type:"textarea"},{key:"hiringOrganization",label:"Hiring Organization",type:"text"},{key:"employmentType",label:"Employment Type",type:"text"},{key:"datePosted",label:"Date Posted",type:"date"},{key:"validThrough",label:"Valid Through",type:"date"},{key:"jobLocation",label:"Job Location",type:"text"}]},Ue=({value:e,onChange:a})=>{const l=(t,l,n)=>{const s=[...e];s[t]={...s[t],[l]:n},a(s)};return(0,t.createElement)("div",{className:"list-field"},e.map((n,s)=>(0,t.createElement)("div",{key:s,className:"list-item faq-item"},(0,t.createElement)("input",{type:"text",value:n.question,onChange:e=>l(s,"question",e.target.value),placeholder:"Question"}),(0,t.createElement)("textarea",{value:n.answer,onChange:e=>l(s,"answer",e.target.value),placeholder:"Answer",rows:2}),(0,t.createElement)("button",{type:"button",className:"remove-item",onClick:()=>{return t=s,void a(e.filter((e,a)=>a!==t));var t}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))),(0,t.createElement)("button",{type:"button",className:"add-item",onClick:()=>{a([...e,{question:"",answer:""}])}},"+ Add FAQ"))},Ve=({value:e,onChange:a})=>{const l=(t,l,n)=>{const s=[...e];s[t]={...s[t],[l]:n},a(s)};return(0,t.createElement)("div",{className:"list-field"},e.map((n,s)=>(0,t.createElement)("div",{key:s,className:"list-item step-item"},(0,t.createElement)("span",{className:"step-number"},s+1),(0,t.createElement)("div",{className:"step-fields"},(0,t.createElement)("input",{type:"text",value:n.name,onChange:e=>l(s,"name",e.target.value),placeholder:"Step title"}),(0,t.createElement)("textarea",{value:n.text,onChange:e=>l(s,"text",e.target.value),placeholder:"Step description",rows:2})),(0,t.createElement)("button",{type:"button",className:"remove-item",onClick:()=>{return t=s,void a(e.filter((e,a)=>a!==t));var t}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))),(0,t.createElement)("button",{type:"button",className:"add-item",onClick:()=>{a([...e,{name:"",text:""}])}},"+ Add Step"))},Ge=({value:e,onChange:a})=>(0,t.createElement)("div",{className:"list-field"},e.map((l,n)=>(0,t.createElement)("div",{key:n,className:"list-item simple-item"},(0,t.createElement)("input",{type:"text",value:l,onChange:t=>((t,l)=>{const n=[...e];n[t]=l,a(n)})(n,t.target.value),placeholder:`Item ${n+1}`}),(0,t.createElement)("button",{type:"button",className:"remove-item",onClick:()=>{return t=n,void a(e.filter((e,a)=>a!==t));var t}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))),(0,t.createElement)("button",{type:"button",className:"add-item",onClick:()=>{a([...e,""])}},"+ Add Item")),He=({value:e,onChange:a})=>{const l=(t,l,n)=>{const s=[...e];s[t]={...s[t],[l]:n},a(s)};return(0,t.createElement)("div",{className:"list-field"},e.map((n,s)=>(0,t.createElement)("div",{key:s,className:"list-item breadcrumb-item"},(0,t.createElement)("span",{className:"breadcrumb-position"},s+1),(0,t.createElement)("input",{type:"text",value:n.name,onChange:e=>l(s,"name",e.target.value),placeholder:"Page name"}),(0,t.createElement)("input",{type:"url",value:n.url,onChange:e=>l(s,"url",e.target.value),placeholder:"URL"}),(0,t.createElement)("button",{type:"button",className:"remove-item",onClick:()=>{return t=s,void a(e.filter((e,a)=>a!==t));var t}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.createElement)("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))),(0,t.createElement)("button",{type:"button",className:"add-item",onClick:()=>{a([...e,{name:"",url:""}])}},"+ Add Breadcrumb"))},je=({onNavigate:e})=>{const[l,s]=(0,a.useState)(null),[r,c]=(0,a.useState)({}),[i,o]=(0,a.useState)(null),[m,d]=(0,a.useState)(null),[p,u]=(0,a.useState)(!1),[g,E]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(""),[N,_]=(0,a.useState)(!1),[k,f]=(0,a.useState)(!1),[w,x]=(0,a.useState)([]),[C,S]=(0,a.useState)(""),[P,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n()({path:"/wpseopilot/v2/tools/schema/templates"}).then(x).catch(e=>console.error("Failed to fetch templates:",e))},[]),(0,a.useEffect)(()=>{i&&L()},[i]);const T=(e,t)=>{c(a=>({...a,[e]:t}))},L=async()=>{if(i){E(!0);try{const e=await n()({path:"/wpseopilot/v2/tools/schema/validate",method:"POST",data:{schema:i}});e.success&&d(e.data)}catch(e){console.error("Failed to validate:",e)}finally{E(!1)}}};return(0,t.createElement)("div",{className:"page schema-builder-page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"page-header__breadcrumb"},(0,t.createElement)("button",{type:"button",className:"breadcrumb-link",onClick:()=>e("tools")},"Tools"),(0,t.createElement)("span",{className:"breadcrumb-separator"},"/"),(0,t.createElement)("span",null,"Schema Builder")),(0,t.createElement)("h1",null,"Visual Schema Builder"),(0,t.createElement)("p",null,"Create structured data markup for rich search results."))),(0,t.createElement)("div",{className:"schema-builder-layout"},(0,t.createElement)("div",{className:"schema-builder-main"},l?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"schema-form-header"},(0,t.createElement)("button",{type:"button",className:"back-button",onClick:()=>{s(null),c({}),o(null)}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M19 12H5M12 19l-7-7 7-7"})),"Back"),(0,t.createElement)("h3",null,ze.find(e=>e.id===l)?.icon," ",ze.find(e=>e.id===l)?.name," Schema")),(0,t.createElement)("div",{className:"schema-form"},$e[l]?.map(e=>(0,t.createElement)("div",{key:e.key,className:"form-field"},(0,t.createElement)("label",null,e.label,e.required&&(0,t.createElement)("span",{className:"required"},"*")),(e=>{const a=r[e.key]||"";switch(e.type){case"textarea":return(0,t.createElement)("textarea",{value:a,onChange:t=>T(e.key,t.target.value),placeholder:e.placeholder||"",rows:3});case"select":return(0,t.createElement)("select",{value:a,onChange:t=>T(e.key,t.target.value)},(0,t.createElement)("option",{value:""},"Select..."),e.options.map(e=>(0,t.createElement)("option",{key:e,value:e},e)));case"checkbox":return(0,t.createElement)("label",{className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",checked:!!a,onChange:t=>T(e.key,t.target.checked)}),"Enable");case"faq-list":return(0,t.createElement)(Ue,{value:a||[],onChange:t=>T(e.key,t)});case"steps-list":return(0,t.createElement)(Ve,{value:a||[],onChange:t=>T(e.key,t)});case"list":return(0,t.createElement)(Ge,{value:a||[],onChange:t=>T(e.key,t)});case"breadcrumb-list":return(0,t.createElement)(He,{value:a||[],onChange:t=>T(e.key,t)});default:return(0,t.createElement)("input",{type:e.type,value:a,onChange:t=>T(e.key,t.target.value),placeholder:e.placeholder||""})}})(e))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button button--primary",onClick:async()=>{if(l){u(!0);try{const e=await n()({path:"/wpseopilot/v2/tools/schema/generate",method:"POST",data:{type:l,data:r}});e.success&&o(e.data.schema)}catch(e){console.error("Failed to generate:",e)}finally{u(!1)}}},disabled:p},p?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Generating..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"}),(0,t.createElement)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"})),"Generate Schema")),i&&(0,t.createElement)("button",{type:"button",className:"button",onClick:()=>{const e=prompt("Enter a name for this template:");if(e){const t={name:e,type:l,data:r};n()({path:"/wpseopilot/v2/tools/schema/templates",method:"POST",data:t}).then(()=>{x([...w,t]),alert("Template saved!")}).catch(e=>console.error("Failed to save template:",e))}}},"Save as Template")))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"schema-detect"},(0,t.createElement)("h3",null,"Auto-Detect from URL"),(0,t.createElement)("div",{className:"detect-input"},(0,t.createElement)("input",{type:"url",value:b,onChange:e=>y(e.target.value),placeholder:"Enter a page URL to auto-detect schema type..."}),(0,t.createElement)("button",{type:"button",className:"button button--secondary",onClick:async()=>{if(b){_(!0);try{const e=await n()({path:"/wpseopilot/v2/tools/schema/detect",method:"POST",data:{url:b}});e.success&&e.data.suggested_type&&(s(e.data.suggested_type),e.data.prefilled_data&&c(e.data.prefilled_data))}catch(e){console.error("Failed to detect:",e)}finally{_(!1)}}},disabled:N||!b},N?(0,t.createElement)("span",{className:"spinner-small"}):(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.createElement)("path",{d:"M21 21l-4.35-4.35"})),"Detect"))),(0,t.createElement)("div",{className:"schema-import"},(0,t.createElement)("h3",null,"Import from URL"),(0,t.createElement)("div",{className:"import-input"},(0,t.createElement)("input",{type:"url",value:C,onChange:e=>S(e.target.value),placeholder:"Enter a URL to import schema from..."}),(0,t.createElement)("button",{type:"button",className:"button button--secondary",onClick:async()=>{if(C){A(!0);try{const e=await n()({path:"/wpseopilot/v2/tools/schema/import",method:"POST",data:{url:C}});e.success&&(s(e.data.type),c(e.data.data),alert("Schema imported successfully!"))}catch(e){console.error("Failed to import schema:",e),alert("Failed to import schema. Check the URL and try again.")}finally{A(!1)}}},disabled:P||!C},P?(0,t.createElement)("span",{className:"spinner-small"}):(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})),"Import"))),(0,t.createElement)("div",{className:"schema-types"},(0,t.createElement)("h3",null,"Or Choose Schema Type"),(0,t.createElement)("div",{className:"schema-types-grid"},ze.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:"schema-type-card",onClick:()=>(e=>{s(e),c({}),o(null),d(null)})(e.id)},(0,t.createElement)("span",{className:"schema-type-icon"},e.icon),(0,t.createElement)("span",{className:"schema-type-name"},e.name),(0,t.createElement)("span",{className:"schema-type-desc"},e.description))))))),i&&(0,t.createElement)("div",{className:"schema-builder-preview"},(0,t.createElement)("div",{className:"preview-header"},(0,t.createElement)("h3",null,"Generated Schema"),(0,t.createElement)("div",{className:"preview-actions"},(0,t.createElement)("button",{type:"button",className:"button button--small",onClick:L,disabled:g},g?"Validating...":"Validate"),(0,t.createElement)("button",{type:"button",className:"button button--small button--primary",onClick:()=>{const e=`<script type="application/ld+json">\n${JSON.stringify(i,null,2)}\n<\/script>`;navigator.clipboard.writeText(e),f(!0),setTimeout(()=>f(!1),2e3)}},k?"Copied!":"Copy"))),m&&(0,t.createElement)("div",{className:"validation-result "+(m.valid?"valid":"invalid")},m.valid?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),(0,t.createElement)("polyline",{points:"22 4 12 14.01 9 11.01"})),"Valid schema markup"):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,t.createElement)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})),m.errors?.length||0," issues found")),m?.errors?.length>0&&(0,t.createElement)("ul",{className:"validation-errors"},m.errors.map((e,a)=>(0,t.createElement)("li",{key:a},e))),(0,t.createElement)("pre",{className:"schema-code"},(0,t.createElement)("code",null,JSON.stringify(i,null,2))),(0,t.createElement)("div",{className:"preview-footer"},(0,t.createElement)("a",{href:`https://search.google.com/test/rich-results?url=${encodeURIComponent("data:application/ld+json,"+JSON.stringify(i))}`,target:"_blank",rel:"noopener noreferrer",className:"button button--secondary"},"Test in Google",(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14"},(0,t.createElement)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,t.createElement)("polyline",{points:"15 3 21 3 21 9"}),(0,t.createElement)("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))),(0,t.createElement)("button",{type:"button",className:"button button--primary",onClick:async()=>{if(i){v(!0);try{(await n()({path:"/wpseopilot/v2/tools/schema/save",method:"POST",data:{schema:i,post_id:new URLSearchParams(window.location.search).get("post")}})).success&&alert("Schema saved successfully!")}catch(e){console.error("Failed to save schema:",e)}finally{v(!1)}}},disabled:h},h?"Saving...":"Save Schema"))),w.length>0&&(0,t.createElement)("div",{className:"schema-templates"},(0,t.createElement)("h3",null,"Saved Templates"),(0,t.createElement)("div",{className:"templates-grid"},w.map((e,a)=>(0,t.createElement)("button",{key:a,type:"button",className:"template-card",onClick:()=>(e=>{s(e.type),c(e.data)})(e)},(0,t.createElement)("span",{className:"template-name"},e.name),(0,t.createElement)("span",{className:"template-type"},e.type)))))))},qe=[{value:"overview",label:"Overview"},{value:"broken",label:"Broken Links"},{value:"orphans",label:"Orphan Pages"}],Ye=()=>{const[e,l]=(0,a.useState)("overview"),[s,r]=(0,a.useState)(!0),[c,i]=(0,a.useState)(null),[o,m]=(0,a.useState)({items:[],total:0,page:1,total_pages:1}),[d,p]=(0,a.useState)({items:[],total:0,page:1,total_pages:1}),[u,g]=(0,a.useState)(!1),[E,h]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[y,N]=(0,a.useState)(""),_=(0,a.useCallback)(async()=>{try{const e=await n()({path:"/wpseopilot/v2/link-health/summary"});e.success&&i(e.data)}catch(e){console.error("Failed to fetch summary:",e)}},[]),k=(0,a.useCallback)(async(e=1)=>{r(!0);try{const t=new URLSearchParams({page:e,per_page:50,type:y}),a=await n()({path:`/wpseopilot/v2/link-health/broken?${t}`});a.success&&m(a.data)}catch(e){console.error("Failed to fetch broken links:",e)}finally{r(!1)}},[y]),f=(0,a.useCallback)(async(e=1)=>{r(!0);try{const t=new URLSearchParams({page:e,per_page:50}),a=await n()({path:`/wpseopilot/v2/link-health/orphans?${t}`});a.success&&p(a.data)}catch(e){console.error("Failed to fetch orphan pages:",e)}finally{r(!1)}},[]),w=(0,a.useCallback)(async()=>{try{const e=await n()({path:"/wpseopilot/v2/link-health/scan/status"});e.success&&e.data?(h(e.data),"running"===e.data.status?g(!0):g(!1)):(h(null),g(!1))}catch(e){console.error("Failed to check scan status:",e)}},[]);(0,a.useEffect)(()=>{_(),w()},[_,w]),(0,a.useEffect)(()=>{"broken"===e?k(1):"orphans"===e&&f(1)},[e,k,f]),(0,a.useEffect)(()=>{if(!u)return;const e=setInterval(()=>{w(),_()},3e3);return()=>clearInterval(e)},[u,w,_]);const x=e=>{if(!e)return"-";const t=new Date(e);return t.toLocaleDateString()+", "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Link Health"),(0,t.createElement)("p",null,"Monitor and fix broken links across your site.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{g(!0);try{await n()({path:"/wpseopilot/v2/link-health/scan",method:"POST",data:{type:"full"}}),w()}catch(e){console.error("Failed to start scan:",e),g(!1)}},disabled:u},u?"Scanning...":"Run Full Scan"))),u&&E&&(0,t.createElement)("div",{className:"scan-progress"},(0,t.createElement)("div",{className:"scan-progress__info"},(0,t.createElement)("span",null,"Scanning posts... ",E.scanned_posts," / ",E.total_posts)),(0,t.createElement)("div",{className:"scan-progress__bar"},(0,t.createElement)("div",{className:"scan-progress__fill",style:{width:E.scanned_posts/E.total_posts*100+"%"}}))),(0,t.createElement)("div",{className:"tabs"},qe.map(a=>(0,t.createElement)("button",{key:a.value,type:"button",className:"tab "+(e===a.value?"active":""),onClick:()=>l(a.value)},a.label,"broken"===a.value&&c?.broken_links>0&&(0,t.createElement)("span",{className:"tab-badge danger"},c.broken_links),"orphans"===a.value&&c?.orphan_pages>0&&(0,t.createElement)("span",{className:"tab-badge warning"},c.orphan_pages)))),"overview"===e&&(0,t.createElement)("section",{className:"panel"},c?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"health-score-card"},(0,t.createElement)("div",{className:"health-score "+(C=c.health_score,C>=90?"success":C>=70?"warning":"danger")},(0,t.createElement)("span",{className:"health-score__value"},c.health_score,"%"),(0,t.createElement)("span",{className:"health-score__label"},"Link Health Score")),(0,t.createElement)("div",{className:"health-score__info"},(0,t.createElement)("p",null,c.health_score>=90?"Excellent! Your links are in great shape.":c.health_score>=70?"Good, but there are some issues to address.":"Needs attention. Multiple broken links detected."),c.last_scan&&(0,t.createElement)("span",{className:"muted"},"Last scan: ",x(c.last_scan)))),(0,t.createElement)("div",{className:"stats-grid"},(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("span",{className:"stat-card__value"},c.total_links.toLocaleString()),(0,t.createElement)("span",{className:"stat-card__label"},"Total Links")),(0,t.createElement)("div",{className:"stat-card danger"},(0,t.createElement)("span",{className:"stat-card__value"},c.broken_links.toLocaleString()),(0,t.createElement)("span",{className:"stat-card__label"},"Broken Links")),(0,t.createElement)("div",{className:"stat-card warning"},(0,t.createElement)("span",{className:"stat-card__value"},c.redirects.toLocaleString()),(0,t.createElement)("span",{className:"stat-card__label"},"Redirects")),(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("span",{className:"stat-card__value"},c.internal.toLocaleString()),(0,t.createElement)("span",{className:"stat-card__label"},"Internal Links")),(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("span",{className:"stat-card__value"},c.external.toLocaleString()),(0,t.createElement)("span",{className:"stat-card__label"},"External Links")),(0,t.createElement)("div",{className:"stat-card warning"},(0,t.createElement)("span",{className:"stat-card__value"},c.orphan_pages.toLocaleString()),(0,t.createElement)("span",{className:"stat-card__label"},"Orphan Pages"))),(c.broken_links>0||c.orphan_pages>0)&&(0,t.createElement)("div",{className:"quick-actions"},(0,t.createElement)("h3",null,"Recommended Actions"),c.broken_links>0&&(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>l("broken")},(0,t.createElement)("span",{className:"action-card__icon danger"},"!"),(0,t.createElement)("div",{className:"action-card__content"},(0,t.createElement)("strong",null,"Fix ",c.broken_links," broken link",1!==c.broken_links?"s":""),(0,t.createElement)("span",null,"Update or remove links that return errors"))),c.orphan_pages>0&&(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>l("orphans")},(0,t.createElement)("span",{className:"action-card__icon warning"},"?"),(0,t.createElement)("div",{className:"action-card__content"},(0,t.createElement)("strong",null,"Link to ",c.orphan_pages," orphan page",1!==c.orphan_pages?"s":""),(0,t.createElement)("span",null,"Pages with no internal links pointing to them"))))):(0,t.createElement)("div",{className:"loading-state"},"Loading summary...")),"broken"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"panel-header"},(0,t.createElement)("h3",null,"Broken Links"),(0,t.createElement)("div",{className:"filter-row"},(0,t.createElement)("label",{className:"filter-field"},(0,t.createElement)("span",null,"Type"),(0,t.createElement)("select",{value:y,onChange:e=>N(e.target.value)},(0,t.createElement)("option",{value:""},"All Links"),(0,t.createElement)("option",{value:"internal"},"Internal Only"),(0,t.createElement)("option",{value:"external"},"External Only"))))),s?(0,t.createElement)("div",{className:"loading-state"},"Loading broken links..."):0===o.items.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon success"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"48",height:"48"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M9 12l2 2 4-4"}))),(0,t.createElement)("h3",null,"No broken links found"),(0,t.createElement)("p",null,"All your links are working correctly.")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Source Page"),(0,t.createElement)("th",null,"Broken URL"),(0,t.createElement)("th",null,"Link Text"),(0,t.createElement)("th",null,"Status"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,o.items.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer"},e.source_title||"Untitled")),(0,t.createElement)("td",{className:"url-cell"},(0,t.createElement)("code",null,e.target_url),(0,t.createElement)("span",{className:"badge "+("external"===e.link_type?"info":"muted")},e.link_type)),(0,t.createElement)("td",null,e.link_text||"-"),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"badge danger"},e.http_code||"Error"),e.error_message&&(0,t.createElement)("span",{className:"muted small",title:e.error_message},e.error_message.substring(0,30),"...")),(0,t.createElement)("td",{className:"action-cell"},(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("a",{href:`/wp-admin/post.php?post=${e.source_post_id}&action=edit`,className:"button small",target:"_blank",rel:"noopener noreferrer"},"Edit"),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(async e=>{b(e);try{(await n()({path:`/wpseopilot/v2/link-health/link/${e}/recheck`,method:"POST"})).success&&(k(o.page),_())}catch(e){console.error("Failed to recheck link:",e)}finally{b(null)}})(e.id),disabled:v===e.id},v===e.id?"...":"Recheck"),(0,t.createElement)("button",{type:"button",className:"button ghost small danger",onClick:()=>(async e=>{if(window.confirm("Remove this link from the report? This will not remove the actual link from your content."))try{await n()({path:`/wpseopilot/v2/link-health/link/${e}`,method:"DELETE"}),k(o.page),_()}catch(e){console.error("Failed to delete link:",e)}})(e.id)},"Dismiss"))))))),o.total_pages>1&&(0,t.createElement)("div",{className:"pagination"},(0,t.createElement)("span",{className:"pagination-info"},o.total.toLocaleString()," broken link",1!==o.total?"s":""),(0,t.createElement)("div",{className:"pagination-links"},(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:o.page<=1,onClick:()=>k(o.page-1)},"‹ Previous"),(0,t.createElement)("span",{className:"pagination-current"},o.page," of ",o.total_pages),(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:o.page>=o.total_pages,onClick:()=>k(o.page+1)},"Next ›"))))),"orphans"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"panel-header"},(0,t.createElement)("h3",null,"Orphan Pages"),(0,t.createElement)("p",{className:"panel-desc"},"Pages with no internal links pointing to them. Consider adding links from other content.")),s?(0,t.createElement)("div",{className:"loading-state"},"Loading orphan pages..."):0===d.items.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon success"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"48",height:"48"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M9 12l2 2 4-4"}))),(0,t.createElement)("h3",null,"No orphan pages found"),(0,t.createElement)("p",null,"All your pages have at least one internal link pointing to them.")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Page Title"),(0,t.createElement)("th",null,"Type"),(0,t.createElement)("th",null,"Published"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,d.items.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title||"Untitled")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"badge muted"},e.post_type)),(0,t.createElement)("td",null,x(e.post_date)),(0,t.createElement)("td",{className:"action-cell"},(0,t.createElement)("a",{href:e.edit_url,className:"button small",target:"_blank",rel:"noopener noreferrer"},"Edit")))))),d.total_pages>1&&(0,t.createElement)("div",{className:"pagination"},(0,t.createElement)("span",{className:"pagination-info"},d.total.toLocaleString()," orphan page",1!==d.total?"s":""),(0,t.createElement)("div",{className:"pagination-links"},(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:d.page<=1,onClick:()=>f(d.page-1)},"‹ Previous"),(0,t.createElement)("span",{className:"pagination-current"},d.page," of ",d.total_pages),(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:d.page>=d.total_pages,onClick:()=>f(d.page+1)},"Next ›"))))));var C},Je={id:"",name:"",type:"LocalBusiness",street:"",city:"",state:"",zip:"",country:"",phone:"",email:"",latitude:"",longitude:"",isPrimary:!1,enabled:!0},Ke=[{value:"LocalBusiness",label:"Local Business (Generic)"},{value:"Restaurant",label:"Restaurant"},{value:"Dentist",label:"Dentist"},{value:"Physician",label:"Physician"},{value:"MedicalClinic",label:"Medical Clinic"},{value:"Attorney",label:"Attorney"},{value:"RealEstateAgent",label:"Real Estate Agent"},{value:"Store",label:"Store"},{value:"AutoDealer",label:"Auto Dealer"},{value:"HairSalon",label:"Hair Salon"},{value:"BeautySalon",label:"Beauty Salon"},{value:"Plumber",label:"Plumber"},{value:"Electrician",label:"Electrician"},{value:"AccountingService",label:"Accounting Service"},{value:"FinancialService",label:"Financial Service"},{value:"InsuranceAgency",label:"Insurance Agency"}],Xe=()=>{const[e,l]=(0,a.useState)(!0),[s,r]=(0,a.useState)(!1),[c,i]=(0,a.useState)([]),[o,m]=(0,a.useState)(!1),[d,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(!1),[E,h]=(0,a.useState)(null),[v,b]=(0,a.useState)({name:"",type:"LocalBusiness",description:"",phone:"",email:"",street:"",city:"",state:"",zip:"",country:"",latitude:"",longitude:"",priceRange:""}),y=(0,a.useCallback)(async()=>{try{l(!0);const e=await n()({path:"/wpseopilot/v2/settings"});if(e.success){const t=e.data;b({name:t.local_business_name||"",type:t.local_business_type||"LocalBusiness",description:t.local_description||"",phone:t.local_phone||"",email:t.local_email||"",street:t.local_street||"",city:t.local_city||"",state:t.local_state||"",zip:t.local_zip||"",country:t.local_country||"",latitude:t.local_latitude||"",longitude:t.local_longitude||"",priceRange:t.local_price_range||""}),m("1"===t.local_enable_locations||!0===t.local_enable_locations),i(Array.isArray(t.local_locations)?t.local_locations:[])}}catch(e){console.error("Failed to load settings:",e),h({type:"error",message:"Failed to load settings."})}finally{l(!1)}},[]);(0,a.useEffect)(()=>{y()},[y]),(0,a.useEffect)(()=>{if(E){const e=setTimeout(()=>h(null),5e3);return()=>clearTimeout(e)}},[E]);const N=async e=>{r(!0);try{await n()({path:"/wpseopilot/v2/settings",method:"POST",data:e}),h({type:"success",message:"Settings saved successfully."})}catch(e){console.error("Failed to save settings:",e),h({type:"error",message:"Failed to save settings."})}finally{r(!1)}},_=(e,t)=>{b(a=>({...a,[e]:t}))};return e?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"loading-state"},(0,t.createElement)("span",{className:"spinner is-active"}),(0,t.createElement)("p",null,"Loading Local SEO settings..."))):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Local SEO"),(0,t.createElement)("p",null,"Configure your business information for local search results and schema markup."))),E&&(0,t.createElement)("div",{className:`notice notice-${E.type}`},(0,t.createElement)("p",null,E.message),(0,t.createElement)("button",{type:"button",className:"notice-dismiss",onClick:()=>h(null)},(0,t.createElement)("span",{className:"screen-reader-text"},"Dismiss"))),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h2",null,"Business Information"),(0,t.createElement)("p",null,"Primary business details used for LocalBusiness schema on your homepage.")),(0,t.createElement)("div",{className:"card-body"},(0,t.createElement)("div",{className:"form-grid"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Business Name"),(0,t.createElement)("input",{type:"text",value:v.name,onChange:e=>_("name",e.target.value),placeholder:"Your Business Name"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Business Type"),(0,t.createElement)("select",{value:v.type,onChange:e=>_("type",e.target.value)},Ke.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("div",{className:"form-field full-width"},(0,t.createElement)("label",null,"Description"),(0,t.createElement)("textarea",{value:v.description,onChange:e=>_("description",e.target.value),placeholder:"Brief description of your business",rows:3})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Phone"),(0,t.createElement)("input",{type:"tel",value:v.phone,onChange:e=>_("phone",e.target.value),placeholder:"+1 (555) 123-4567"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Email"),(0,t.createElement)("input",{type:"email",value:v.email,onChange:e=>_("email",e.target.value),placeholder:"contact@yourbusiness.com"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Street Address"),(0,t.createElement)("input",{type:"text",value:v.street,onChange:e=>_("street",e.target.value),placeholder:"123 Main Street"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"City"),(0,t.createElement)("input",{type:"text",value:v.city,onChange:e=>_("city",e.target.value),placeholder:"New York"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"State/Province"),(0,t.createElement)("input",{type:"text",value:v.state,onChange:e=>_("state",e.target.value),placeholder:"NY"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"ZIP/Postal Code"),(0,t.createElement)("input",{type:"text",value:v.zip,onChange:e=>_("zip",e.target.value),placeholder:"10001"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Country"),(0,t.createElement)("input",{type:"text",value:v.country,onChange:e=>_("country",e.target.value),placeholder:"US"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Price Range"),(0,t.createElement)("select",{value:v.priceRange,onChange:e=>_("priceRange",e.target.value)},(0,t.createElement)("option",{value:""},"Select..."),(0,t.createElement)("option",{value:"$"},"$ (Budget)"),(0,t.createElement)("option",{value:"$$"},"$$ (Moderate)"),(0,t.createElement)("option",{value:"$$$"},"$$$ (Expensive)"),(0,t.createElement)("option",{value:"$$$$"},"$$$$ (Luxury)"))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Latitude"),(0,t.createElement)("input",{type:"text",value:v.latitude,onChange:e=>_("latitude",e.target.value),placeholder:"40.7128"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Longitude"),(0,t.createElement)("input",{type:"text",value:v.longitude,onChange:e=>_("longitude",e.target.value),placeholder:"-74.0060"}))),(0,t.createElement)("div",{className:"card-footer"},(0,t.createElement)("button",{className:"button primary",onClick:async()=>{await N({local_business_name:v.name,local_business_type:v.type,local_description:v.description,local_phone:v.phone,local_email:v.email,local_street:v.street,local_city:v.city,local_state:v.state,local_zip:v.zip,local_country:v.country,local_latitude:v.latitude,local_longitude:v.longitude,local_price_range:v.priceRange})},disabled:s},s?"Saving...":"Save Business Info")))),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("div",null,(0,t.createElement)("h2",null,"Multiple Locations"),(0,t.createElement)("p",null,"Manage multiple business locations with individual schema output.")),(0,t.createElement)("label",{className:"toggle-switch"},(0,t.createElement)("input",{type:"checkbox",checked:o,onChange:async()=>{const e=!o;m(e),await N({local_enable_locations:e?"1":"0"})}}),(0,t.createElement)("span",{className:"toggle-slider"}))),o&&(0,t.createElement)("div",{className:"card-body"},(0,t.createElement)("div",{className:"locations-header"},(0,t.createElement)("button",{className:"button primary",onClick:()=>{p({...Je,id:`loc_${Date.now()}`}),g(!0)}},"+ Add Location")),0===c.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("p",null,'No locations added yet. Click "Add Location" to create your first location.')):(0,t.createElement)("div",{className:"locations-list"},c.map(e=>(0,t.createElement)("div",{key:e.id,className:`location-card ${e.enabled?"":"disabled"} ${e.isPrimary?"primary":""}`},(0,t.createElement)("div",{className:"location-info"},(0,t.createElement)("div",{className:"location-header"},(0,t.createElement)("h3",null,e.name),e.isPrimary&&(0,t.createElement)("span",{className:"badge primary"},"Primary"),!e.enabled&&(0,t.createElement)("span",{className:"badge"},"Disabled")),(0,t.createElement)("p",{className:"location-address"},[e.street,e.city,e.state,e.zip].filter(Boolean).join(", ")),e.phone&&(0,t.createElement)("p",{className:"location-phone"},e.phone)),(0,t.createElement)("div",{className:"location-actions"},!e.isPrimary&&(0,t.createElement)("button",{className:"button ghost small",onClick:()=>(async e=>{const t=c.map(t=>({...t,isPrimary:t.id===e}));i(t),await N({local_locations:t})})(e.id),title:"Set as primary"},"Set Primary"),(0,t.createElement)("button",{className:"button ghost small",onClick:()=>(async e=>{const t=c.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);i(t),await N({local_locations:t})})(e.id)},e.enabled?"Disable":"Enable"),(0,t.createElement)("button",{className:"button ghost small",onClick:()=>(e=>{p({...e}),g(!0)})(e)},"Edit"),(0,t.createElement)("button",{className:"button ghost small danger",onClick:()=>(async e=>{if(!window.confirm("Are you sure you want to delete this location?"))return;const t=c.filter(t=>t.id!==e);i(t),await N({local_locations:t})})(e.id)},"Delete"))))))),u&&d&&(0,t.createElement)("div",{className:"modal-overlay",onClick:()=>g(!1)},(0,t.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal-header"},(0,t.createElement)("h2",null,d.id&&c.find(e=>e.id===d.id)?"Edit Location":"Add Location"),(0,t.createElement)("button",{className:"modal-close",onClick:()=>g(!1)},"×")),(0,t.createElement)("div",{className:"modal-body"},(0,t.createElement)("div",{className:"form-grid"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Location Name *"),(0,t.createElement)("input",{type:"text",value:d.name,onChange:e=>p(t=>({...t,name:e.target.value})),placeholder:"Downtown Office"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Business Type"),(0,t.createElement)("select",{value:d.type,onChange:e=>p(t=>({...t,type:e.target.value}))},Ke.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Street Address *"),(0,t.createElement)("input",{type:"text",value:d.street,onChange:e=>p(t=>({...t,street:e.target.value})),placeholder:"456 Oak Avenue"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"City *"),(0,t.createElement)("input",{type:"text",value:d.city,onChange:e=>p(t=>({...t,city:e.target.value})),placeholder:"New York"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"State/Province"),(0,t.createElement)("input",{type:"text",value:d.state,onChange:e=>p(t=>({...t,state:e.target.value})),placeholder:"NY"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"ZIP/Postal Code"),(0,t.createElement)("input",{type:"text",value:d.zip,onChange:e=>p(t=>({...t,zip:e.target.value})),placeholder:"10001"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Country"),(0,t.createElement)("input",{type:"text",value:d.country,onChange:e=>p(t=>({...t,country:e.target.value})),placeholder:"US"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Phone"),(0,t.createElement)("input",{type:"tel",value:d.phone,onChange:e=>p(t=>({...t,phone:e.target.value})),placeholder:"+1 (555) 123-4567"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Email"),(0,t.createElement)("input",{type:"email",value:d.email,onChange:e=>p(t=>({...t,email:e.target.value})),placeholder:"branch@business.com"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Latitude"),(0,t.createElement)("input",{type:"text",value:d.latitude,onChange:e=>p(t=>({...t,latitude:e.target.value})),placeholder:"40.7128"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Longitude"),(0,t.createElement)("input",{type:"text",value:d.longitude,onChange:e=>p(t=>({...t,longitude:e.target.value})),placeholder:"-74.0060"})),(0,t.createElement)("div",{className:"form-field full-width"},(0,t.createElement)("label",{className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",checked:d.isPrimary,onChange:e=>p(t=>({...t,isPrimary:e.target.checked}))}),"Set as primary location")))),(0,t.createElement)("div",{className:"modal-footer"},(0,t.createElement)("button",{className:"button ghost",onClick:()=>g(!1)},"Cancel"),(0,t.createElement)("button",{className:"button primary",onClick:async()=>{if(!d.name||!d.street||!d.city)return void h({type:"error",message:"Name, street, and city are required."});let e;const t=c.findIndex(e=>e.id===d.id);t>=0?(e=[...c],e[t]=d):e=[...c,d],d.isPrimary&&(e=e.map(e=>({...e,isPrimary:e.id===d.id}))),i(e),await N({local_locations:e}),g(!1),p(null)},disabled:s},s?"Saving...":"Save Location")))))},Qe={dashboard:"wpseopilot-dashboard","search-appearance":"wpseopilot-search-appearance",sitemap:"wpseopilot-sitemap",tools:"wpseopilot-tools",redirects:"wpseopilot-redirects","404-log":"wpseopilot-404-log","internal-linking":"wpseopilot-internal-linking",audit:"wpseopilot-audit","ai-assistant":"wpseopilot-ai-assistant",assistants:"wpseopilot-assistants",settings:"wpseopilot-settings",more:"wpseopilot-more","bulk-editor":"wpseopilot-bulk-editor","content-gaps":"wpseopilot-content-gaps","schema-builder":"wpseopilot-schema-builder","link-health":"wpseopilot-link-health","local-seo":"wpseopilot-local-seo"},Ze=Object.entries(Qe).reduce((e,[t,a])=>(e[a]=t,e),{}),et=window?.wpseopilotV2Settings?.initialView||"dashboard";(0,a.render)((0,t.createElement)(({initialView:e="dashboard"})=>{const[a,l]=(0,t.useState)(e),[s,c]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const e=await n()({path:"/wpseopilot/v2/setup/status"});e.success&&e.data.show_wizard&&c(!0)}catch(e){}o(!0)})()},[]);const d=(0,t.useCallback)(e=>{if("undefined"==typeof document)return;const t=document.getElementById("toplevel_page_wpseopilot");if(!t)return;t.querySelectorAll('.wp-submenu a[href*="page=wpseopilot"]').forEach(e=>{e.removeAttribute("aria-current");const t=e.closest("li");t&&t.classList.remove("current")});const a=Qe[e]||Qe.dashboard,l=t.querySelector(`.wp-submenu a[href*="page=${a}"]`);if(l){l.setAttribute("aria-current","page");const e=l.closest("li");e&&e.classList.add("current")}t.classList.add("current","wp-has-current-submenu")},[]),p=(0,t.useCallback)(e=>{if(e===a)return;if(l(e),"undefined"==typeof window)return;const t=Qe[e]||Qe.dashboard,n=new URL(window.location.href);n.searchParams.set("page",t),n.searchParams.delete("tab"),window.history.pushState({},"",n.toString()),d(e)},[a,d]);return(0,t.useEffect)(()=>{const e=()=>{const e=new URL(window.location.href).searchParams.get("page");e&&Ze[e]&&l(Ze[e])};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),(0,t.useEffect)(()=>{d(a)},[a,d]),(0,t.useEffect)(()=>{const e=e=>{const t=e.target.closest("a");if(!t||"undefined"==typeof window)return;const a=document.getElementById("toplevel_page_wpseopilot");if(!a||!a.contains(t))return;const l=t.getAttribute("href");if(!l||!l.includes("page=wpseopilot"))return;const n=new URL(l,window.location.origin).searchParams.get("page");n&&Ze[n]&&(e.preventDefault(),p(Ze[n]))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[p]),i?s?(0,t.createElement)("div",{className:"wp-seo-pilot-admin"},(0,t.createElement)(Re,{onComplete:()=>{c(!1),l("dashboard")},onSkip:()=>{c(!1)}})):(0,t.createElement)("div",{className:"wp-seo-pilot-admin"},(0,t.createElement)("div",{className:"wp-seo-pilot-shell"},(0,t.createElement)(r,{currentView:a,onNavigate:p}),(0,t.createElement)("div",{className:"content-area"},(()=>{switch(a){case"search-appearance":return(0,t.createElement)(F,null);case"sitemap":return(0,t.createElement)(R,null);case"tools":return(0,t.createElement)($,{onNavigate:p});case"redirects":return(0,t.createElement)(G,null);case"404-log":return(0,t.createElement)(K,{onNavigate:p});case"internal-linking":return(0,t.createElement)(re,null);case"audit":return(0,t.createElement)(oe,null);case"ai-assistant":return(0,t.createElement)(me,null);case"assistants":return(0,t.createElement)(Ne,null);case"settings":return(0,t.createElement)(Ie,null);case"more":return(0,t.createElement)(Be,null);case"bulk-editor":return(0,t.createElement)(We,{onNavigate:p});case"content-gaps":return(0,t.createElement)(De,{onNavigate:p});case"schema-builder":return(0,t.createElement)(je,{onNavigate:p});case"link-health":return(0,t.createElement)(Ye,{onNavigate:p});case"local-seo":return(0,t.createElement)(Xe,null);default:return(0,t.createElement)(m,{onNavigate:p})}})()))):(0,t.createElement)("div",{className:"wp-seo-pilot-admin"},(0,t.createElement)("div",{className:"wp-seo-pilot-shell"},(0,t.createElement)("div",{className:"content-area"},(0,t.createElement)("div",{className:"loading-state"},"Loading..."))))},{initialView:et}),document.getElementById("wpseopilot-v2-root"))})();