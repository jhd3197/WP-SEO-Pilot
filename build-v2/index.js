(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.element,l=[{id:"dashboard",label:"Dashboard"},{id:"search-appearance",label:"Search Appearance"},{id:"sitemap",label:"Sitemap"},{id:"tools",label:"Tools"},{id:"settings",label:"Settings"},{id:"more",label:"More"}],n=({currentView:e,onNavigate:a})=>(0,t.createElement)("header",{className:"top-bar"},(0,t.createElement)("div",{className:"brand"},(0,t.createElement)("span",{className:"brand-icon","aria-hidden":"true"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false",preserveAspectRatio:"xMidYMid meet"},(0,t.createElement)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}))),(0,t.createElement)("span",{className:"brand-name"},"WP SEO Pilot")),(0,t.createElement)("nav",{className:"main-nav","aria-label":"Primary"},l.map(l=>(0,t.createElement)("button",{key:l.id,type:"button",className:"nav-tab "+(e===l.id?"is-active":""),"aria-current":e===l.id?"page":void 0,onClick:()=>a(l.id)},l.label))),(0,t.createElement)("div",{className:"nav-actions"},(0,t.createElement)("a",{className:"icon-button",href:"https://github.com/jhd3197/WP-SEO-Pilot",target:"_blank",rel:"noreferrer","aria-label":"Open GitHub repository"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M12 2C6.5 2 2 6.6 2 12.3c0 4.6 2.9 8.5 6.9 9.9.5.1.7-.2.7-.5v-1.9c-2.8.6-3.3-1.2-3.3-1.2-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.1.1 1.7 1.2 1.7 1.2 1 .1.7 1.7 2.6 1.2.1-.8.4-1.2.7-1.5-2.2-.2-4.5-1.2-4.5-5.2 0-1.1.4-2 1-2.7-.1-.2-.4-1.3.1-2.7 0 0 .8-.2 2.7 1a9.2 9.2 0 0 1 4.9 0c1.9-1.2 2.7-1 2.7-1 .5 1.4.2 2.5.1 2.7.6.7 1 1.6 1 2.7 0 4-2.3 5-4.5 5.2.4.3.8 1 .8 2.1v3c0 .3.2.6.7.5 4-1.4 6.9-5.3 6.9-9.9C22 6.6 17.5 2 12 2z"}))))),s=window.wp.apiFetch;var c=e.n(s);const r={excellent:{label:"Excellent",color:"var(--color-success)",class:"success"},good:{label:"Good",color:"var(--color-success)",class:"success"},fair:{label:"Fair",color:"var(--color-warning)",class:"warning"},poor:{label:"Needs Work",color:"var(--color-danger)",class:"danger"}},i={error:1,warning:2,info:3},o={redirects:"redirects",404:"404-log",audit:"audit",sitemap:"sitemap",content:"audit",seo:"audit"},m=({onNavigate:e})=>{const[l,n]=(0,a.useState)(!0),[s,m]=(0,a.useState)(null),[d,p]=(0,a.useState)(null),[u,E]=(0,a.useState)(!1),g=(0,a.useCallback)(async()=>{n(!0);try{const e=await c()({path:"/wpseopilot/v2/dashboard"});e.success&&m(e.data)}catch(e){console.error("Failed to fetch dashboard:",e)}finally{n(!1)}},[]);(0,a.useEffect)(()=>{g()},[g]);const v=t=>{e&&e(t)};if(l)return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Dashboard"),(0,t.createElement)("p",null,"SEO health, content insights, and optimization status at a glance."))),(0,t.createElement)("div",{className:"loading-state"},"Loading dashboard data..."));const h=s?.seo_score||{score:0,level:"poor",issues:0},b=s?.content_coverage||{total:0,optimized:0,pending:0,daily_stats:[]},N=s?.sitemap||{enabled:!1,total_urls:0,last_generated:"Never"},y=s?.redirects||{active:0,hits_today:0,suggestions:0},_=s?.errors_404||{total:0,last_30_days:0},f=s?.schema||{status:"partial",types:[]},k=[...s?.notifications||[]].sort((e,t)=>(i[e.type]||99)-(i[t.type]||99)),w=u?k:k.slice(0,3),x=k.length>3,C=r[h.level]||r.poor;return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Dashboard"),(0,t.createElement)("p",null,"SEO health, content insights, and optimization status at a glance.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>{v("audit")}},"Run SEO Audit")),w.length>0&&(0,t.createElement)("div",{className:"dashboard-notifications"},w.map(e=>(0,t.createElement)("div",{key:e.id,className:`notification-banner notification-banner--${e.type}`},(0,t.createElement)("div",{className:"notification-icon"},"error"===e.type&&(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})),"warning"===e.type&&(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 9v4m0 4h.01M4.93 19h14.14c1.54 0 2.5-1.67 1.73-3L13.73 4c-.77-1.33-2.69-1.33-3.46 0L3.2 16c-.77 1.33.19 3 1.73 3z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),"info"===e.type&&(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("path",{d:"M12 16v-4m0-4h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"notification-content"},(0,t.createElement)("strong",null,e.title),(0,t.createElement)("span",null,e.message)),(0,t.createElement)("div",{className:"notification-actions"},e.action&&(0,t.createElement)("button",{type:"button",className:"button small",onClick:()=>v(o[e.category]||"tools")},e.action.label),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(async e=>{p(e);try{await c()({path:`/wpseopilot/v2/dashboard/notifications/${e}/dismiss`,method:"POST"}),m(t=>({...t,notifications:t.notifications.filter(t=>t.id!==e)}))}catch(e){console.error("Failed to dismiss notification:",e)}finally{p(null)}})(e.id),disabled:d===e.id,"aria-label":"Dismiss notification"},d===e.id?(0,t.createElement)("span",{className:"loading-dots"},"..."):(0,t.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})))))),x&&(0,t.createElement)("button",{type:"button",className:"notifications-toggle",onClick:()=>E(!u)},u?"Show less":`View all ${k.length} notifications`)),(0,t.createElement)("div",{className:"dashboard-grid"},(0,t.createElement)("div",{className:"dashboard-card seo-score-card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"SEO Score"),(0,t.createElement)("span",{className:`pill ${C.class}`},C.label)),(0,t.createElement)("div",{className:"seo-score-content"},(0,t.createElement)("div",{className:"score-gauge"},(0,t.createElement)("svg",{viewBox:"0 0 120 120",className:"gauge-svg"},(0,t.createElement)("circle",{className:"gauge-bg",cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10"}),(0,t.createElement)("circle",{className:"gauge-fill",cx:"60",cy:"60",r:"50",fill:"none",strokeWidth:"10",strokeDasharray:h.score/100*314+" 314",strokeLinecap:"round",style:{stroke:C.color}})),(0,t.createElement)("div",{className:"gauge-center"},(0,t.createElement)("div",{className:"gauge-value"},h.score,"%"),(0,t.createElement)("div",{className:"gauge-label"},h.posts_scored||0," posts"))),(0,t.createElement)("div",{className:"score-breakdown"},(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot excellent"}),(0,t.createElement)("span",{className:"breakdown-label"},"Excellent (80+)"),(0,t.createElement)("span",{className:"breakdown-value"},h.distribution?.excellent||0)),(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot good"}),(0,t.createElement)("span",{className:"breakdown-label"},"Good (60-79)"),(0,t.createElement)("span",{className:"breakdown-value"},h.distribution?.good||0)),(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot fair"}),(0,t.createElement)("span",{className:"breakdown-label"},"Fair (40-59)"),(0,t.createElement)("span",{className:"breakdown-value"},h.distribution?.fair||0)),(0,t.createElement)("div",{className:"breakdown-item"},(0,t.createElement)("span",{className:"breakdown-dot poor"}),(0,t.createElement)("span",{className:"breakdown-label"},"Poor (<40)"),(0,t.createElement)("span",{className:"breakdown-value"},h.distribution?.poor||0)))),h.issues>0&&(0,t.createElement)("p",{className:"card-note"},h.issues," post",1!==h.issues?"s":""," could use optimization.")),(0,t.createElement)("div",{className:"dashboard-card content-coverage-card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Content Coverage"),(0,t.createElement)("span",{className:"pill"},b.coverage_pct||0,"% Optimized")),(0,t.createElement)("div",{className:"coverage-content"},(0,t.createElement)("div",{className:"coverage-chart"},(0,t.createElement)("div",{className:"spark-bars","aria-hidden":"true"},(b.daily_stats||[]).map((e,a)=>{const l=Math.max(...b.daily_stats.map(e=>e.optimized||0),1),n=Math.max(15,(e.optimized||0)/l*100);return(0,t.createElement)("div",{key:a,className:"spark-bar-wrapper",title:`${e.label}: ${e.optimized} optimized`},(0,t.createElement)("span",{style:{height:`${n}%`}}),(0,t.createElement)("span",{className:"spark-label"},e.label))}))),(0,t.createElement)("div",{className:"coverage-stats"},(0,t.createElement)("div",{className:"coverage-stat"},(0,t.createElement)("div",{className:"coverage-stat-value"},b.optimized||0),(0,t.createElement)("div",{className:"coverage-stat-label"},"Optimized")),(0,t.createElement)("div",{className:"coverage-stat pending"},(0,t.createElement)("div",{className:"coverage-stat-value"},b.pending||0),(0,t.createElement)("div",{className:"coverage-stat-label"},"Pending")))),(0,t.createElement)("p",{className:"card-note"},b.total||0," total pages · ",b.with_title||0," with titles · ",b.with_description||0," with descriptions"))),(0,t.createElement)("div",{className:"card-grid",style:{marginTop:"var(--space-lg)"}},(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Sitemap Status"),(0,t.createElement)("span",{className:"pill "+(N.enabled?"success":"warning")},N.status_label||(N.enabled?"Active":"Disabled"))),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+(N.enabled?"success":"warning"),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},N.enabled?`${N.total_urls} URLs indexed`:"Sitemap disabled"),(0,t.createElement)("div",{className:"status-subtitle"},N.enabled?`Last generated: ${N.last_generated}`:"Enable to help search engines"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("sitemap")},N.enabled?"View Sitemap":"Enable Sitemap")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Redirects"),(0,t.createElement)("span",{className:"pill "+(y.active>0?"success":"")},y.active," Active")),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+(y.suggestions>0?"warning":"success"),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},y.suggestions>0?`${y.suggestions} pending suggestion${1!==y.suggestions?"s":""}`:"All redirects working"),(0,t.createElement)("div",{className:"status-subtitle"},y.hits_today||0," hits today"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("redirects")},"Manage Redirects")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"404 Errors"),(0,t.createElement)("span",{className:"pill "+(_.last_30_days>0?"warning":"success")},_.last_30_days>0?`${_.last_30_days} Found`:"None")),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+(_.last_30_days>0?"warning":"success"),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},_.last_7_days>0?`${_.last_7_days} errors this week`:"No recent errors"),(0,t.createElement)("div",{className:"status-subtitle"},"Last 30 days"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("404-log")},"View 404 Log")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("div",{className:"card-header"},(0,t.createElement)("h3",null,"Schema Markup"),(0,t.createElement)("span",{className:"pill "+("valid"===f.status?"success":"")},f.status_label||f.status)),(0,t.createElement)("div",{className:"status-row"},(0,t.createElement)("span",{className:"status-dot "+("valid"===f.status?"success":""),"aria-hidden":"true"}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"status-title"},f.types?.length>0?f.types.slice(0,3).join(", "):"Basic markup"),(0,t.createElement)("div",{className:"status-subtitle"},f.types?.length>3?`+${f.types.length-3} more types`:"Schema types active"))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>v("search-appearance")},"Configure Schema"))),(0,t.createElement)("div",{className:"dashboard-actions"},(0,t.createElement)("h3",null,"Quick Actions"),(0,t.createElement)("div",{className:"actions-grid"},(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("audit")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"Run SEO Audit"),(0,t.createElement)("span",null,"Scan for issues"))),(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("redirects")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"Manage Redirects"),(0,t.createElement)("span",null,y.suggestions>0?`${y.suggestions} suggestions`:"All good"))),(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("sitemap")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M4 6h16M4 12h16M4 18h10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"View Sitemap"),(0,t.createElement)("span",null,N.total_urls," URLs"))),(0,t.createElement)("button",{type:"button",className:"action-card",onClick:()=>v("ai-assistant")},(0,t.createElement)("div",{className:"action-icon"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("circle",{cx:"9",cy:"13",r:"1",fill:"currentColor"}),(0,t.createElement)("circle",{cx:"15",cy:"13",r:"1",fill:"currentColor"}))),(0,t.createElement)("div",{className:"action-content"},(0,t.createElement)("strong",null,"AI Assistant"),(0,t.createElement)("span",null,"Generate content"))))))},d=({tabs:e,activeTab:a,onChange:l,ariaLabel:n})=>(0,t.createElement)("div",{className:"sub-tabs",role:"tablist","aria-label":n},e.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",role:"tab",className:"sub-tab "+(a===e.id?"is-active":""),"aria-selected":a===e.id,onClick:()=>l(e.id)},e.label))),p=({title:e="",description:a="",url:l="",domain:n="",favicon:s="",maxTitleLength:c=60,maxDescriptionLength:r=155})=>{const i=e.length,o=a.length,m=i>c,d=o>r,p=m?e.substring(0,c)+"...":e,u=d?a.substring(0,r)+"...":a;return(0,t.createElement)("div",{className:"search-preview"},(0,t.createElement)("div",{className:"search-preview__header"},(0,t.createElement)("span",{className:"search-preview__label"},"Search Result Preview")),(0,t.createElement)("div",{className:"search-preview__body"},(0,t.createElement)("div",{className:"search-preview__url"},s?(0,t.createElement)("img",{src:s,alt:"",className:"search-preview__favicon"}):(0,t.createElement)("span",{className:"search-preview__favicon-placeholder"}),(0,t.createElement)("span",{className:"search-preview__domain"},n||l)),(0,t.createElement)("div",{className:"search-preview__title"},p||"Page Title"),(0,t.createElement)("div",{className:"search-preview__description"},u||"Meta description will appear here...")),(0,t.createElement)("div",{className:"search-preview__footer"},(0,t.createElement)("span",{className:"search-preview__counter "+(m?"over-limit":"")},(0,t.createElement)("strong",null,i)," / ",c," chars (title)"),(0,t.createElement)("span",{className:"search-preview__counter "+(d?"over-limit":"")},(0,t.createElement)("strong",null,o)," / ",r," chars (description)")))},u=({variables:e={},onSelect:l,context:n="global",buttonLabel:s="Variables",disabled:c=!1,compact:r=!1,isOpen:i,onToggle:o,onClose:m})=>{const[d,p]=(0,a.useState)(!1),[u,E]=(0,a.useState)(""),g=(0,a.useRef)(null),v=void 0!==i?i:d,h=e=>{void 0!==i?e?o?.():m?.():p(e)};(0,a.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&h(!1)};return v&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[v,i]);const b=e=>{l&&l(`{{${e.tag}}}`),h(!1),E("")},N=()=>{void 0!==i?o?.():p(!d)},y=v?(()=>{const t={},a={global:["global"],post:["global","post"],taxonomy:["global","taxonomy"],archive:["global","archive","author"],author:["global","author"],date:["global","archive"],search:["global"],404:["global"]}[n]||["global"];return Object.entries(e).forEach(([e,l])=>{if(!a.includes(e))return;const n=(l.vars||[]).filter(e=>{if(!u)return!0;const t=u.toLowerCase();return e.tag.toLowerCase().includes(t)||e.label.toLowerCase().includes(t)||e.desc&&e.desc.toLowerCase().includes(t)});n.length>0&&(t[e]={...l,vars:n})}),t})():{};return r?(0,t.createElement)("div",{className:"variable-picker variable-picker--compact",ref:g},(0,t.createElement)("button",{type:"button",className:"template-input-v2__action-btn template-input-v2__action-btn--vars",onClick:N,disabled:c,title:"Insert variable"},(0,t.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M4 7h3a1 1 0 0 0 1-1V3"}),(0,t.createElement)("path",{d:"M20 7h-3a1 1 0 0 1-1-1V3"}),(0,t.createElement)("path",{d:"M4 17h3a1 1 0 0 1 1 1v3"}),(0,t.createElement)("path",{d:"M20 17h-3a1 1 0 0 0-1 1v3"}),(0,t.createElement)("path",{d:"M9 12h6"}),(0,t.createElement)("path",{d:"M12 9v6"}))),v&&(0,t.createElement)("div",{className:"variable-picker__dropdown"},(0,t.createElement)("div",{className:"variable-picker__search"},(0,t.createElement)("input",{type:"text",placeholder:"Search variables...",value:u,onChange:e=>E(e.target.value),autoFocus:!0})),(0,t.createElement)("div",{className:"variable-picker__groups"},Object.entries(y).map(([e,a])=>(0,t.createElement)("div",{key:e,className:"variable-picker__group"},(0,t.createElement)("div",{className:`variable-picker__group-label variable-picker__group-label--${e}`},a.label),(0,t.createElement)("div",{className:"variable-picker__items"},a.vars.map(a=>(0,t.createElement)("button",{key:a.tag,type:"button",className:"variable-picker__item",onClick:()=>b(a)},(0,t.createElement)("div",{className:"variable-picker__item-header"},(0,t.createElement)("code",{className:`variable-picker__tag variable-picker__tag--${e}`},a.tag),(0,t.createElement)("span",{className:"variable-picker__label"},a.label)),a.preview&&(0,t.createElement)("div",{className:"variable-picker__preview"},a.preview)))))),0===Object.keys(y).length&&(0,t.createElement)("div",{className:"variable-picker__empty"},"No variables found")))):(0,t.createElement)("div",{className:"variable-picker",ref:g},(0,t.createElement)("button",{type:"button",className:"variable-picker__trigger",onClick:N,disabled:c,title:"Insert variable"},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:"16",height:"16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M4.5 2A2.5 2.5 0 002 4.5v3.879a2.5 2.5 0 00.732 1.767l7.5 7.5a2.5 2.5 0 003.536 0l3.878-3.878a2.5 2.5 0 000-3.536l-7.5-7.5A2.5 2.5 0 008.38 2H4.5zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),(0,t.createElement)("span",null,s)),v&&(0,t.createElement)("div",{className:"variable-picker__dropdown"},(0,t.createElement)("div",{className:"variable-picker__search"},(0,t.createElement)("input",{type:"text",placeholder:"Search variables...",value:u,onChange:e=>E(e.target.value),autoFocus:!0})),(0,t.createElement)("div",{className:"variable-picker__groups"},Object.entries(y).map(([e,a])=>(0,t.createElement)("div",{key:e,className:"variable-picker__group"},(0,t.createElement)("div",{className:`variable-picker__group-label variable-picker__group-label--${e}`},a.label),(0,t.createElement)("div",{className:"variable-picker__items"},a.vars.map(a=>(0,t.createElement)("button",{key:a.tag,type:"button",className:"variable-picker__item",onClick:()=>b(a)},(0,t.createElement)("div",{className:"variable-picker__item-header"},(0,t.createElement)("code",{className:`variable-picker__tag variable-picker__tag--${e}`},a.tag),(0,t.createElement)("span",{className:"variable-picker__label"},a.label)),a.preview&&(0,t.createElement)("div",{className:"variable-picker__preview"},a.preview)))))),0===Object.keys(y).length&&(0,t.createElement)("div",{className:"variable-picker__empty"},"No variables found"))))},E={site_title:"global",tagline:"global",site_url:"global",separator:"separator",current_year:"global",current_month:"global",current_day:"global",post_title:"post",post_excerpt:"post",post_date:"post",post_modified:"post",post_author:"post",post_id:"post",post_content:"post",term_title:"taxonomy",term_description:"taxonomy",term_count:"taxonomy",author_name:"author",author_bio:"author",archive_title:"archive",search_query:"archive",page_number:"archive"},g=e=>{const t=e.indexOf("|");return t>-1?e.substring(0,t).trim():e.trim()},v=e=>{const t=g(e);return E[t]||"global"},h=({value:e="",onChange:l,placeholder:n="",variables:s={},variableValues:c={},context:r="global",multiline:i=!1,maxLength:o=null,label:m="",helpText:d="",id:p,disabled:E=!1,onAiClick:h=null,showAiButton:b=!0})=>{const N=(0,a.useRef)(null),y=(0,a.useRef)(null),[_,f]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!1),[x,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=N.current,t=y.current;if(!e||!t)return;const a=()=>{t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)},[]);const S=(0,a.useMemo)(()=>{if(!e)return[];const t=[];let a=0;const l=/\{\{([^}]+)\}\}/g;let n;for(;null!==(n=l.exec(e));){n.index>a&&t.push({type:"text",content:e.slice(a,n.index)});const s=n[1].trim(),r=g(s),i=v(r),o=c[r]||c[`{{${r}}}`];t.push({type:"variable",fullTag:s,baseTag:r,raw:n[0],preview:o||r,varType:i}),a=l.lastIndex}return a<e.length&&t.push({type:"text",content:e.slice(a)}),t},[e,c]),T=e.length,L=o&&T>o,A=i?"textarea":"input";return(0,t.createElement)("div",{className:`template-input-v2 ${_?"is-focused":""} ${E?"is-disabled":""}`},m&&(0,t.createElement)("label",{className:"template-input-v2__label",htmlFor:p},m),(0,t.createElement)("div",{className:"template-input-v2__container"},(0,t.createElement)("div",{ref:y,className:"template-input-v2__highlight "+(i?"multiline":""),"aria-hidden":"true"},S.map((e,a)=>"variable"===e.type?(0,t.createElement)("span",{key:a,className:`template-input-v2__var template-input-v2__var--${e.varType}`,onMouseEnter:()=>C({...e,index:a}),onMouseLeave:()=>C(null)},(0,t.createElement)("span",{className:"template-input-v2__bracket"},"{"),(0,t.createElement)("span",{className:"template-input-v2__bracket"},"{"),(0,t.createElement)("span",{className:"template-input-v2__tag"},e.fullTag),(0,t.createElement)("span",{className:"template-input-v2__bracket"},"}"),(0,t.createElement)("span",{className:"template-input-v2__bracket"},"}"),x?.index===a&&e.preview&&(0,t.createElement)("span",{className:"template-input-v2__tooltip"},e.preview)):(0,t.createElement)("span",{key:a},e.content)),!e&&(0,t.createElement)("span",{className:"template-input-v2__placeholder"},n)),(0,t.createElement)(A,{ref:N,id:p,type:i?void 0:"text",className:"template-input-v2__field "+(i?"multiline":""),value:e,onChange:e=>l(e.target.value),onFocus:()=>f(!0),onBlur:()=>f(!1),placeholder:"",disabled:E,rows:i?3:void 0}),(0,t.createElement)("div",{className:"template-input-v2__actions"},b&&(0,t.createElement)("button",{type:"button",className:"template-input-v2__action-btn template-input-v2__action-btn--ai",onClick:h,disabled:E||!h,title:"Generate with AI"},(0,t.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M12 3v1m0 16v1m-9-9h1m16 0h1m-2.636-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"4"}))),(0,t.createElement)(u,{variables:s,context:r,onSelect:t=>{const a=N.current;if(!a)return void l(e+t);const n=a.selectionStart,s=a.selectionEnd,c=e.slice(0,n)+t+e.slice(s);l(c),w(!1),requestAnimationFrame(()=>{const e=n+t.length;a.setSelectionRange(e,e),a.focus()})},disabled:E,isOpen:k,onToggle:()=>w(!k),onClose:()=>w(!1),compact:!0}))),(d||o)&&(0,t.createElement)("div",{className:"template-input-v2__footer"},d&&(0,t.createElement)("span",{className:"template-input-v2__help"},d),o&&(0,t.createElement)("span",{className:"template-input-v2__counter "+(L?"over-limit":"")},T,"/",o)))},b=(e,t,a)=>{if("undefined"==typeof window)return t;const l=new URL(window.location.href).searchParams.get(a);return l&&e.some(e=>e.id===l)?l:t},N=({tabs:e,defaultTab:a,paramName:l="tab"})=>{const[n,s]=(0,t.useState)(()=>b(e,a,l));return(0,t.useEffect)(()=>{const t=()=>{s(b(e,a,l))};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)},[e,a,l]),[n,t=>{if(!e.some(e=>e.id===t))return;if(s(t),"undefined"==typeof window)return;const a=new URL(window.location.href);a.searchParams.set(l,t),window.history.replaceState({},"",a.toString())}]},y=[{id:"homepage",label:"Homepage"},{id:"content-types",label:"Content Types"},{id:"taxonomies",label:"Taxonomies"},{id:"archives",label:"Archives"},{id:"social-settings",label:"Social Settings"},{id:"social-cards",label:"Social Cards"}],_=[{value:"",label:"Use default (Article)"},{value:"article",label:"Article"},{value:"blogposting",label:"Blog posting"},{value:"newsarticle",label:"News article"},{value:"product",label:"Product"},{value:"profilepage",label:"Profile page"},{value:"website",label:"Website"},{value:"organization",label:"Organization"},{value:"event",label:"Event"},{value:"recipe",label:"Recipe"},{value:"videoobject",label:"Video object"},{value:"book",label:"Book"},{value:"service",label:"Service"},{value:"localbusiness",label:"Local business"}],f=[{value:"default",label:"Default",description:"Title with accent bar at bottom"},{value:"centered",label:"Centered",description:"Centered text layout"},{value:"minimal",label:"Minimal",description:"Text only, no accent"},{value:"bold",label:"Bold",description:"Large accent block"}],k=[{value:"top-left",label:"Top Left"},{value:"top-right",label:"Top Right"},{value:"bottom-left",label:"Bottom Left"},{value:"bottom-right",label:"Bottom Right"},{value:"center",label:"Center"}],w=({postType:e,schemaOptions:l,separator:n,siteInfo:s,variables:c,variableValues:r,onSave:i,onCancel:o,saving:m,renderTemplatePreview:d})=>{const[u,E]=(0,a.useState)(e),g=d(u.title_template||"{{post_title}} {{separator}} {{site_title}}"),v=d(u.description_template||"{{post_excerpt}}");return(0,t.createElement)("div",{className:"type-editor"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit: ",e.name),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:o},"Cancel")),(0,t.createElement)(p,{title:g,description:v,domain:s.domain,favicon:s.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show in Search Results"),(0,t.createElement)("p",{className:"settings-help"},"Allow search engines to index this content type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!u.noindex,onChange:e=>E({...u,noindex:!e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},u.noindex?"Hidden":"Visible")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Template"),(0,t.createElement)("p",{className:"settings-help"},'Click "Variables" to insert dynamic content.')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:u.title_template,onChange:e=>E({...u,title_template:e}),placeholder:"{{post_title}} {{separator}} {{site_title}}",variables:c,variableValues:r,context:"post",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description Template"),(0,t.createElement)("p",{className:"settings-help"},"Default meta description for this post type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:u.description_template,onChange:e=>E({...u,description_template:e}),placeholder:"{{post_excerpt}}",variables:c,variableValues:r,context:"post",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Schema Page Type"),(0,t.createElement)("p",{className:"settings-help"},"Default structured data page type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{value:u.schema_page,onChange:e=>E({...u,schema_page:e.target.value})},Object.entries(l.page).map(([e,a])=>(0,t.createElement)("option",{key:e,value:e},a))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Schema Article Type"),(0,t.createElement)("p",{className:"settings-help"},"Default structured data article type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{value:u.schema_article,onChange:e=>E({...u,schema_article:e.target.value})},Object.entries(l.article).map(([e,a])=>(0,t.createElement)("option",{key:e,value:e},a))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show SEO Controls"),(0,t.createElement)("p",{className:"settings-help"},"Show SEO meta box in editor for this post type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:u.show_seo_controls,onChange:e=>E({...u,show_seo_controls:e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},u.show_seo_controls?"Enabled":"Disabled")))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>i(u),disabled:m},m?"Saving...":"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:o},"Cancel"))))},x=({taxonomy:e,separator:l,siteInfo:n,variables:s,variableValues:c,onSave:r,onCancel:i,saving:o,renderTemplatePreview:m})=>{const[d,u]=(0,a.useState)(e),E=m(d.title_template||"{{term_title}} Archives {{separator}} {{site_title}}"),g=m(d.description_template||"{{term_description}}");return(0,t.createElement)("div",{className:"type-editor"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit: ",e.name),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:i},"Cancel")),(0,t.createElement)(p,{title:E,description:g,domain:n.domain,favicon:n.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show in Search Results"),(0,t.createElement)("p",{className:"settings-help"},"Allow search engines to index this taxonomy.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!d.noindex,onChange:e=>u({...d,noindex:!e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},d.noindex?"Hidden":"Visible")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Template"),(0,t.createElement)("p",{className:"settings-help"},'Click "Variables" to insert dynamic content.')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:d.title_template,onChange:e=>u({...d,title_template:e}),placeholder:"{{term_title}} Archives {{separator}} {{site_title}}",variables:s,variableValues:c,context:"taxonomy",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description Template"),(0,t.createElement)("p",{className:"settings-help"},"Default meta description for taxonomy archives.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:d.description_template,onChange:e=>u({...d,description_template:e}),placeholder:"{{term_description}}",variables:s,variableValues:c,context:"taxonomy",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show SEO Controls"),(0,t.createElement)("p",{className:"settings-help"},"Show SEO fields when editing terms.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:d.show_seo_controls,onChange:e=>u({...d,show_seo_controls:e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},d.show_seo_controls?"Enabled":"Disabled")))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>r(d),disabled:o},o?"Saving...":"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:i},"Cancel"))))},C=({archive:e,separator:l,siteInfo:n,variables:s,variableValues:c,onSave:r,onCancel:i,renderTemplatePreview:o})=>{const[m,d]=(0,a.useState)(e),u=()=>{switch(e.slug){case"author":return"author";case"date":case"search":case"404":return"archive";default:return"global"}},E=o(m.title_template),g=o(m.description_template);return(0,t.createElement)("div",{className:"type-editor"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit: ",e.name),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:i},"Cancel")),(0,t.createElement)(p,{title:E,description:g,domain:n.domain,favicon:n.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Show in Search Results"),(0,t.createElement)("p",{className:"settings-help"},"Allow search engines to index this page type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:!m.noindex,onChange:e=>d({...m,noindex:!e.target.checked})}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},m.noindex?"Hidden":"Visible")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Template"),(0,t.createElement)("p",{className:"settings-help"},'Click "Variables" to insert dynamic content.')),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:m.title_template,onChange:e=>d({...m,title_template:e}),variables:s,variableValues:c,context:u(),maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description Template")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:m.description_template,onChange:e=>d({...m,description_template:e}),variables:s,variableValues:c,context:u(),multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>r(m)},"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:i},"Cancel"))))},S=()=>{const[e,l]=N({tabs:y,defaultTab:"homepage"}),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(""),[u,E]=(0,a.useState)({}),[g,v]=(0,a.useState)({}),[b,S]=(0,a.useState)({}),[T,L]=(0,a.useState)({meta_title:"",meta_description:"",meta_keywords:""}),[A,F]=(0,a.useState)("-"),[M,P]=(0,a.useState)({}),[O,I]=(0,a.useState)([]),[D,R]=(0,a.useState)(null),[B,z]=(0,a.useState)({page:{},article:{}}),[V,$]=(0,a.useState)([]),[W,U]=(0,a.useState)(null),[G,j]=(0,a.useState)([]),[H,q]=(0,a.useState)(null),[Y,K]=(0,a.useState)({og_title:"",og_description:"",twitter_title:"",twitter_description:"",image_source:"",schema_itemtype:""}),[J,X]=(0,a.useState)({}),[Q,Z]=(0,a.useState)(null),[ee,te]=(0,a.useState)({background_color:"#1a1a36",accent_color:"#5a84ff",text_color:"#ffffff",title_font_size:48,site_font_size:24,logo_url:"",logo_position:"bottom-left",layout:"default"}),[ae,le]=(0,a.useState)("Sample Post Title - Understanding Core Web Vitals"),[ne,se]=(0,a.useState)(!0),ce=(0,a.useCallback)(async()=>{s(!0);try{const e=await c()({path:"/wpseopilot/v2/search-appearance"});if(e.success){const t=e.data;L(t.homepage||{}),F(t.separator||"-"),P(t.separator_options||{}),I(t.post_types||[]),$(t.taxonomies||[]),j(t.archives||[]),z(t.schema_options||{page:{},article:{}}),E(t.site_info||{}),v(t.variables||{}),S(t.variable_values||{}),K(t.social_defaults||{og_title:"",og_description:"",twitter_title:"",twitter_description:"",image_source:"",schema_itemtype:""}),X(t.post_type_social_defaults||{}),te(t.card_design||{background_color:"#1a1a36",accent_color:"#5a84ff",text_color:"#ffffff",title_font_size:48,site_font_size:24,logo_url:"",logo_position:"bottom-left",layout:"default"}),se(!1!==t.card_module_enabled)}}catch(e){console.error("Failed to fetch search appearance settings:",e)}finally{s(!1)}},[]);(0,a.useEffect)(()=>{ce()},[ce]),(0,a.useEffect)(()=>{if(o){const e=setTimeout(()=>m(""),3e3);return()=>clearTimeout(e)}},[o]),(0,a.useEffect)(()=>{S(e=>({...e,separator:A}))},[A]);const re=(0,a.useCallback)((e,t={})=>{if(!e)return"";let a=e;const l={...b,...t};return a=a.replace(/\{\{([^}]+)\}\}/g,(e,t)=>{const a=t.trim(),n=a.indexOf("|");if(n>-1){const t=a.substring(0,n).trim(),s=a.substring(n+1).trim(),c=l[t];return void 0!==c?((e,t)=>{if(!e||!t)return e;switch(t.trim().toLowerCase()){case"upper":case"uppercase":return String(e).toUpperCase();case"lower":case"lowercase":return String(e).toLowerCase();case"capitalize":case"title":return String(e).replace(/\b\w/g,e=>e.toUpperCase());case"trim":return String(e).trim();default:return e}})(c,s):e}return void 0!==l[a]?l[a]:e}),a},[b]),ie=async e=>{F(e);try{await c()({path:"/wpseopilot/v2/search-appearance/separator",method:"POST",data:{separator:e}})}catch(e){console.error("Failed to save separator:",e)}};return n?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"loading-state"},"Loading search appearance settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Search Appearance"),(0,t.createElement)("p",null,"Control how your content appears in search results.")),o&&(0,t.createElement)("span",{className:"pill success"},o)),(0,t.createElement)(d,{tabs:y,activeTab:e,onChange:l,ariaLabel:"Search appearance sections"}),"homepage"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Homepage SEO"),(0,t.createElement)("p",{className:"muted"},"Configure default title and meta description for your homepage."))),(0,t.createElement)(p,{title:re(T.meta_title||"{{site_title}} {{separator}} {{tagline}}"),description:re(T.meta_description||u.description||""),domain:u.domain,url:u.url,favicon:u.favicon}),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"home-title"},"Homepage Title"),(0,t.createElement)("p",{className:"settings-help"},"The title tag for your homepage.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{id:"home-title",value:T.meta_title,onChange:e=>L({...T,meta_title:e}),placeholder:`${u.name} ${A} ${u.description}`,variables:g,variableValues:b,context:"global",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"home-desc"},"Meta Description"),(0,t.createElement)("p",{className:"settings-help"},"A brief description of your website (150-160 chars recommended).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{id:"home-desc",value:T.meta_description,onChange:e=>L({...T,meta_description:e}),placeholder:"A brief description of your website...",variables:g,variableValues:b,context:"global",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Separator"),(0,t.createElement)("p",{className:"settings-help"},"Character used between title parts across your site.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"separator-selector"},Object.entries(M).map(([e,a])=>(0,t.createElement)("button",{key:e,type:"button",className:"separator-option "+(A===e?"active":""),onClick:()=>ie(e),title:a},e)),(0,t.createElement)("div",{className:"separator-custom"},(0,t.createElement)("input",{type:"text",className:"separator-custom__input",value:Object.keys(M).includes(A)?"":A,onChange:e=>ie(e.target.value),placeholder:"Custom",maxLength:5}))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"home-keywords"},"Meta Keywords"),(0,t.createElement)("p",{className:"settings-help"},"Comma-separated keywords (optional, less relevant for modern SEO).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"text",id:"home-keywords",className:"input",value:T.meta_keywords||"",onChange:e=>L({...T,meta_keywords:e.target.value}),placeholder:"keyword1, keyword2, keyword3"}))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{(await c()({path:"/wpseopilot/v2/search-appearance/homepage",method:"POST",data:T})).success&&m("Homepage settings saved successfully.")}catch(e){console.error("Failed to save homepage settings:",e),m("Failed to save settings.")}finally{i(!1)}},disabled:r},r?"Saving...":"Save Homepage Settings")))),"content-types"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Content Types"),(0,t.createElement)("p",{className:"muted"},"Configure SEO defaults for each post type."))),D?(0,t.createElement)(w,{postType:D,schemaOptions:B,separator:A,siteInfo:u,variables:g,variableValues:b,onSave:async e=>{i(!0);try{(await c()({path:`/wpseopilot/v2/search-appearance/post-types/${e.slug}`,method:"POST",data:e})).success&&(I(t=>t.map(t=>t.slug===e.slug?{...t,...e}:t)),R(null),m("Post type settings saved."))}catch(e){console.error("Failed to save post type:",e)}finally{i(!1)}},onCancel:()=>R(null),saving:r,renderTemplatePreview:re}):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Post Type"),(0,t.createElement)("th",null,"Title Preview"),(0,t.createElement)("th",null,"Show in Search"),(0,t.createElement)("th",null,"Posts"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,O.map(e=>{const a=e.title_template||"{{post_title}} {{separator}} {{site_title}}";return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.slug)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"title-preview-cell"},(0,t.createElement)("span",{className:"title-preview-cell__title"},re(a)),(0,t.createElement)("code",{className:"title-preview-cell__template"},a))),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(e.noindex?"warning":"success")},e.noindex?"No":"Yes")),(0,t.createElement)("td",null,e.count),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>R({...e})},"Edit")))})))),"taxonomies"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Taxonomies"),(0,t.createElement)("p",{className:"muted"},"Configure SEO settings for categories, tags, and custom taxonomies."))),W?(0,t.createElement)(x,{taxonomy:W,separator:A,siteInfo:u,variables:g,variableValues:b,onSave:async e=>{i(!0);try{(await c()({path:`/wpseopilot/v2/search-appearance/taxonomies/${e.slug}`,method:"POST",data:e})).success&&($(t=>t.map(t=>t.slug===e.slug?{...t,...e}:t)),U(null),m("Taxonomy settings saved."))}catch(e){console.error("Failed to save taxonomy:",e)}finally{i(!1)}},onCancel:()=>U(null),saving:r,renderTemplatePreview:re}):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Taxonomy"),(0,t.createElement)("th",null,"Title Preview"),(0,t.createElement)("th",null,"Show in Search"),(0,t.createElement)("th",null,"Terms"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,V.map(e=>{const a=e.title_template||"{{term_title}} {{separator}} {{site_title}}";return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.slug)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"title-preview-cell"},(0,t.createElement)("span",{className:"title-preview-cell__title"},re(a)),(0,t.createElement)("code",{className:"title-preview-cell__template"},a))),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(e.noindex?"warning":"success")},e.noindex?"No":"Yes")),(0,t.createElement)("td",null,e.count),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>U({...e})},"Edit")))})))),"archives"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Archives"),(0,t.createElement)("p",{className:"muted"},"Configure SEO for author, date, search, and 404 pages."))),H?(0,t.createElement)(C,{archive:H,separator:A,siteInfo:u,variables:g,variableValues:b,onSave:e=>{j(t=>t.map(t=>t.slug===e.slug?e:t)),q(null)},onCancel:()=>q(null),renderTemplatePreview:re}):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Archive Type"),(0,t.createElement)("th",null,"Title Preview"),(0,t.createElement)("th",null,"Show in Search"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,G.map(e=>{const a=e.title_template||"{{archive_title}} {{separator}} {{site_title}}";return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.description)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"title-preview-cell"},(0,t.createElement)("span",{className:"title-preview-cell__title"},re(a)),(0,t.createElement)("code",{className:"title-preview-cell__template"},a))),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(e.noindex?"warning":"success")},e.noindex?"No":"Yes")),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>q({...e})},"Edit")))})))),"social-settings"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Social Settings"),(0,t.createElement)("p",{className:"muted"},"Configure default Open Graph, Twitter, and schema values for social sharing."))),Q?(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"type-editor__header"},(0,t.createElement)("h4",null,"Edit ",Q.name," Social Settings"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>Z(null)},"Cancel")),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Title"),(0,t.createElement)("p",{className:"settings-help"},"Open Graph title for Facebook shares.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Q.og_title||"",onChange:e=>Z({...Q,og_title:e}),placeholder:"{{post_title}} {{separator}} {{site_title}}",variables:g,variableValues:b,context:"post",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Description"),(0,t.createElement)("p",{className:"settings-help"},"Open Graph description for Facebook shares.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Q.og_description||"",onChange:e=>Z({...Q,og_description:e}),placeholder:"{{post_excerpt}}",variables:g,variableValues:b,context:"post",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Title"),(0,t.createElement)("p",{className:"settings-help"},"Twitter card title.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Q.twitter_title||"",onChange:e=>Z({...Q,twitter_title:e}),placeholder:"{{post_title}} {{separator}} {{site_title}}",variables:g,variableValues:b,context:"post",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Description"),(0,t.createElement)("p",{className:"settings-help"},"Twitter card description.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Q.twitter_description||"",onChange:e=>Z({...Q,twitter_description:e}),placeholder:"{{post_excerpt}}",variables:g,variableValues:b,context:"post",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Image URL"),(0,t.createElement)("p",{className:"settings-help"},"Fallback image for social sharing.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"url",className:"input",value:Q.image_source||"",onChange:e=>Z({...Q,image_source:e.target.value}),placeholder:"https://example.com/image.jpg"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Schema Type"),(0,t.createElement)("p",{className:"settings-help"},"Schema.org type for this post type.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{className:"input",value:Q.schema_itemtype||"",onChange:e=>Z({...Q,schema_itemtype:e.target.value})},_.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:()=>(async(e,t)=>{i(!0);try{(await c()({path:`/wpseopilot/v2/search-appearance/social-defaults/${e}`,method:"POST",data:t})).success&&(X(a=>({...a,[e]:t})),Z(null),m("Post type social settings saved."))}catch(e){console.error("Failed to save post type social settings:",e)}finally{i(!1)}})(Q.slug,Q),disabled:r},r?"Saving...":"Save Settings"),(0,t.createElement)("button",{type:"button",className:"button",onClick:()=>Z(null)},"Cancel"))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-form",style:{marginBottom:"32px"}},(0,t.createElement)("h4",{style:{marginBottom:"16px"}},"Global Social Defaults"),(0,t.createElement)("p",{className:"muted",style:{marginBottom:"24px"}},"These defaults apply when posts don't have custom social values."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Title"),(0,t.createElement)("p",{className:"settings-help"},"Default Open Graph title for Facebook.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Y.og_title||"",onChange:e=>K({...Y,og_title:e}),placeholder:"{{site_title}} {{separator}} {{tagline}}",variables:g,variableValues:b,context:"global",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"OG Description"),(0,t.createElement)("p",{className:"settings-help"},"Default Open Graph description.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Y.og_description||"",onChange:e=>K({...Y,og_description:e}),placeholder:"{{tagline}}",variables:g,variableValues:b,context:"global",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Title"),(0,t.createElement)("p",{className:"settings-help"},"Default Twitter card title.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Y.twitter_title||"",onChange:e=>K({...Y,twitter_title:e}),placeholder:"{{site_title}} {{separator}} {{tagline}}",variables:g,variableValues:b,context:"global",maxLength:60}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Twitter Description"),(0,t.createElement)("p",{className:"settings-help"},"Default Twitter card description.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)(h,{value:Y.twitter_description||"",onChange:e=>K({...Y,twitter_description:e}),placeholder:"{{tagline}}",variables:g,variableValues:b,context:"global",multiline:!0,maxLength:160}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Fallback Image URL"),(0,t.createElement)("p",{className:"settings-help"},"Used when posts don't have a featured image (1200x630px recommended).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"url",className:"input",value:Y.image_source||"",onChange:e=>K({...Y,image_source:e.target.value}),placeholder:"https://example.com/default-social.jpg"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Default Schema Type"),(0,t.createElement)("p",{className:"settings-help"},"Controls the og:type meta tag for content.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{className:"input",value:Y.schema_itemtype||"",onChange:e=>K({...Y,schema_itemtype:e.target.value})},_.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{(await c()({path:"/wpseopilot/v2/search-appearance/social-defaults",method:"POST",data:Y})).success&&m("Social settings saved.")}catch(e){console.error("Failed to save social defaults:",e)}finally{i(!1)}},disabled:r},r?"Saving...":"Save Global Defaults"))),(0,t.createElement)("div",{style:{marginTop:"32px"}},(0,t.createElement)("h4",{style:{marginBottom:"8px"}},"Post Type Specific Settings"),(0,t.createElement)("p",{className:"muted",style:{marginBottom:"16px"}},"Override default social settings for specific post types."),(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Post Type"),(0,t.createElement)("th",null,"OG Title"),(0,t.createElement)("th",null,"Schema Type"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,O.map(e=>{const a=J[e.slug]||{};return(0,t.createElement)("tr",{key:e.slug},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"muted",style:{display:"block",fontSize:"12px"}},e.slug)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"muted"},a.og_title||"Using global default")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"muted"},a.schema_itemtype||"Article")),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>Z({slug:e.slug,name:e.name,...a})},"Edit")))})))))),"social-cards"===e&&(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Social Cards"),(0,t.createElement)("p",{className:"muted"},"Customize the appearance of dynamically generated social card images.")),(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"pill "+(ne?"success":"warning")},ne?"Active":"Disabled"))),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{style:{marginBottom:"32px",padding:"24px",background:"#f8f9fa",borderRadius:"8px"}},(0,t.createElement)("h4",{style:{marginBottom:"16px"}},"Live Preview"),(0,t.createElement)("div",{style:{display:"flex",gap:"16px",marginBottom:"16px",alignItems:"flex-end"}},(0,t.createElement)("div",{style:{flex:1}},(0,t.createElement)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500}},"Sample Title"),(0,t.createElement)("input",{type:"text",className:"input",value:ae,onChange:e=>le(e.target.value)}))),(0,t.createElement)("div",{className:"social-card-preview",style:{width:"100%",maxWidth:"600px",aspectRatio:"1200/630",background:ee.background_color,borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"centered"===ee.layout?"center":"flex-end",alignItems:"centered"===ee.layout?"center":"flex-start",padding:"32px",position:"relative",overflow:"hidden"}},"minimal"!==ee.layout&&(0,t.createElement)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"bold"===ee.layout?"30%":"6px",background:ee.accent_color}}),ee.logo_url&&(0,t.createElement)("img",{src:ee.logo_url,alt:"Logo",style:{position:"absolute",width:"48px",height:"48px",objectFit:"contain",..."top-left"===ee.logo_position&&{top:"24px",left:"24px"},..."top-right"===ee.logo_position&&{top:"24px",right:"24px"},..."bottom-left"===ee.logo_position&&{bottom:"24px",left:"24px"},..."bottom-right"===ee.logo_position&&{bottom:"24px",right:"24px"},..."center"===ee.logo_position&&{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}),(0,t.createElement)("h2",{style:{color:ee.text_color,fontSize:`${Math.max(16,ee.title_font_size/3)}px`,fontWeight:700,margin:0,marginBottom:"8px",textAlign:"centered"===ee.layout?"center":"left",zIndex:1}},ae),(0,t.createElement)("span",{style:{color:ee.text_color,fontSize:`${Math.max(10,ee.site_font_size/3)}px`,opacity:.8,zIndex:1}},u.name||"Your Site Name"))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Layout Style"),(0,t.createElement)("p",{className:"settings-help"},"Choose the overall layout for social cards.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"}},f.map(e=>(0,t.createElement)("label",{key:e.value,style:{display:"flex",flexDirection:"column",padding:"12px 16px",border:"2px solid "+(ee.layout===e.value?"#2271b1":"#ddd"),borderRadius:"8px",cursor:"pointer",background:ee.layout===e.value?"#f0f6fc":"#fff",minWidth:"120px"}},(0,t.createElement)("input",{type:"radio",name:"card-layout",value:e.value,checked:ee.layout===e.value,onChange:e=>te({...ee,layout:e.target.value}),style:{display:"none"}}),(0,t.createElement)("strong",{style:{fontSize:"14px"}},e.label),(0,t.createElement)("span",{style:{fontSize:"12px",color:"#666"}},e.description)))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Background Color")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},(0,t.createElement)("input",{type:"color",value:ee.background_color,onChange:e=>te({...ee,background_color:e.target.value}),style:{width:"48px",height:"36px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),(0,t.createElement)("input",{type:"text",className:"input",value:ee.background_color,onChange:e=>te({...ee,background_color:e.target.value}),style:{width:"100px"}})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Accent Color")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},(0,t.createElement)("input",{type:"color",value:ee.accent_color,onChange:e=>te({...ee,accent_color:e.target.value}),style:{width:"48px",height:"36px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),(0,t.createElement)("input",{type:"text",className:"input",value:ee.accent_color,onChange:e=>te({...ee,accent_color:e.target.value}),style:{width:"100px"}})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Text Color")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},(0,t.createElement)("input",{type:"color",value:ee.text_color,onChange:e=>te({...ee,text_color:e.target.value}),style:{width:"48px",height:"36px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}}),(0,t.createElement)("input",{type:"text",className:"input",value:ee.text_color,onChange:e=>te({...ee,text_color:e.target.value}),style:{width:"100px"}})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title Font Size (px)")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",className:"input",value:ee.title_font_size,onChange:e=>te({...ee,title_font_size:parseInt(e.target.value)||48}),min:24,max:96,style:{width:"100px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Site Name Font Size (px)")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",className:"input",value:ee.site_font_size,onChange:e=>te({...ee,site_font_size:parseInt(e.target.value)||24}),min:12,max:48,style:{width:"100px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Logo URL"),(0,t.createElement)("p",{className:"settings-help"},"Upload a logo to display on social cards (200x200px recommended).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"url",className:"input",value:ee.logo_url,onChange:e=>te({...ee,logo_url:e.target.value}),placeholder:"https://example.com/logo.png"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Logo Position")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{className:"input",value:ee.logo_position,onChange:e=>te({...ee,logo_position:e.target.value})},k.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"form-actions"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{(await c()({path:"/wpseopilot/v2/search-appearance/card-design",method:"POST",data:ee})).success&&m("Social card design saved.")}catch(e){console.error("Failed to save card design:",e)}finally{i(!1)}},disabled:r},r?"Saving...":"Save Card Design")))))},T=[{id:"xml-sitemap",label:"XML Sitemap"},{id:"llm-txt",label:"LLM.txt"}],L=[{value:"",label:"Manual only"},{value:"hourly",label:"Hourly"},{value:"twicedaily",label:"Twice Daily"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}],A=()=>{const[e,l]=N({tabs:T,defaultTab:"xml-sitemap"}),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)({max_urls:1e3,enable_index:"1",dynamic_generation:"1",schedule_updates:"",post_types:[],taxonomies:[],include_author_pages:"0",include_date_archives:"0",exclude_images:"0",enable_rss:"0",enable_google_news:"0",google_news_name:"",google_news_post_types:[],additional_pages:[],site_url:"",sitemap_url:"",rss_sitemap_url:"",news_sitemap_url:""}),[E,g]=(0,a.useState)({enable_llm_txt:"0",llm_txt_title:"",llm_txt_description:"",llm_txt_posts_per_type:50,llm_txt_include_excerpt:"1",llm_txt_url:""}),[v,h]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[_,f]=(0,a.useState)({total_urls:0,last_regenerated:null}),k=(0,a.useCallback)(async()=>{s(!0);try{const[e,t,a,l,n]=await Promise.all([c()({path:"/wpseopilot/v2/sitemap/settings"}),c()({path:"/wpseopilot/v2/sitemap/llm-settings"}),c()({path:"/wpseopilot/v2/sitemap/post-types"}),c()({path:"/wpseopilot/v2/sitemap/taxonomies"}),c()({path:"/wpseopilot/v2/sitemap/stats"})]);e.success&&u(e.data),t.success&&g(t.data),a.success&&h(a.data),l.success&&y(l.data),n.success&&f(n.data)}catch(e){console.error("Failed to fetch sitemap data:",e)}finally{s(!1)}},[]);(0,a.useEffect)(()=>{k()},[k]);const w=(e,t,a)=>{u(l=>{const n=[...l.additional_pages||[]];return n[e]={...n[e],[t]:a},{...l,additional_pages:n}})};return n?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Sitemap"),(0,t.createElement)("p",null,"Configure XML sitemap generation and LLM.txt settings."))),(0,t.createElement)("div",{className:"loading-state"},"Loading sitemap settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Sitemap"),(0,t.createElement)("p",null,"Configure XML sitemap generation and LLM.txt settings.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("a",{href:p.sitemap_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"View Sitemap"),"1"===E.enable_llm_txt&&(0,t.createElement)("a",{href:E.llm_txt_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"Open llm.txt"))),(0,t.createElement)(d,{tabs:T,activeTab:e,onChange:l,ariaLabel:"Sitemap sections"}),"xml-sitemap"===e?(0,t.createElement)("div",{className:"page-body two-column"},(0,t.createElement)("div",{className:"main-column"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"XML Sitemap Settings"),(0,t.createElement)("p",{className:"muted"},"Configure your sitemap generation, content types, and additional options."),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Automatic Updates"),(0,t.createElement)("p",{className:"settings-help"},"Regenerate sitemap on a schedule.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("select",{value:p.schedule_updates,onChange:e=>u(t=>({...t,schedule_updates:e.target.value}))},L.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Max URLs Per Page"),(0,t.createElement)("p",{className:"settings-help"},"Maximum URLs per sitemap page.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",value:p.max_urls,onChange:e=>u(t=>({...t,max_urls:parseInt(e.target.value,10)||1e3})),min:"1",max:"50000",style:{width:"120px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Generation Options")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.enable_index,onChange:e=>u(t=>({...t,enable_index:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Enable sitemap indexes")),(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.dynamic_generation,onChange:e=>u(t=>({...t,dynamic_generation:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Dynamic generation on-demand")),(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.exclude_images,onChange:e=>u(t=>({...t,exclude_images:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Exclude images from entries")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Post Types"),(0,t.createElement)("p",{className:"settings-help"},"Include in sitemap.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"checkbox-grid"},v.map(e=>(0,t.createElement)("label",{key:e.name,className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:(p.post_types||[]).includes(e.name),onChange:()=>{return t=e.name,void u(e=>{const a=Array.isArray(e.post_types)?e.post_types:[],l=a.includes(t)?a.filter(e=>e!==t):[...a,t];return{...e,post_types:l}});var t}}),(0,t.createElement)("span",null,e.label," (",e.count,")")))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Taxonomies"),(0,t.createElement)("p",{className:"settings-help"},"Include taxonomy archives.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"checkbox-grid"},b.map(e=>(0,t.createElement)("label",{key:e.name,className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:(p.taxonomies||[]).includes(e.name),onChange:()=>{return t=e.name,void u(e=>{const a=Array.isArray(e.taxonomies)?e.taxonomies:[],l=a.includes(t)?a.filter(e=>e!==t):[...a,t];return{...e,taxonomies:l}});var t}}),(0,t.createElement)("span",null,e.label," (",e.count,")")))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Archive Pages")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.include_author_pages,onChange:e=>u(t=>({...t,include_author_pages:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Include author pages")),(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.include_date_archives,onChange:e=>u(t=>({...t,include_date_archives:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Include date archives")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"RSS Sitemap")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.enable_rss,onChange:e=>u(t=>({...t,enable_rss:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Generate RSS sitemap (latest 50 posts)")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Google News")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===p.enable_google_news,onChange:e=>u(t=>({...t,enable_google_news:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Enable Google News sitemap")),"1"===p.enable_google_news&&(0,t.createElement)("div",{style:{marginTop:"12px"}},(0,t.createElement)("input",{type:"text",value:p.google_news_name,onChange:e=>u(t=>({...t,google_news_name:e.target.value})),placeholder:"Publication Name",style:{width:"100%",marginBottom:"8px"}}),(0,t.createElement)("div",{className:"checkbox-grid"},v.map(e=>(0,t.createElement)("label",{key:e.name,className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:(p.google_news_post_types||[]).includes(e.name),onChange:()=>{return t=e.name,void u(e=>{const a=Array.isArray(e.google_news_post_types)?e.google_news_post_types:[],l=a.includes(t)?a.filter(e=>e!==t):[...a,t];return{...e,google_news_post_types:l}});var t}}),(0,t.createElement)("span",null,e.label))))))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Custom Pages"),(0,t.createElement)("p",{className:"settings-help"},"Add URLs not managed by WordPress.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"additional-pages-list"},(p.additional_pages||[]).map((e,a)=>(0,t.createElement)("div",{key:a,className:"additional-page-row"},(0,t.createElement)("input",{type:"url",value:e.url,onChange:e=>w(a,"url",e.target.value),placeholder:"https://example.com/page",className:"page-url-input"}),(0,t.createElement)("input",{type:"text",value:e.priority,onChange:e=>w(a,"priority",e.target.value),placeholder:"0.5",className:"page-priority-input"}),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(e=>{u(t=>({...t,additional_pages:(t.additional_pages||[]).filter((t,a)=>a!==e)}))})(a)},"Remove")))),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>{u(e=>({...e,additional_pages:[...e.additional_pages||[],{url:"",priority:"0.5"}]}))}},"+ Add Page")))),(0,t.createElement)("div",{className:"form-actions",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{await c()({path:"/wpseopilot/v2/sitemap/settings",method:"POST",data:p});const e=await c()({path:"/wpseopilot/v2/sitemap/stats"});e.success&&f(e.data)}catch(e){console.error("Failed to save settings:",e)}finally{i(!1)}},disabled:r},r?"Saving...":"Save Changes"),(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:async()=>{m(!0);try{const e=await c()({path:"/wpseopilot/v2/sitemap/regenerate",method:"POST"});e.success&&f(t=>({...t,last_regenerated:e.data.regenerated_at}))}catch(e){console.error("Failed to regenerate sitemap:",e)}finally{m(!1)}},disabled:o},o?"Regenerating...":"Regenerate Now")))),(0,t.createElement)("aside",{className:"side-panel"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h3",null,"Your Sitemaps"),(0,t.createElement)("div",{className:"sitemap-links"},(0,t.createElement)("div",{className:"sitemap-link-item"},(0,t.createElement)("strong",null,"Main Index"),(0,t.createElement)("a",{href:p.sitemap_url,target:"_blank",rel:"noopener noreferrer"},p.sitemap_url)),"1"===p.enable_rss&&(0,t.createElement)("div",{className:"sitemap-link-item"},(0,t.createElement)("strong",null,"RSS Feed"),(0,t.createElement)("a",{href:p.rss_sitemap_url,target:"_blank",rel:"noopener noreferrer"},p.rss_sitemap_url)),"1"===p.enable_google_news&&(0,t.createElement)("div",{className:"sitemap-link-item"},(0,t.createElement)("strong",null,"Google News"),(0,t.createElement)("a",{href:p.news_sitemap_url,target:"_blank",rel:"noopener noreferrer"},p.news_sitemap_url)))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h3",null,"Statistics"),(0,t.createElement)("div",{className:"stats-list"},(0,t.createElement)("div",{className:"stat-item"},(0,t.createElement)("span",{className:"muted"},"Total URLs"),(0,t.createElement)("span",{className:"stat-value"},_.total_urls.toLocaleString())),(0,t.createElement)("div",{className:"stat-item"},(0,t.createElement)("span",{className:"muted"},"Last Updated"),(0,t.createElement)("span",{className:"stat-value"},(e=>{if(!e)return"Never";const t=new Date(e),a=new Date-t,l=Math.floor(a/36e5);return l<1?"Just now":l<24?`${l} hour${l>1?"s":""} ago`:t.toLocaleDateString()})(_.last_regenerated))))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h3",null,"Pro Tip"),(0,t.createElement)("p",{className:"muted"},"Submit your sitemap to Google Search Console and Bing Webmaster Tools for faster indexing.")))):(0,t.createElement)("div",{className:"page-body two-column"},(0,t.createElement)("div",{className:"main-column"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"LLM.txt Configuration"),(0,t.createElement)("p",{className:"muted"},"Help AI engines discover your content. Similar to XML sitemaps for search engines, llm.txt guides AI crawlers like ChatGPT and Claude."," ",(0,t.createElement)("a",{href:"https://llmstxt.org/",target:"_blank",rel:"noopener noreferrer"},"Learn more")),(0,t.createElement)("div",{className:"settings-form"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Enable llm.txt"),(0,t.createElement)("p",{className:"settings-help"},"Generate and serve the llm.txt file.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===E.enable_llm_txt,onChange:e=>g(t=>({...t,enable_llm_txt:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},"1"===E.enable_llm_txt?"Enabled":"Disabled")))),"1"===E.enable_llm_txt&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Title"),(0,t.createElement)("p",{className:"settings-help"},"Main title in your llm.txt file.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"text",value:E.llm_txt_title,onChange:e=>g(t=>({...t,llm_txt_title:e.target.value})),placeholder:"Defaults to site name"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Description"),(0,t.createElement)("p",{className:"settings-help"},"Brief description below the title.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("textarea",{value:E.llm_txt_description,onChange:e=>g(t=>({...t,llm_txt_description:e.target.value})),placeholder:"Defaults to site tagline",rows:"3"}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Max Posts Per Type"),(0,t.createElement)("p",{className:"settings-help"},"Limit posts included per type (1-500).")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{type:"number",value:E.llm_txt_posts_per_type,onChange:e=>g(t=>({...t,llm_txt_posts_per_type:parseInt(e.target.value,10)||50})),min:"1",max:"500",style:{width:"120px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Options")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"checkbox-row"},(0,t.createElement)("input",{type:"checkbox",checked:"1"===E.llm_txt_include_excerpt,onChange:e=>g(t=>({...t,llm_txt_include_excerpt:e.target.checked?"1":"0"}))}),(0,t.createElement)("span",null,"Include post excerpts/descriptions")))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Content Included"),(0,t.createElement)("p",{className:"settings-help"},"Post types in your llm.txt file.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"post-types-preview"},v.map(e=>{const a=Math.min(e.count,E.llm_txt_posts_per_type);return(0,t.createElement)("div",{key:e.name,className:"post-type-preview-item"},(0,t.createElement)("div",{className:"post-type-info"},(0,t.createElement)("strong",null,e.label),(0,t.createElement)("span",{className:"muted"},a," of ",e.count," posts")))})))))),"1"===E.enable_llm_txt&&(0,t.createElement)("div",{className:"form-actions",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0);try{await c()({path:"/wpseopilot/v2/sitemap/llm-settings",method:"POST",data:E})}catch(e){console.error("Failed to save LLM settings:",e)}finally{i(!1)}},disabled:r},r?"Saving...":"Save Changes"),(0,t.createElement)("a",{href:E.llm_txt_url,target:"_blank",rel:"noopener noreferrer",className:"button ghost"},"View llm.txt")))),(0,t.createElement)("aside",{className:"side-panel"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h3",null,"Your llm.txt"),"1"===E.enable_llm_txt?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("code",{className:"url-display"},E.llm_txt_url),(0,t.createElement)("p",{className:"muted",style:{marginTop:"12px",fontSize:"13px"}},"If not accessible, go to Settings > Permalinks and save to flush rewrite rules.")):(0,t.createElement)("p",{className:"muted"},"Enable llm.txt to generate your file.")),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h3",null,"What is llm.txt?"),(0,t.createElement)("p",{className:"muted"},"A standardized file that helps AI language models like ChatGPT, Claude, and Gemini discover and understand your content structure."),(0,t.createElement)("p",{className:"muted",style:{marginTop:"8px"}},"This improves how AI systems reference and cite your content when answering questions."),(0,t.createElement)("a",{href:"https://llmstxt.org/",target:"_blank",rel:"noopener noreferrer",className:"button ghost small",style:{marginTop:"12px"}},"Learn More")))))},F=[{id:"redirects",name:"Redirects",description:"Create and manage URL redirects. Handle 301, 302, and 307 redirects to maintain SEO value when URLs change.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}),(0,t.createElement)("path",{d:"M15 6l-6 6 6 6",opacity:"0.5"})),color:"#2271b1",stats:{label:"Active",value:"12"},popular:!0},{id:"404-log",name:"404 Log",description:"Track and fix broken links. Monitor 404 errors in real-time and quickly create redirects to fix them.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M12 8v4m0 4h.01"})),color:"#d63638",stats:{label:"Errors",value:"3"},popular:!0},{id:"audit",name:"SEO Audit",description:"Analyze your site for SEO issues. Get actionable recommendations to improve rankings and fix problems.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),(0,t.createElement)("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),(0,t.createElement)("path",{d:"M9 12l2 2 4-4"})),color:"#00a32a",stats:{label:"Score",value:"87"},popular:!0},{id:"ai-assistant",name:"AI Assistant",description:"Generate SEO-optimized content with AI. Create titles, descriptions, and content suggestions automatically.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2z"}),(0,t.createElement)("circle",{cx:"9",cy:"13",r:"1"}),(0,t.createElement)("circle",{cx:"15",cy:"13",r:"1"}),(0,t.createElement)("path",{d:"M9 17h6"})),color:"#8b5cf6",stats:{label:"Credits",value:"250"},popular:!0},{id:"internal-linking",name:"Internal Linking",description:"Discover and manage internal link opportunities. Build a stronger site structure for better SEO.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),(0,t.createElement)("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"})),color:"#0891b2",stats:{label:"Links",value:"156"},popular:!1},{id:"schema-generator",name:"Schema Generator",description:"Generate structured data markup for rich snippets. Support for articles, products, FAQs, and more.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M4 6h16M4 12h16M4 18h10"}),(0,t.createElement)("path",{d:"M18 18l2-2-2-2"})),color:"#ea580c",stats:{label:"Types",value:"8"},popular:!1},{id:"keyword-tracker",name:"Keyword Tracker",description:"Monitor keyword rankings over time. Track your positions in search results and see trends.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M3 3v18h18"}),(0,t.createElement)("path",{d:"M18 9l-5 5-4-4-3 3"})),color:"#059669",stats:{label:"Keywords",value:"24"},popular:!1,comingSoon:!0},{id:"bulk-editor",name:"Bulk Editor",description:"Edit SEO titles and descriptions in bulk. Make changes to multiple posts at once efficiently.",icon:(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),(0,t.createElement)("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})),color:"#6366f1",stats:{label:"Posts",value:"45"},popular:!1,comingSoon:!0}],M=({onNavigate:e})=>{const[l,n]=(0,a.useState)(null),s=t=>{if(t.comingSoon)return;const a={redirects:"redirects","404-log":"404-log",audit:"audit","ai-assistant":"ai-assistant","internal-linking":"internal-linking"}[t.id];a&&e&&e(a)},c=F.filter(e=>e.popular),r=F.filter(e=>!e.popular);return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Tools"),(0,t.createElement)("p",null,"SEO utilities and helpers to optimize your website."))),(0,t.createElement)("section",{className:"tools-section"},(0,t.createElement)("h2",{className:"tools-section__title"},"Popular Tools"),(0,t.createElement)("div",{className:"tools-grid tools-grid--large"},c.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:`tool-card ${e.comingSoon?"tool-card--disabled":""} ${l===e.id?"tool-card--hover":""}`,onClick:()=>s(e),onMouseEnter:()=>n(e.id),onMouseLeave:()=>n(null),disabled:e.comingSoon},(0,t.createElement)("div",{className:"tool-card__icon",style:{backgroundColor:`${e.color}15`,color:e.color}},e.icon),(0,t.createElement)("div",{className:"tool-card__content"},(0,t.createElement)("div",{className:"tool-card__header"},(0,t.createElement)("h3",{className:"tool-card__name"},e.name),e.comingSoon&&(0,t.createElement)("span",{className:"tool-card__badge"},"Coming Soon")),(0,t.createElement)("p",{className:"tool-card__desc"},e.description)),e.stats&&!e.comingSoon&&(0,t.createElement)("div",{className:"tool-card__stats",style:{color:e.color}},(0,t.createElement)("span",{className:"tool-card__stat-value"},e.stats.value),(0,t.createElement)("span",{className:"tool-card__stat-label"},e.stats.label)),(0,t.createElement)("div",{className:"tool-card__arrow",style:{color:e.color}},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}))))))),(0,t.createElement)("section",{className:"tools-section"},(0,t.createElement)("h2",{className:"tools-section__title"},"More Tools"),(0,t.createElement)("div",{className:"tools-grid tools-grid--small"},r.map(e=>(0,t.createElement)("button",{key:e.id,type:"button",className:"tool-card tool-card--compact "+(e.comingSoon?"tool-card--disabled":""),onClick:()=>s(e),disabled:e.comingSoon},(0,t.createElement)("div",{className:"tool-card__icon tool-card__icon--small",style:{backgroundColor:`${e.color}15`,color:e.color}},e.icon),(0,t.createElement)("div",{className:"tool-card__content"},(0,t.createElement)("div",{className:"tool-card__header"},(0,t.createElement)("h3",{className:"tool-card__name"},e.name),e.comingSoon&&(0,t.createElement)("span",{className:"tool-card__badge"},"Soon")),(0,t.createElement)("p",{className:"tool-card__desc"},e.description)))))))},P=[{value:301,label:"301 Permanent"},{value:302,label:"302 Temporary"},{value:307,label:"307"},{value:410,label:"410 Gone"}],O=()=>{const[e,l]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(""),[o,m]=(0,a.useState)(""),[d,p]=(0,a.useState)(301),[u,E]=(0,a.useState)(!1),[g,v]=(0,a.useState)(""),[h,b]=(0,a.useState)([]),[N,y]=(0,a.useState)(!0),_=(0,a.useCallback)(async()=>{s(!0);try{const e=await c()({path:"/wpseopilot/v2/redirects"});e.success&&l(e.data)}catch(e){console.error("Failed to fetch redirects:",e)}finally{s(!1)}},[]),f=(0,a.useCallback)(async()=>{y(!0);try{const e=await c()({path:"/wpseopilot/v2/slug-suggestions"});e.success&&b(e.data)}catch(e){console.error("Failed to fetch suggestions:",e)}finally{y(!1)}},[]);return(0,a.useEffect)(()=>{_(),f();const e=sessionStorage.getItem("wpseopilot_redirect_source");e&&(i(e),sessionStorage.removeItem("wpseopilot_redirect_source"),setTimeout(()=>{document.getElementById("redirect-target")?.focus()},100))},[_,f]),(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Redirects"),(0,t.createElement)("p",null,"Create and manage URL redirects to maintain SEO value when URLs change.")),(0,t.createElement)("button",{type:"button",className:"button ghost"},"Import Redirects")),(0,t.createElement)("section",{className:"panel"},!N&&h.length>0&&(0,t.createElement)("div",{className:"alert-card warning",style:{marginBottom:"24px"}},(0,t.createElement)("div",{className:"alert-header"},(0,t.createElement)("h3",null,"Detected Slug Changes")),(0,t.createElement)("p",{className:"muted"},"The following posts have changed their URL structure. Create redirects to prevent 404 errors."),(0,t.createElement)("table",{className:"data-table suggestions-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Old Path"),(0,t.createElement)("th",null,"New Target"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,h.map(e=>(0,t.createElement)("tr",{key:e.key},(0,t.createElement)("td",null,(0,t.createElement)("code",null,e.source)),(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},e.target)),(0,t.createElement)("td",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(async e=>{try{(await c()({path:`/wpseopilot/v2/slug-suggestions/${e}/apply`,method:"POST"})).success&&(b(h.filter(t=>t.key!==e)),_())}catch(e){console.error("Failed to apply suggestion:",e)}})(e.key)},"Apply"),(0,t.createElement)("button",{type:"button",className:"button ghost small",onClick:()=>(e=>{i(e.source),m(e.target),p(301),document.getElementById("redirect-source")?.focus()})(e)},"Use"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>(async e=>{try{await c()({path:`/wpseopilot/v2/slug-suggestions/${e}/dismiss`,method:"POST"}),b(h.filter(t=>t.key!==e))}catch(e){console.error("Failed to dismiss suggestion:",e)}})(e.key)},"Dismiss"))))))),(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Active Redirects"),(0,t.createElement)("p",{className:"muted"},e.length," redirect",1!==e.length?"s":""," configured."))),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),v(""),E(!0);try{const t=await c()({path:"/wpseopilot/v2/redirects",method:"POST",data:{source:r,target:o,status_code:d}});t.success?(l([t.data,...e]),i(""),m(""),p(301),f()):v(t.message||"Failed to create redirect")}catch(e){v(e.message||"Failed to create redirect")}finally{E(!1)}},className:"redirect-form"},(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"redirect-source"},"Source Path"),(0,t.createElement)("input",{type:"text",id:"redirect-source",placeholder:"/old-url",value:r,onChange:e=>i(e.target.value),required:!0})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"redirect-target"},"Target URL"),(0,t.createElement)("input",{type:"url",id:"redirect-target",placeholder:"https://example.com/new-url",value:o,onChange:e=>m(e.target.value),required:!0})),(0,t.createElement)("div",{className:"form-field narrow"},(0,t.createElement)("label",{htmlFor:"redirect-status"},"Status"),(0,t.createElement)("select",{id:"redirect-status",value:d,onChange:e=>p(parseInt(e.target.value,10))},P.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("div",{className:"form-field button-field"},(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:u},u?"Adding...":"Add Redirect"))),g&&(0,t.createElement)("p",{className:"form-error"},g)),n?(0,t.createElement)("div",{className:"loading-state"},"Loading redirects..."):0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"48",height:"48"},(0,t.createElement)("path",{d:"M9 18l6-6-6-6"}),(0,t.createElement)("path",{d:"M15 6l-6 6 6 6",opacity:"0.5"}))),(0,t.createElement)("h3",null,"No redirects configured"),(0,t.createElement)("p",null,"Add your first redirect using the form above.")):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Source"),(0,t.createElement)("th",null,"Target"),(0,t.createElement)("th",null,"Status"),(0,t.createElement)("th",null,"Hits"),(0,t.createElement)("th",null,"Last Hit"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,e.map(a=>(0,t.createElement)("tr",{key:a.id},(0,t.createElement)("td",null,(0,t.createElement)("code",null,a.source)),(0,t.createElement)("td",null,(0,t.createElement)("a",{href:a.target,target:"_blank",rel:"noopener noreferrer"},a.target)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+(301===a.status_code?"success":"warning")},a.status_code)),(0,t.createElement)("td",null,a.hits),(0,t.createElement)("td",null,(e=>{if(!e||"0000-00-00 00:00:00"===e)return"-";const t=new Date(e);return t.toLocaleDateString()+", "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(a.last_hit)),(0,t.createElement)("td",null,(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this redirect?"))try{await c()({path:`/wpseopilot/v2/redirects/${t}`,method:"DELETE"}),l(e.filter(e=>e.id!==t))}catch(e){console.error("Failed to delete redirect:",e)}})(a.id)},"Delete"))))))))},I=[{value:"recent",label:"Most recent"},{value:"top",label:"Top hits"}],D=[25,50,100,200],R=({onNavigate:e})=>{const[l,n]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)(0),[m,d]=(0,a.useState)(1),[p,u]=(0,a.useState)(50),[E,g]=(0,a.useState)(1),[v,h]=(0,a.useState)("recent"),[b,N]=(0,a.useState)(!0),[y,_]=(0,a.useState)(!1),[f,k]=(0,a.useState)(!1),w=(0,a.useCallback)(async()=>{r(!0);try{const e=new URLSearchParams({sort:v,per_page:p,page:m,hide_spam:b?"1":"0",hide_images:y?"1":"0"}),t=await c()({path:`/wpseopilot/v2/404-log?${e}`});t.success&&(n(t.data.items),o(t.data.total),g(t.data.total_pages))}catch(e){console.error("Failed to fetch 404 log:",e)}finally{r(!1)}},[v,p,m,b,y]);return(0,a.useEffect)(()=>{w()},[w]),(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"404 Log"),(0,t.createElement)("p",null,"Monitor broken links and create redirects to fix them.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:async()=>{if(window.confirm("Are you sure you want to clear the entire 404 log? This cannot be undone.")){k(!0);try{await c()({path:"/wpseopilot/v2/404-log",method:"DELETE"}),n([]),o(0),g(1),d(1)}catch(e){console.error("Failed to clear log:",e)}finally{k(!1)}}},disabled:f||0===l.length},f?"Clearing...":"Clear Log"))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",{className:"stats-bar"},(0,t.createElement)("div",{className:"stat-box"},(0,t.createElement)("span",{className:"stat-box__value"},i.toLocaleString()),(0,t.createElement)("span",{className:"stat-box__label"},"Total Entries")),(0,t.createElement)("div",{className:"stat-box"},(0,t.createElement)("span",{className:"stat-box__value"},l.filter(e=>!e.redirect_exists).length),(0,t.createElement)("span",{className:"stat-box__label"},"Need Redirect")))),(0,t.createElement)("div",{className:"filter-form"},(0,t.createElement)("div",{className:"filter-row"},(0,t.createElement)("label",{className:"filter-field"},(0,t.createElement)("span",null,"Sort by"),(0,t.createElement)("select",{value:v,onChange:e=>{h(e.target.value),d(1)}},I.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,t.createElement)("label",{className:"filter-field"},(0,t.createElement)("span",null,"Rows per page"),(0,t.createElement)("select",{value:p,onChange:e=>{u(parseInt(e.target.value,10)),d(1)}},D.map(e=>(0,t.createElement)("option",{key:e,value:e},e)))),(0,t.createElement)("label",{className:"filter-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:b,onChange:e=>{N(e.target.checked),d(1)}}),(0,t.createElement)("span",null,"Hide spammy extensions")),(0,t.createElement)("label",{className:"filter-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:y,onChange:e=>{_(e.target.checked),d(1)}}),(0,t.createElement)("span",null,"Hide image extensions")))),s?(0,t.createElement)("div",{className:"loading-state"},"Loading 404 log..."):0===l.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"48",height:"48"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("path",{d:"M9 9l6 6m0-6l-6 6"}))),(0,t.createElement)("h3",null,"No 404 errors logged"),(0,t.createElement)("p",null,"Great news! Your site doesn't have any broken links recorded yet.")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Request URL"),(0,t.createElement)("th",null,"Hits"),(0,t.createElement)("th",null,"Last Seen"),(0,t.createElement)("th",null,"Device"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,l.map(a=>(0,t.createElement)("tr",{key:a.id},(0,t.createElement)("td",{className:"url-cell"},(0,t.createElement)("code",null,a.request_uri),a.redirect_exists&&(0,t.createElement)("span",{className:"badge success"},"Redirect exists")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"hits-badge "+(a.hits>10?"high":a.hits>5?"medium":"")},a.hits)),(0,t.createElement)("td",null,(e=>{if(!e||"0000-00-00 00:00:00"===e)return"-";const t=new Date(e);return t.toLocaleDateString()+", "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(a.last_seen)),(0,t.createElement)("td",null,a.device_label),(0,t.createElement)("td",null,a.redirect_exists?(0,t.createElement)("span",{className:"muted"},"-"):(0,t.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(t=>{sessionStorage.setItem("wpseopilot_redirect_source",t.request_uri),e&&e("redirects")})(a)},"Create Redirect")))))),E>1&&(0,t.createElement)("div",{className:"pagination"},(0,t.createElement)("span",{className:"pagination-info"},i.toLocaleString()," ",1===i?"item":"items"),(0,t.createElement)("div",{className:"pagination-links"},(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:m<=1,onClick:()=>d(m-1)},"‹ Previous"),(0,t.createElement)("span",{className:"pagination-current"},m," of ",E),(0,t.createElement)("button",{type:"button",className:"pagination-btn",disabled:m>=E,onClick:()=>d(m+1)},"Next ›"))))))},B=[{id:"rules",label:"Rules"},{id:"categories",label:"Categories"},{id:"utm-templates",label:"UTM Templates"},{id:"settings",label:"Settings"}],z=["h1","h2","h3","h4","h5","h6"],V=({rules:e,rulesLoading:a,categories:l,templates:n,selectedRules:s,filterStatus:c,filterCategory:r,filterSearch:i,bulkAction:o,bulkCategory:m,onFilterStatus:d,onFilterCategory:p,onFilterSearch:u,onSelectAll:E,onSelectRule:g,onEditRule:v,onDeleteRule:h,onToggleRule:b,onDuplicateRule:N,onBulkAction:y,onBulkCategory:_,onApplyBulk:f,onAddRule:k,getCategoryById:w,getTemplateById:x})=>{const C=c||r||i;return(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Linking Rules"),(0,t.createElement)("p",{className:"muted"},"Define keywords and their target URLs for automatic linking.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:k},"Add Rule")),(0,t.createElement)("div",{className:"filters-bar"},(0,t.createElement)("div",{className:"filters-bar__filters"},(0,t.createElement)("select",{value:c,onChange:e=>d(e.target.value)},(0,t.createElement)("option",{value:""},"All statuses"),(0,t.createElement)("option",{value:"active"},"Active"),(0,t.createElement)("option",{value:"inactive"},"Inactive")),(0,t.createElement)("select",{value:r,onChange:e=>p(e.target.value)},(0,t.createElement)("option",{value:""},"All categories"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))),(0,t.createElement)("input",{type:"search",placeholder:"Search rules...",value:i,onChange:e=>u(e.target.value)}),C&&(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>{d(""),p(""),u("")}},"Clear"))),a?(0,t.createElement)("div",{className:"loading-state"},"Loading rules..."):0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("div",{className:"empty-state__icon"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"48",height:"48"},(0,t.createElement)("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),(0,t.createElement)("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"}))),(0,t.createElement)("h3",null,C?"No rules match your filters":"No linking rules yet"),(0,t.createElement)("p",null,C?"Try adjusting your filters.":"Create your first internal link rule to get started."),!C&&(0,t.createElement)("button",{type:"button",className:"button primary",onClick:k},"Create Rule")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"check-column"},(0,t.createElement)("input",{type:"checkbox",checked:s.length===e.length&&e.length>0,onChange:E})),(0,t.createElement)("th",null,"Title"),(0,t.createElement)("th",null,"Category"),(0,t.createElement)("th",null,"Keywords"),(0,t.createElement)("th",null,"Destination"),(0,t.createElement)("th",null,"Status"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>{const a=w(e.category);return(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",{className:"check-column"},(0,t.createElement)("input",{type:"checkbox",checked:s.includes(e.id),onChange:()=>g(e.id)})),(0,t.createElement)("td",null,(0,t.createElement)("strong",null,(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>v(e)},e.title))),(0,t.createElement)("td",null,a?(0,t.createElement)("span",{className:"category-pill",style:{"--pill-color":a.color}},a.name):(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"keywords-preview"},(e.keywords||[]).slice(0,3).join(", "),(e.keywords||[]).length>3&&(0,t.createElement)("span",{className:"muted"}," +",e.keywords.length-3))),(0,t.createElement)("td",null,e.destination_url?(0,t.createElement)("a",{href:e.destination_url,target:"_blank",rel:"noopener noreferrer",className:"destination-link"},e.destination_label):(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"pill "+("active"===e.status?"success":"muted")},"active"===e.status?"Active":"Inactive")),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>v(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>N(e.id)},"Duplicate"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>b(e.id)},"active"===e.status?"Deactivate":"Activate"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>h(e.id)},"Delete"))))}))),s.length>0&&(0,t.createElement)("div",{className:"bulk-actions"},(0,t.createElement)("span",{className:"bulk-actions__count"},s.length," selected"),(0,t.createElement)("select",{value:o,onChange:e=>y(e.target.value)},(0,t.createElement)("option",{value:""},"Bulk actions"),(0,t.createElement)("option",{value:"activate"},"Activate"),(0,t.createElement)("option",{value:"deactivate"},"Deactivate"),(0,t.createElement)("option",{value:"change_category"},"Change category"),(0,t.createElement)("option",{value:"delete"},"Delete")),"change_category"===o&&(0,t.createElement)("select",{value:m,onChange:e=>_(e.target.value)},(0,t.createElement)("option",{value:"__none__"},"Remove category"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))),(0,t.createElement)("button",{type:"button",className:"button",onClick:f,disabled:!o},"Apply"))))},$=({categories:e,templates:a,onEdit:l,onDelete:n,onAdd:s})=>(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Rule Categories"),(0,t.createElement)("p",{className:"muted"},"Group rules, pick a color, and set per-category limits.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:s},"Add Category")),0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("h3",null,"No categories yet"),(0,t.createElement)("p",null,"Create categories to organize your linking rules."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:s},"Create Category")):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Name"),(0,t.createElement)("th",null,"Color"),(0,t.createElement)("th",null,"Default UTM"),(0,t.createElement)("th",null,"Cap"),(0,t.createElement)("th",null,"Rules"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>{const s=(c=e.default_utm,a.find(e=>e.id===c));var c;return(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name),e.description&&(0,t.createElement)("div",{className:"muted small"},e.description)),(0,t.createElement)("td",null,(0,t.createElement)("span",{className:"color-chip",style:{backgroundColor:e.color}})),(0,t.createElement)("td",null,s?s.name:(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.category_cap||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.rule_count||0),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>l(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>n(e.id)},"Delete"))))})))),W=({templates:e,onEdit:a,onDelete:l,onAdd:n})=>(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"UTM Templates"),(0,t.createElement)("p",{className:"muted"},"Define reusable parameter sets for consistent tracking.")),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:n},"Add Template")),0===e.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("h3",null,"No UTM templates yet"),(0,t.createElement)("p",null,"Create templates to add tracking parameters to your links."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:n},"Create Template")):(0,t.createElement)("table",{className:"data-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Name"),(0,t.createElement)("th",null,"utm_source"),(0,t.createElement)("th",null,"utm_medium"),(0,t.createElement)("th",null,"utm_campaign"),(0,t.createElement)("th",null,"Apply to"),(0,t.createElement)("th",null,"Mode"),(0,t.createElement)("th",null,"Actions"))),(0,t.createElement)("tbody",null,e.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,(0,t.createElement)("strong",null,e.name)),(0,t.createElement)("td",null,e.utm_source||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.utm_medium||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,e.utm_campaign||(0,t.createElement)("span",{className:"muted"},"—")),(0,t.createElement)("td",null,(e=>{switch(e){case"internal":return"Internal only";case"external":return"External only";default:return"Both"}})(e.apply_to)),(0,t.createElement)("td",null,(e=>{switch(e){case"always_overwrite":return"Always overwrite";case"never":return"Never overwrite";default:return"Append if missing"}})(e.append_mode)),(0,t.createElement)("td",null,(0,t.createElement)("div",{className:"action-buttons"},(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>a(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"link-button danger",onClick:()=>l(e.id)},"Delete")))))))),U=({settings:e,onChange:a,onSave:l})=>{const n=(t,l)=>{a({...e,[t]:l})};return(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"table-toolbar"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Module Settings"),(0,t.createElement)("p",{className:"muted"},"Configure how internal links are applied to your content."))),(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h4",{className:"settings-section__title"},"Global Defaults"),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"default-max-links"},"Default max links per page"),(0,t.createElement)("p",{className:"settings-help"},"0 means no limit.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"default-max-links",type:"number",min:"0",max:"50",value:e.default_max_links_per_page||0,onChange:e=>n("default_max_links_per_page",parseInt(e.target.value,10)||0),style:{width:"80px"}}))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Default heading behavior"),(0,t.createElement)("p",{className:"settings-help"},"Control whether links can appear in headings.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"radio-group"},["none","selected","all"].map(a=>(0,t.createElement)("label",{key:a,className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"heading_behavior",value:a,checked:e.default_heading_behavior===a,onChange:()=>n("default_heading_behavior",a)}),(0,t.createElement)("span",null,a.charAt(0).toUpperCase()+a.slice(1))))),"selected"===e.default_heading_behavior&&(0,t.createElement)("div",{className:"checkbox-group",style:{marginTop:"8px"}},z.map(a=>(0,t.createElement)("label",{key:a,className:"checkbox-item"},(0,t.createElement)("input",{type:"checkbox",checked:(e.default_heading_levels||[]).includes(a),onChange:()=>(t=>{const a=e.default_heading_levels||[];a.includes(t)?n("default_heading_levels",a.filter(e=>e!==t)):n("default_heading_levels",[...a,t])})(a)}),(0,t.createElement)("span",null,a.toUpperCase()))))))),(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h4",{className:"settings-section__title"},"Safeties"),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"avoid-existing"},"Avoid replacing inside existing links")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"avoid-existing",type:"checkbox",checked:e.avoid_existing_links,onChange:e=>n("avoid_existing_links",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"word-boundaries"},"Prefer word boundaries")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"word-boundaries",type:"checkbox",checked:e.prefer_word_boundaries,onChange:e=>n("prefer_word_boundaries",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"normalize-accents"},"Normalize accents/diacritics")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"normalize-accents",type:"checkbox",checked:e.normalize_accents,onChange:e=>n("normalize_accents",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h4",{className:"settings-section__title"},"Performance"),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"cache-content"},"Cache rendered content")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"cache-content",type:"checkbox",checked:e.cache_rendered_content,onChange:e=>n("cache_rendered_content",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"chunk-docs"},"Chunk long documents"),(0,t.createElement)("p",{className:"settings-help"},"Prevents timeouts on large content.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{id:"chunk-docs",type:"checkbox",checked:e.chunk_long_documents,onChange:e=>n("chunk_long_documents",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("div",{className:"panel-footer"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:l},"Save Settings")))},G=({rule:e,categories:l,templates:n,onClose:s,onSave:r})=>{const i=!!e,[o,m]=(0,a.useState)(()=>e?{...e}:{title:"",category:"",keywords:[],destination:{type:"post",post:0,url:""},utm_template:"inherit",attributes:{nofollow:!1,new_tab:!1},limits:{max_page:1},status:"active"}),[d,p]=(0,a.useState)(""),[u,E]=(0,a.useState)(""),[g,v]=(0,a.useState)([]),[h,b]=(0,a.useState)(null),[N,y]=(0,a.useState)(!1),[_,f]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&"post"===e.destination?.type&&e.destination?.post&&b({id:e.destination.post,title:e.destination_label||"Loading..."})},[e]),(0,a.useEffect)(()=>{if(u.length<2)return void v([]);const e=setTimeout(async()=>{try{const e=await c()({path:`/wpseopilot/v2/internal-links/search-posts?search=${encodeURIComponent(u)}`});e.success&&v(e.data)}catch(e){console.error("Post search failed:",e)}},300);return()=>clearTimeout(e)},[u]);const k=(e,t)=>m(a=>({...a,[e]:t})),w=(e,t,a)=>m(l=>({...l,[e]:{...l[e],[t]:a}})),x=()=>{const e=d.trim();e&&!o.keywords.includes(e)&&(k("keywords",[...o.keywords,e]),p(""))};return(0,t.createElement)("div",{className:"modal-overlay",onClick:s},(0,t.createElement)("div",{className:"modal modal--large",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,i?"Edit Rule":"Add Rule"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:s},"×")),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),f(""),y(!0);try{const t=i?`/wpseopilot/v2/internal-links/rules/${e.id}`:"/wpseopilot/v2/internal-links/rules",a=await c()({path:t,method:i?"PUT":"POST",data:o});a.success?r(a.data):f(a.message||"Failed to save rule")}catch(e){f(e.message||"Failed to save rule")}finally{y(!1)}}},(0,t.createElement)("div",{className:"modal__body"},_&&(0,t.createElement)("div",{className:"form-error"},_),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"rule-title"},"Title"),(0,t.createElement)("input",{id:"rule-title",type:"text",value:o.title,onChange:e=>k("title",e.target.value),placeholder:"e.g., Link to Services page",required:!0})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"rule-category"},"Category"),(0,t.createElement)("select",{id:"rule-category",value:o.category,onChange:e=>k("category",e.target.value)},(0,t.createElement)("option",{value:""},"None"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Status"),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:"active"===o.status,onChange:e=>k("status",e.target.checked?"active":"inactive")}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Destination"),(0,t.createElement)("div",{className:"radio-group",style:{marginBottom:"12px"}},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"destination_type",checked:"post"===o.destination.type,onChange:()=>w("destination","type","post")}),(0,t.createElement)("span",null,"Post/Page")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"destination_type",checked:"url"===o.destination.type,onChange:()=>w("destination","type","url")}),(0,t.createElement)("span",null,"Custom URL"))),"post"===o.destination.type?h?(0,t.createElement)("div",{className:"selected-post"},(0,t.createElement)("span",null,h.title),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>{b(null),w("destination","post",0)}},"Change")):(0,t.createElement)("div",{className:"post-search"},(0,t.createElement)("input",{type:"text",placeholder:"Search posts...",value:u,onChange:e=>E(e.target.value)}),g.length>0&&(0,t.createElement)("ul",{className:"post-search__results"},g.map(e=>(0,t.createElement)("li",{key:e.id},(0,t.createElement)("button",{type:"button",onClick:()=>(e=>{b(e),w("destination","post",e.id),w("destination","type","post"),E(""),v([])})(e)},e.title," ",(0,t.createElement)("span",{className:"muted"},"(",e.post_type,")")))))):(0,t.createElement)("input",{type:"url",value:o.destination.url,onChange:e=>w("destination","url",e.target.value),placeholder:"https://example.com"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Keywords"),(0,t.createElement)("div",{className:"tag-input"},(0,t.createElement)("div",{className:"tag-input__tags"},o.keywords.map(e=>(0,t.createElement)("span",{key:e,className:"tag"},e,(0,t.createElement)("button",{type:"button",onClick:()=>(e=>k("keywords",o.keywords.filter(t=>t!==e)))(e)},"×")))),(0,t.createElement)("input",{type:"text",placeholder:"Type and press Enter",value:d,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),x())},onBlur:x}))),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field narrow"},(0,t.createElement)("label",{htmlFor:"max-page"},"Max per page"),(0,t.createElement)("input",{id:"max-page",type:"number",min:"0",max:"50",value:o.limits?.max_page||1,onChange:e=>w("limits","max_page",parseInt(e.target.value,10)||1)})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Options"),(0,t.createElement)("div",{className:"checkbox-group"},(0,t.createElement)("label",{className:"checkbox-item"},(0,t.createElement)("input",{type:"checkbox",checked:o.attributes?.nofollow,onChange:e=>w("attributes","nofollow",e.target.checked)}),(0,t.createElement)("span",null,"nofollow")),(0,t.createElement)("label",{className:"checkbox-item"},(0,t.createElement)("input",{type:"checkbox",checked:o.attributes?.new_tab,onChange:e=>w("attributes","new_tab",e.target.checked)}),(0,t.createElement)("span",null,"New tab")))))),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:s},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:N},N?"Saving...":i?"Update":"Create")))))},j=({category:e,templates:l,onClose:n,onSave:s})=>{const r=!!e,[i,o]=(0,a.useState)(()=>e?{...e}:{name:"",color:"#4F46E5",description:"",default_utm:"",category_cap:0}),[m,d]=(0,a.useState)(!1),[p,u]=(0,a.useState)("");return(0,t.createElement)("div",{className:"modal-overlay",onClick:n},(0,t.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,r?"Edit Category":"Add Category"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:n},"×")),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),u(""),d(!0);try{const t=r?`/wpseopilot/v2/internal-links/categories/${e.id}`:"/wpseopilot/v2/internal-links/categories",a=r?"PUT":"POST",l=await c()({path:t,method:a,data:i});l.success?s(l.data):u(l.message||"Failed to save category")}catch(e){u(e.message||"Failed to save category")}finally{d(!1)}}},(0,t.createElement)("div",{className:"modal__body"},p&&(0,t.createElement)("div",{className:"form-error"},p),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-name"},"Name"),(0,t.createElement)("input",{id:"cat-name",type:"text",value:i.name,onChange:e=>o({...i,name:e.target.value}),required:!0})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-color"},"Color"),(0,t.createElement)("input",{id:"cat-color",type:"color",value:i.color,onChange:e=>o({...i,color:e.target.value})})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-desc"},"Description"),(0,t.createElement)("textarea",{id:"cat-desc",rows:"3",value:i.description,onChange:e=>o({...i,description:e.target.value})})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-utm"},"Default UTM Template"),(0,t.createElement)("select",{id:"cat-utm",value:i.default_utm,onChange:e=>o({...i,default_utm:e.target.value})},(0,t.createElement)("option",{value:""},"None"),l.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"cat-cap"},"Category-level cap (per page)"),(0,t.createElement)("input",{id:"cat-cap",type:"number",min:"0",max:"50",value:i.category_cap||"",onChange:e=>o({...i,category_cap:parseInt(e.target.value,10)||0}),placeholder:"0 = no extra cap"}))),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:n},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:m},m?"Saving...":r?"Update Category":"Create Category")))))},H=({template:e,onClose:l,onSave:n})=>{const s=!!e,[r,i]=(0,a.useState)(()=>e?{...e}:{name:"",utm_source:"",utm_medium:"",utm_campaign:"",apply_to:"both"}),[o,m]=(0,a.useState)(!1),[d,p]=(0,a.useState)("");return(0,t.createElement)("div",{className:"modal-overlay",onClick:l},(0,t.createElement)("div",{className:"modal",onClick:e=>e.stopPropagation()},(0,t.createElement)("div",{className:"modal__header"},(0,t.createElement)("h2",null,s?"Edit Template":"Add Template"),(0,t.createElement)("button",{type:"button",className:"modal__close",onClick:l},"×")),(0,t.createElement)("form",{onSubmit:async t=>{t.preventDefault(),p(""),m(!0);try{const t=s?`/wpseopilot/v2/internal-links/templates/${e.id}`:"/wpseopilot/v2/internal-links/templates",a=await c()({path:t,method:s?"PUT":"POST",data:r});a.success?n(a.data):p(a.message||"Failed to save template")}catch(e){p(e.message||"Failed to save template")}finally{m(!1)}}},(0,t.createElement)("div",{className:"modal__body"},d&&(0,t.createElement)("div",{className:"form-error"},d),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-name"},"Name"),(0,t.createElement)("input",{id:"tpl-name",type:"text",value:r.name,onChange:e=>i({...r,name:e.target.value}),required:!0})),(0,t.createElement)("div",{className:"form-row"},(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-source"},"utm_source"),(0,t.createElement)("input",{id:"tpl-source",type:"text",value:r.utm_source||"",onChange:e=>i({...r,utm_source:e.target.value}),placeholder:"e.g., website"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-medium"},"utm_medium"),(0,t.createElement)("input",{id:"tpl-medium",type:"text",value:r.utm_medium||"",onChange:e=>i({...r,utm_medium:e.target.value}),placeholder:"e.g., internal_link"}))),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",{htmlFor:"tpl-campaign"},"utm_campaign"),(0,t.createElement)("input",{id:"tpl-campaign",type:"text",value:r.utm_campaign||"",onChange:e=>i({...r,utm_campaign:e.target.value}),placeholder:"e.g., cross_selling"})),(0,t.createElement)("div",{className:"form-field"},(0,t.createElement)("label",null,"Apply to"),(0,t.createElement)("div",{className:"radio-group"},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"apply_to",checked:"internal"===r.apply_to,onChange:()=>i({...r,apply_to:"internal"})}),(0,t.createElement)("span",null,"Internal")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"apply_to",checked:"external"===r.apply_to,onChange:()=>i({...r,apply_to:"external"})}),(0,t.createElement)("span",null,"External")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"apply_to",checked:"both"===r.apply_to,onChange:()=>i({...r,apply_to:"both"})}),(0,t.createElement)("span",null,"Both"))))),(0,t.createElement)("div",{className:"modal__footer"},(0,t.createElement)("button",{type:"button",className:"button ghost",onClick:l},"Cancel"),(0,t.createElement)("button",{type:"submit",className:"button primary",disabled:o},o?"Saving...":s?"Update":"Create")))))},q=()=>{const[e,l]=N({tabs:B,defaultTab:"rules"}),[n,s]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),[E,g]=(0,a.useState)({}),[v,h]=(0,a.useState)({total_rules:0,active_rules:0,categories:0,utm_templates:0}),[b,y]=(0,a.useState)(""),[_,f]=(0,a.useState)(""),[k,w]=(0,a.useState)(""),[x,C]=(0,a.useState)([]),[S,T]=(0,a.useState)(""),[L,A]=(0,a.useState)(""),[F,M]=(0,a.useState)(!1),[P,O]=(0,a.useState)(null),[I,D]=(0,a.useState)(!1),[R,z]=(0,a.useState)(null),[q,Y]=(0,a.useState)(!1),[K,J]=(0,a.useState)(null),X=(0,a.useCallback)(async()=>{i(!0);try{const[e,t,a,l,n]=await Promise.all([c()({path:"/wpseopilot/v2/internal-links/rules"}),c()({path:"/wpseopilot/v2/internal-links/categories"}),c()({path:"/wpseopilot/v2/internal-links/templates"}),c()({path:"/wpseopilot/v2/internal-links/settings"}),c()({path:"/wpseopilot/v2/internal-links/stats"})]);e.success&&s(e.data),t.success&&m(t.data),a.success&&u(a.data),l.success&&g(l.data),n.success&&h(n.data)}catch(e){console.error("Failed to fetch internal linking data:",e)}finally{i(!1)}},[]);(0,a.useEffect)(()=>{X()},[X]);const Q=n.filter(e=>{if(b&&e.status!==b)return!1;if(_&&e.category!==_)return!1;if(k){const t=k.toLowerCase(),a=(e.title||"").toLowerCase().includes(t),l=(e.keywords||[]).some(e=>e.toLowerCase().includes(t));if(!a&&!l)return!1}return!0}),Z=e=>o.find(t=>t.id===e);return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Internal Linking"),(0,t.createElement)("p",null,"Automatically add internal links to your content based on keywords.")),(0,t.createElement)("div",{className:"page-header__stats"},(0,t.createElement)("div",{className:"stat-chip"},(0,t.createElement)("span",{className:"stat-chip__value"},v.active_rules),(0,t.createElement)("span",{className:"stat-chip__label"},"Active Rules")),(0,t.createElement)("div",{className:"stat-chip"},(0,t.createElement)("span",{className:"stat-chip__value"},v.categories),(0,t.createElement)("span",{className:"stat-chip__label"},"Categories")))),(0,t.createElement)(d,{tabs:B,activeTab:e,onChange:l,ariaLabel:"Internal linking sections"}),"rules"===e&&(0,t.createElement)(V,{rules:Q,rulesLoading:r,categories:o,templates:p,selectedRules:x,filterStatus:b,filterCategory:_,filterSearch:k,bulkAction:S,bulkCategory:L,onFilterStatus:y,onFilterCategory:f,onFilterSearch:w,onSelectAll:e=>{e.target.checked?C(Q.map(e=>e.id)):C([])},onSelectRule:e=>{x.includes(e)?C(x.filter(t=>t!==e)):C([...x,e])},onEditRule:e=>{O(e),M(!0)},onDeleteRule:async e=>{if(window.confirm("Are you sure you want to delete this rule?"))try{await c()({path:`/wpseopilot/v2/internal-links/rules/${e}`,method:"DELETE"}),s(n.filter(t=>t.id!==e)),C(x.filter(t=>t!==e))}catch(e){console.error("Failed to delete rule:",e)}},onToggleRule:async e=>{try{const t=await c()({path:`/wpseopilot/v2/internal-links/rules/${e}/toggle`,method:"POST"});t.success&&s(n.map(a=>a.id===e?t.data:a))}catch(e){console.error("Failed to toggle rule:",e)}},onDuplicateRule:async e=>{try{const t=await c()({path:`/wpseopilot/v2/internal-links/rules/${e}/duplicate`,method:"POST"});t.success&&s([t.data,...n])}catch(e){console.error("Failed to duplicate rule:",e)}},onBulkAction:T,onBulkCategory:A,onApplyBulk:async()=>{if(S&&0!==x.length)try{const e={ids:x,action:S};"change_category"===S&&(e.category=L),await c()({path:"/wpseopilot/v2/internal-links/rules/bulk",method:"POST",data:e}),C([]),T(""),A(""),X()}catch(e){console.error("Failed to perform bulk action:",e)}},onAddRule:()=>{O(null),M(!0)},getCategoryById:Z,getTemplateById:e=>p.find(t=>t.id===e)}),"categories"===e&&(0,t.createElement)($,{categories:o,templates:p,onEdit:e=>{z(e),D(!0)},onDelete:async e=>{if(!Z(e))return;const t=n.filter(t=>t.category===e).length;let a=null;if(t>0){const e=`This category has ${t} rule(s). Delete anyway and remove category from rules?`;if(!window.confirm(e))return;a="__none__"}else if(!window.confirm("Are you sure you want to delete this category?"))return;try{await c()({path:`/wpseopilot/v2/internal-links/categories/${e}`,method:"DELETE",data:a?{reassign:a}:void 0}),m(o.filter(t=>t.id!==e)),a&&s(n.map(t=>t.category===e?{...t,category:""}:t))}catch(e){console.error("Failed to delete category:",e)}},onAdd:()=>{z(null),D(!0)}}),"utm-templates"===e&&(0,t.createElement)(W,{templates:p,onEdit:e=>{J(e),Y(!0)},onDelete:async e=>{if(window.confirm("Are you sure you want to delete this UTM template?"))try{await c()({path:`/wpseopilot/v2/internal-links/templates/${e}`,method:"DELETE"}),u(p.filter(t=>t.id!==e))}catch(e){console.error("Failed to delete template:",e)}},onAdd:()=>{J(null),Y(!0)}}),"settings"===e&&(0,t.createElement)(U,{settings:E,onChange:g,onSave:async()=>{try{const e=await c()({path:"/wpseopilot/v2/internal-links/settings",method:"POST",data:E});e.success&&g(e.data)}catch(e){console.error("Failed to save settings:",e)}}}),F&&(0,t.createElement)(G,{rule:P,categories:o,templates:p,onClose:()=>{M(!1),O(null)},onSave:e=>{s(P?n.map(t=>t.id===e.id?e:t):[e,...n]),M(!1),O(null)}}),I&&(0,t.createElement)(j,{category:R,templates:p,onClose:()=>{D(!1),z(null)},onSave:e=>{m(R?o.map(t=>t.id===e.id?e:t):[...o,e]),D(!1),z(null)}}),q&&(0,t.createElement)(H,{template:K,onClose:()=>{Y(!1),J(null)},onSave:e=>{u(K?p.map(t=>t.id===e.id?e:t):[...p,e]),Y(!1),J(null)}}))},Y={title_missing:"Missing Meta Title",title_length:"Title Too Long",description_missing:"Missing Meta Description",description_length:"Description Too Long",missing_alt:"Missing Alt Text",low_word_count:"Low Word Count",missing_h1:"Missing H1 Heading"},K={high:{label:"Critical",class:"danger",color:"var(--color-danger)"},medium:{label:"Warning",class:"warning",color:"var(--color-warning)"},low:{label:"Suggestion",class:"muted",color:"var(--color-muted)"}},J=()=>{const[e,l]=(0,a.useState)(!0),[n,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(null),[o,m]=(0,a.useState)({type:"",text:""}),[d,p]=(0,a.useState)(null),[u,E]=(0,a.useState)(null),g=(0,a.useCallback)(async()=>{l(!0);try{const e=await c()({path:"/wpseopilot/v2/audit"});e.success&&i(e.data)}catch(e){console.error("Failed to fetch audit:",e),m({type:"error",text:"Failed to load audit data."})}finally{l(!1)}},[]);if((0,a.useEffect)(()=>{g()},[g]),e)return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"SEO Audit"),(0,t.createElement)("p",null,"Scan your site for SEO issues and get actionable recommendations."))),(0,t.createElement)("div",{className:"loading-state"},"Loading audit data..."));const v=r?.stats||{severity:{high:0,medium:0,low:0},total:0},h=(()=>{if(!r?.issues)return{};const e={};return r.issues.forEach(t=>{e[t.type]||(e[t.type]=[]),e[t.type].push(t)}),e})();return(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"SEO Audit"),(0,t.createElement)("p",null,"Scan your site for SEO issues and get actionable recommendations.")),(0,t.createElement)("div",{className:"header-actions"},r?.from_cache&&(0,t.createElement)("span",{className:"cache-badge"},"Cached results"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{s(!0),m({type:"",text:""});try{const e=await c()({path:"/wpseopilot/v2/audit/run",method:"POST",data:{post_type:"any",limit:100}});e.success&&(i(e.data),m({type:"success",text:`Audit complete! Scanned ${e.data.scanned} posts.`}))}catch(e){console.error("Failed to run audit:",e),m({type:"error",text:"Failed to run audit."})}finally{s(!1)}},disabled:n},n?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Running Audit..."):"Run Full Audit"))),o.text&&(0,t.createElement)("div",{className:`notice-message ${o.type}`},o.text),(0,t.createElement)("div",{className:"audit-stats-grid"},(0,t.createElement)("div",{className:"audit-stat-card "+(v.severity.high>0?"has-issues":"no-issues")},(0,t.createElement)("div",{className:"audit-stat-icon danger"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 9v4M12 17h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},v.severity.high),(0,t.createElement)("div",{className:"audit-stat-label"},"Critical Issues"),(0,t.createElement)("div",{className:"audit-stat-desc"},0===v.severity.high?"All critical checks passed":"Issues severely impacting SEO"))),(0,t.createElement)("div",{className:"audit-stat-card "+(v.severity.medium>0?"has-issues":"no-issues")},(0,t.createElement)("div",{className:"audit-stat-icon warning"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},v.severity.medium),(0,t.createElement)("div",{className:"audit-stat-label"},"Warnings"),(0,t.createElement)("div",{className:"audit-stat-desc"},0===v.severity.medium?"No warnings found":"Issues that may affect rankings"))),(0,t.createElement)("div",{className:"audit-stat-card"},(0,t.createElement)("div",{className:"audit-stat-icon muted"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},v.severity.low),(0,t.createElement)("div",{className:"audit-stat-label"},"Suggestions"),(0,t.createElement)("div",{className:"audit-stat-desc"},0===v.severity.low?"No suggestions":"Optional improvements available"))),(0,t.createElement)("div",{className:"audit-stat-card info"},(0,t.createElement)("div",{className:"audit-stat-icon info"},(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"audit-stat-content"},(0,t.createElement)("div",{className:"audit-stat-number"},r?.scanned||0),(0,t.createElement)("div",{className:"audit-stat-label"},"Posts Scanned"),(0,t.createElement)("div",{className:"audit-stat-desc"},v.posts_with_issues||0," with issues")))),(0,t.createElement)("section",{className:"audit-section"},(0,t.createElement)("div",{className:"audit-section-header"},(0,t.createElement)("h2",null,"Issues by Type"),(0,t.createElement)("p",{className:"muted"},"Click on an issue type to see affected posts.")),0===Object.keys(h).length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{color:"var(--color-success)"}},(0,t.createElement)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,t.createElement)("h3",null,"No issues found!"),(0,t.createElement)("p",null,"Your site is in great SEO shape.")):(0,t.createElement)("div",{className:"audit-issues-list"},Object.entries(h).map(([e,a])=>{const l=(e=>e.some(e=>"high"===e.severity)?"high":e.some(e=>"medium"===e.severity)?"medium":"low")(a),n=K[l],s=d===e;return(0,t.createElement)("div",{key:e,className:"audit-issue-group "+(s?"expanded":"")},(0,t.createElement)("button",{type:"button",className:"audit-issue-header",onClick:()=>p(s?null:e)},(0,t.createElement)("div",{className:"audit-issue-info"},(0,t.createElement)("span",{className:`severity-dot ${n.class}`}),(0,t.createElement)("span",{className:"audit-issue-type"},Y[e]||e),(0,t.createElement)("span",{className:`pill ${n.class}`},a.length)),(0,t.createElement)("svg",{className:"chevron "+(s?"expanded":""),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M19 9l-7 7-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),s&&(0,t.createElement)("div",{className:"audit-issue-posts"},(0,t.createElement)("table",{className:"data-table compact"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Post"),(0,t.createElement)("th",null,"Issue"),(0,t.createElement)("th",null,"Action"))),(0,t.createElement)("tbody",null,a.map((e,a)=>(0,t.createElement)("tr",{key:a},(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer"},e.title)),(0,t.createElement)("td",null,e.message),(0,t.createElement)("td",null,(0,t.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer",className:"link-button"},"Edit Post"))))))))}))),r?.recommendations&&r.recommendations.length>0&&(0,t.createElement)("section",{className:"audit-section"},(0,t.createElement)("div",{className:"audit-section-header"},(0,t.createElement)("h2",null,"Quick Fixes"),(0,t.createElement)("p",{className:"muted"},"Apply suggested meta titles and descriptions with one click.")),(0,t.createElement)("div",{className:"recommendations-list"},r.recommendations.map(e=>(0,t.createElement)("div",{key:e.post_id,className:"recommendation-card"},(0,t.createElement)("div",{className:"recommendation-header"},(0,t.createElement)("h4",null,e.title),(0,t.createElement)("a",{href:e.edit_url,target:"_blank",rel:"noopener noreferrer",className:"link-button small"},"Edit Post")),(0,t.createElement)("div",{className:"recommendation-suggestions"},(0,t.createElement)("div",{className:"suggestion-item"},(0,t.createElement)("label",null,"Suggested Title"),(0,t.createElement)("div",{className:"suggestion-value"},e.suggested_title)),(0,t.createElement)("div",{className:"suggestion-item"},(0,t.createElement)("label",null,"Suggested Description"),(0,t.createElement)("div",{className:"suggestion-value"},e.suggested_description||"(No suggestion available)"))),(0,t.createElement)("div",{className:"recommendation-actions"},(0,t.createElement)("button",{type:"button",className:"button primary small",onClick:()=>(async e=>{E(e.post_id);try{(await c()({path:`/wpseopilot/v2/audit/apply/${e.post_id}`,method:"POST",data:{title:e.suggested_title,description:e.suggested_description}})).success&&(m({type:"success",text:`Applied recommendations to "${e.title}"`}),i(t=>({...t,recommendations:t.recommendations.filter(t=>t.post_id!==e.post_id)})))}catch(e){console.error("Failed to apply recommendation:",e),m({type:"error",text:"Failed to apply recommendation."})}finally{E(null)}})(e),disabled:u===e.post_id},u===e.post_id?"Applying...":"Apply Suggestions")))))))},X=[{id:"settings",label:"Settings"},{id:"custom-models",label:"Custom Models"}],Q={openai:{name:"OpenAI",logo:"https://models.dev/logos/openai.svg"},anthropic:{name:"Anthropic",logo:"https://models.dev/logos/anthropic.svg"},google:{name:"Google AI",logo:"https://models.dev/logos/google.svg"},openai_compatible:{name:"OpenAI Compatible",logo:null},lmstudio:{name:"LM Studio",logo:null},ollama:{name:"Ollama",logo:null}},Z=()=>{const[e,l]=N({tabs:X,defaultTab:"settings"}),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),[E,g]=(0,a.useState)({openai_api_key:"",api_key_configured:!1,ai_model:"gpt-4o-mini",ai_prompt_system:"",ai_prompt_title:"",ai_prompt_description:""}),[v,h]=(0,a.useState)([]),[b,y]=(0,a.useState)({configured:!1,status:"not_configured",message:"Not configured"}),[_,f]=(0,a.useState)(""),[k,w]=(0,a.useState)(""),[x,C]=(0,a.useState)(""),[S,T]=(0,a.useState)([]),[L,A]=(0,a.useState)(!1),[F,M]=(0,a.useState)([]),[P,O]=(0,a.useState)({models:[],last_sync:null}),[I,D]=(0,a.useState)(!1),[R,B]=(0,a.useState)(!1),[z,V]=(0,a.useState)(""),[$,W]=(0,a.useState)([]),[U,G]=(0,a.useState)(!1),[j,H]=(0,a.useState)(null),[q,Y]=(0,a.useState)(!1),[K,J]=(0,a.useState)({name:"",provider:"openai_compatible",model_id:"",api_url:"",api_key:"",temperature:.7,max_tokens:2048,is_active:!0}),[Z,ee]=(0,a.useState)(!1),[te,ae]=(0,a.useState)(null),[le,ne]=(0,a.useState)({type:"",text:""}),se=(0,a.useCallback)(async()=>{s(!0);try{const[e,t,a]=await Promise.all([c()({path:"/wpseopilot/v2/ai/settings"}),c()({path:"/wpseopilot/v2/ai/models"}),c()({path:"/wpseopilot/v2/ai/status"})]);e.success&&g(e.data),t.success&&h(t.data),a.success&&y(a.data)}catch(e){console.error("Failed to fetch AI settings:",e),ne({type:"error",text:"Failed to load AI settings."})}finally{s(!1)}},[]);(0,a.useEffect)(()=>{se()},[se]);const ce=(0,a.useCallback)(async()=>{A(!0);try{const[e,t]=await Promise.all([c()({path:"/wpseopilot/v2/ai/custom-models"}),c()({path:"/wpseopilot/v2/ai/providers"})]);e.success&&T(Array.isArray(e.data)?e.data:[]),t.success&&M(Array.isArray(t.data)?t.data:[])}catch(e){console.error("Failed to fetch custom models:",e)}finally{A(!1)}},[]),re=(0,a.useCallback)(async()=>{D(!0);try{const e=await c()({path:"/wpseopilot/v2/ai/models-database"});e.success&&e.data&&O({models:Array.isArray(e.data.models)?e.data.models:[],last_sync:e.data.last_sync||null})}catch(e){console.error("Failed to fetch models database:",e)}finally{D(!1)}},[]),ie=async()=>{B(!0);try{const e=await c()({path:"/wpseopilot/v2/ai/models-database/sync",method:"POST"});if(e.success&&e.data){const t=Array.isArray(e.data.models)?e.data.models:[];O({models:t,last_sync:e.data.last_sync||null}),ne({type:"success",text:`Synced ${t.length} models from models.dev`})}}catch(e){console.error("Failed to sync models database:",e),ne({type:"error",text:"Failed to sync models database."})}finally{B(!1)}};(0,a.useEffect)(()=>{const e=setTimeout(()=>{(async e=>{if(e.trim()){G(!0);try{const t=await c()({path:`/wpseopilot/v2/ai/models-database/search?query=${encodeURIComponent(e)}`});t.success&&W(Array.isArray(t.data)?t.data:[])}catch(e){console.error("Failed to search models:",e)}finally{G(!1)}}else W([])})(z)},300);return()=>clearTimeout(e)},[z]),(0,a.useEffect)(()=>{"custom-models"===e&&(ce(),re())},[e,ce,re]);const oe=e=>e?`$${parseFloat(e).toFixed(4)}/1k`:"-";return n?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"AI Assistant"),(0,t.createElement)("p",null,"Configure AI-powered SEO content generation."))),(0,t.createElement)("div",{className:"loading-state"},"Loading AI settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"AI Assistant"),(0,t.createElement)("p",null,"Configure AI-powered SEO content generation.")),(0,t.createElement)("div",{className:"header-actions"},(0,t.createElement)("div",{className:"api-status-badge "+(b.configured?"connected":"disconnected")},(0,t.createElement)("span",{className:"status-dot"}),b.configured?"Connected":"Not Connected"))),(0,t.createElement)(d,{tabs:X,activeTab:e,onChange:l,ariaLabel:"AI Assistant sections"}),le.text&&(0,t.createElement)("div",{className:`notice-message ${le.type}`},le.text),"settings"===e?(0,t.createElement)("div",{className:"ai-settings-layout"},(0,t.createElement)("div",{className:"ai-config-column"},(0,t.createElement)("div",{className:"ai-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Connection"),(0,t.createElement)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"link-button"},"Get API Key")),(0,t.createElement)("div",{className:"ai-card-body"},(0,t.createElement)("div",{className:"ai-form-grid"},(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"openai-api-key"},"API Key"),(0,t.createElement)("input",{type:"password",id:"openai-api-key",value:E.openai_api_key,onChange:e=>g(t=>({...t,openai_api_key:e.target.value})),placeholder:"sk-...",autoComplete:"off"})),(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"ai-model"},"Model"),(0,t.createElement)("select",{id:"ai-model",value:E.ai_model,onChange:e=>g(t=>({...t,ai_model:e.target.value}))},v.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))))),(0,t.createElement)("div",{className:"ai-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Prompt Configuration"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:async()=>{if(window.confirm("Reset prompts to defaults? Your API key will be preserved.")){m(!0),ne({type:"",text:""});try{const e=await c()({path:"/wpseopilot/v2/ai/reset",method:"POST"});e.success&&(g(t=>({...t,...e.data})),ne({type:"success",text:"Prompts restored to defaults."}))}catch(e){console.error("Failed to reset settings:",e),ne({type:"error",text:"Failed to reset settings."})}finally{m(!1)}}},disabled:o},o?"Resetting...":"Reset Defaults")),(0,t.createElement)("div",{className:"ai-card-body"},(0,t.createElement)("div",{className:"ai-prompts-stack"},(0,t.createElement)("div",{className:"ai-prompt-field"},(0,t.createElement)("label",{htmlFor:"system-prompt"},"System Prompt",(0,t.createElement)("span",{className:"label-hint"},"Base instructions for every request")),(0,t.createElement)("textarea",{id:"system-prompt",value:E.ai_prompt_system,onChange:e=>g(t=>({...t,ai_prompt_system:e.target.value})),rows:"2",placeholder:"You are an SEO assistant..."})),(0,t.createElement)("div",{className:"ai-prompts-row"},(0,t.createElement)("div",{className:"ai-prompt-field"},(0,t.createElement)("label",{htmlFor:"title-prompt"},"Title Prompt",(0,t.createElement)("span",{className:"label-hint"},"How to craft titles")),(0,t.createElement)("textarea",{id:"title-prompt",value:E.ai_prompt_title,onChange:e=>g(t=>({...t,ai_prompt_title:e.target.value})),rows:"2",placeholder:"Write an SEO meta title..."})),(0,t.createElement)("div",{className:"ai-prompt-field"},(0,t.createElement)("label",{htmlFor:"desc-prompt"},"Description Prompt",(0,t.createElement)("span",{className:"label-hint"},"How to craft descriptions")),(0,t.createElement)("textarea",{id:"desc-prompt",value:E.ai_prompt_description,onChange:e=>g(t=>({...t,ai_prompt_description:e.target.value})),rows:"2",placeholder:"Write a meta description..."}))))),(0,t.createElement)("div",{className:"ai-card-footer"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{i(!0),ne({type:"",text:""});try{if((await c()({path:"/wpseopilot/v2/ai/settings",method:"POST",data:{openai_api_key:E.openai_api_key,ai_model:E.ai_model,ai_prompt_system:E.ai_prompt_system,ai_prompt_title:E.ai_prompt_title,ai_prompt_description:E.ai_prompt_description}})).success){ne({type:"success",text:"Settings saved successfully!"});const e=await c()({path:"/wpseopilot/v2/ai/status"});e.success&&y(e.data)}}catch(e){console.error("Failed to save settings:",e),ne({type:"error",text:"Failed to save settings."})}finally{i(!1)}},disabled:r},r?"Saving...":"Save All Settings")))),(0,t.createElement)("div",{className:"ai-test-column"},(0,t.createElement)("div",{className:"ai-card ai-test-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Test Generation")),(0,t.createElement)("div",{className:"ai-card-body"},(0,t.createElement)("div",{className:"ai-test-input"},(0,t.createElement)("textarea",{value:_,onChange:e=>f(e.target.value),rows:"4",placeholder:"Paste content here to test AI generation. Provide at least 100 words for best results..."}),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{if(_.trim())if(b.configured){u(!0),ne({type:"",text:""}),w(""),C("");try{const e=await c()({path:"/wpseopilot/v2/ai/generate",method:"POST",data:{content:_,type:"both"}});e.success&&(w(e.data.title||""),C(e.data.description||""),ne({type:"success",text:"Generation complete!"}))}catch(e){console.error("Failed to generate:",e),ne({type:"error",text:e.message||"Failed to generate content."})}finally{u(!1)}}else ne({type:"error",text:"Please configure your OpenAI API key first."});else ne({type:"error",text:"Please enter some content to analyze."})},disabled:p||!b.configured},p?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"spinner"}),"Generating..."):"Generate")),(k||x)&&(0,t.createElement)("div",{className:"ai-results"},k&&(0,t.createElement)("div",{className:"ai-result-item"},(0,t.createElement)("div",{className:"ai-result-header"},(0,t.createElement)("span",{className:"ai-result-label"},"Title"),(0,t.createElement)("span",{className:"ai-result-count"},k.length," chars")),(0,t.createElement)("div",{className:"ai-result-value"},k)),x&&(0,t.createElement)("div",{className:"ai-result-item"},(0,t.createElement)("div",{className:"ai-result-header"},(0,t.createElement)("span",{className:"ai-result-label"},"Description"),(0,t.createElement)("span",{className:"ai-result-count"},x.length," chars")),(0,t.createElement)("div",{className:"ai-result-value"},x))))),(0,t.createElement)("div",{className:"ai-info-grid"},(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Editor Integration"),(0,t.createElement)("p",null,"AI buttons appear in post editor once API key is saved"))),(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Privacy First"),(0,t.createElement)("p",null,"API key stored locally, nothing saved externally"))),(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Fast Results"),(0,t.createElement)("p",null,"GPT-4o-mini is quick and affordable for most use cases")))))):(0,t.createElement)("div",{className:"custom-models-layout"},(0,t.createElement)("div",{className:"custom-models-main"},q&&(0,t.createElement)("div",{className:"ai-card custom-model-form-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,j?"Edit Model":"Add Custom Model"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:()=>Y(!1)},"Cancel")),(0,t.createElement)("div",{className:"ai-card-body"},(0,t.createElement)("div",{className:"model-search-section"},(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",null,"Search models.dev database"),(0,t.createElement)("input",{type:"text",value:z,onChange:e=>V(e.target.value),placeholder:"Search for a model (e.g., GPT-4, Claude)..."})),$.length>0&&(0,t.createElement)("div",{className:"model-search-results"},$.slice(0,5).map((e,a)=>(0,t.createElement)("button",{key:a,type:"button",className:"model-search-item",onClick:()=>{return t=e,J(e=>({...e,name:t.name,model_id:t.id,provider:t.provider?.toLowerCase().replace(/\s+/g,"_")||"openai_compatible"})),V(""),void W([]);var t}},(0,t.createElement)("div",{className:"model-search-item-info"},(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"model-search-item-id"},e.id)),(0,t.createElement)("span",{className:"model-search-item-provider"},e.provider))))),(0,t.createElement)("div",{className:"form-divider"},(0,t.createElement)("span",null,"or configure manually")),(0,t.createElement)("div",{className:"ai-form-grid"},(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-name"},"Display Name *"),(0,t.createElement)("input",{type:"text",id:"model-name",value:K.name,onChange:e=>J(t=>({...t,name:e.target.value})),placeholder:"My Custom Model"})),(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-provider"},"Provider"),(0,t.createElement)("select",{id:"model-provider",value:K.provider,onChange:e=>J(t=>({...t,provider:e.target.value}))},Object.entries(Q).map(([e,a])=>(0,t.createElement)("option",{key:e,value:e},a.name))))),(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-id"},"Model ID *"),(0,t.createElement)("input",{type:"text",id:"model-id",value:K.model_id,onChange:e=>J(t=>({...t,model_id:e.target.value})),placeholder:"gpt-4o, claude-3-opus, etc."})),("openai_compatible"===K.provider||"lmstudio"===K.provider||"ollama"===K.provider)&&(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-url"},"API URL"),(0,t.createElement)("input",{type:"text",id:"model-url",value:K.api_url,onChange:e=>J(t=>({...t,api_url:e.target.value})),placeholder:"lmstudio"===K.provider?"http://localhost:1234/v1/chat/completions":"ollama"===K.provider?"http://localhost:11434/api/chat":"https://api.example.com/v1/chat/completions"})),"lmstudio"!==K.provider&&"ollama"!==K.provider&&(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-api-key"},"API Key"),(0,t.createElement)("input",{type:"password",id:"model-api-key",value:K.api_key,onChange:e=>J(t=>({...t,api_key:e.target.value})),placeholder:"sk-... or leave empty to use default"})),(0,t.createElement)("div",{className:"ai-form-grid"},(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-temp"},"Temperature"),(0,t.createElement)("input",{type:"number",id:"model-temp",value:K.temperature,onChange:e=>J(t=>({...t,temperature:parseFloat(e.target.value)||0})),min:"0",max:"2",step:"0.1"})),(0,t.createElement)("div",{className:"ai-form-field"},(0,t.createElement)("label",{htmlFor:"model-tokens"},"Max Tokens"),(0,t.createElement)("input",{type:"number",id:"model-tokens",value:K.max_tokens,onChange:e=>J(t=>({...t,max_tokens:parseInt(e.target.value,10)||2048})),min:"100",max:"128000"}))),(0,t.createElement)("div",{className:"ai-form-field checkbox-field"},(0,t.createElement)("label",null,(0,t.createElement)("input",{type:"checkbox",checked:K.is_active,onChange:e=>J(t=>({...t,is_active:e.target.checked}))}),"Enable this model"))),(0,t.createElement)("div",{className:"ai-card-footer"},(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{if(K.name.trim()&&K.model_id.trim()){ee(!0);try{const e=j?"PUT":"POST",t=j?`/wpseopilot/v2/ai/custom-models/${j.id}`:"/wpseopilot/v2/ai/custom-models";(await c()({path:t,method:e,data:K})).success&&(ne({type:"success",text:j?"Model updated!":"Model added!"}),Y(!1),ce())}catch(e){console.error("Failed to save model:",e),ne({type:"error",text:e.message||"Failed to save model."})}finally{ee(!1)}}else ne({type:"error",text:"Name and Model ID are required."})},disabled:Z},Z?"Saving...":j?"Update Model":"Add Model"))),(0,t.createElement)("div",{className:"ai-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Your Custom Models"),(0,t.createElement)("button",{type:"button",className:"button small",onClick:()=>{H(null),J({name:"",provider:"openai_compatible",model_id:"",api_url:"",api_key:"",temperature:.7,max_tokens:2048,is_active:!0}),Y(!0)}},"+ Add Model")),(0,t.createElement)("div",{className:"ai-card-body"},L?(0,t.createElement)("div",{className:"loading-state"},"Loading custom models..."):0===S.length?(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("p",null,"No custom models configured yet."),(0,t.createElement)("p",{className:"muted"},"Add a custom model to use alternative AI providers.")):(0,t.createElement)("div",{className:"custom-models-list"},S.map(e=>{const a=(l=e.provider,Q[l]||{name:l,logo:null});var l;return(0,t.createElement)("div",{key:e.id,className:"custom-model-item "+(e.is_active?"active":"inactive")},(0,t.createElement)("div",{className:"custom-model-info"},(0,t.createElement)("div",{className:"custom-model-header"},a.logo&&(0,t.createElement)("img",{src:a.logo,alt:a.name,className:"provider-logo"}),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"custom-model-id"},e.model_id))),(0,t.createElement)("div",{className:"custom-model-meta"},(0,t.createElement)("span",{className:"provider-badge"},a.name),(0,t.createElement)("span",{className:"status-badge "+(e.is_active?"active":"inactive")},e.is_active?"Active":"Inactive"))),(0,t.createElement)("div",{className:"custom-model-actions"},(0,t.createElement)("button",{type:"button",className:"button small",onClick:()=>(async e=>{ae(e);try{const t=await c()({path:`/wpseopilot/v2/ai/custom-models/${e}/test`,method:"POST"});t.success&&ne({type:"success",text:`Connection successful! Response: "${t.data.response?.substring(0,50)}..."`})}catch(e){console.error("Failed to test model:",e),ne({type:"error",text:e.message||"Connection test failed."})}finally{ae(null)}})(e.id),disabled:te===e.id},te===e.id?"Testing...":"Test"),(0,t.createElement)("button",{type:"button",className:"button small",onClick:()=>(e=>{H(e),J({name:e.name,provider:e.provider,model_id:e.model_id,api_url:e.api_url||"",api_key:e.api_key||"",temperature:parseFloat(e.temperature)||.7,max_tokens:parseInt(e.max_tokens,10)||2048,is_active:!!e.is_active}),Y(!0)})(e)},"Edit"),(0,t.createElement)("button",{type:"button",className:"button small danger",onClick:()=>(async e=>{if(window.confirm("Delete this custom model?"))try{(await c()({path:`/wpseopilot/v2/ai/custom-models/${e}`,method:"DELETE"})).success&&(ne({type:"success",text:"Model deleted."}),ce())}catch(e){console.error("Failed to delete model:",e),ne({type:"error",text:"Failed to delete model."})}})(e.id)},"Delete")))}))))),(0,t.createElement)("div",{className:"custom-models-sidebar"},(0,t.createElement)("div",{className:"ai-card"},(0,t.createElement)("div",{className:"ai-card-header"},(0,t.createElement)("h3",null,"Models Database"),(0,t.createElement)("button",{type:"button",className:"link-button",onClick:ie,disabled:R},R?"Syncing...":"Sync Now")),(0,t.createElement)("div",{className:"ai-card-body"},P.last_sync&&(0,t.createElement)("p",{className:"sync-info"},"Last synced: ",new Date(P.last_sync).toLocaleDateString(),(0,t.createElement)("br",null),(0,t.createElement)("span",{className:"muted"},(P.models||[]).length," models in database")),I?(0,t.createElement)("div",{className:"loading-state"},"Loading models database..."):P.models&&0!==P.models.length?(0,t.createElement)("div",{className:"models-database-list"},(P.models||[]).slice(0,15).map((e,a)=>(0,t.createElement)("div",{key:a,className:"database-model-item"},(0,t.createElement)("div",{className:"database-model-info"},(0,t.createElement)("strong",null,e.name),(0,t.createElement)("span",{className:"database-model-provider"},e.provider)),(0,t.createElement)("div",{className:"database-model-costs"},e.inputCost&&(0,t.createElement)("span",{className:"cost-badge",title:"Input cost per 1k tokens"},"In: ",oe(e.inputCost)),e.outputCost&&(0,t.createElement)("span",{className:"cost-badge",title:"Output cost per 1k tokens"},"Out: ",oe(e.outputCost))))),(P.models||[]).length>15&&(0,t.createElement)("p",{className:"muted",style:{textAlign:"center",marginTop:"12px"}},"+",(P.models||[]).length-15," more models...")):(0,t.createElement)("div",{className:"empty-state"},(0,t.createElement)("p",null,"No models in database."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:ie,disabled:R},R?"Syncing...":"Sync from models.dev")))),(0,t.createElement)("div",{className:"ai-info-grid"},(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,t.createElement)("path",{d:"M12 16v-4M12 8h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Local Models"),(0,t.createElement)("p",null,"Use Ollama or LM Studio for local, private AI"))),(0,t.createElement)("div",{className:"ai-info-card"},(0,t.createElement)("div",{className:"ai-info-icon"},(0,t.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},(0,t.createElement)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.createElement)("div",{className:"ai-info-content"},(0,t.createElement)("strong",null,"Any Provider"),(0,t.createElement)("p",null,"OpenAI, Anthropic, Google, or any compatible API")))))))},ee=[{id:"general",label:"General"},{id:"modules",label:"Modules"},{id:"social",label:"Social"},{id:"advanced",label:"Advanced"},{id:"tools",label:"Tools"}],te={site_name:"",site_tagline:"",separator:"-",knowledge_graph_type:"organization",organization_name:"",organization_logo:"",person_name:"",google_verification:"",bing_verification:"",pinterest_verification:"",yandex_verification:"",baidu_verification:"",module_sitemap:!0,module_redirects:!0,module_404_log:!0,module_social_cards:!0,module_llm_txt:!1,module_local_seo:!1,module_internal_linking:!0,module_schema:!0,module_breadcrumbs:!1,module_analytics:!1,module_search_console:!1,module_ai_assistant:!0,default_og_image:"",twitter_card_type:"summary_large_image",twitter_username:"",facebook_app_id:"",facebook_admin_id:"",output_clean_head:!0,remove_shortlinks:!0,remove_rsd_link:!0,remove_wlwmanifest:!0,remove_wp_generator:!0,remove_feed_links:!1,disable_json_ld:!1,disable_emoji:!1,disable_comments_css:!1,disable_gutenberg_css:!1,enable_link_suggestions:!0,enable_internal_link_count:!0,enable_cornerstone_content:!0,cache_schema:!0,purge_on_save:!0,enable_rest_api:!0,debug_mode:!1,lazy_load_schema:!0,minify_schema_output:!0,async_schema_validation:!1,openai_api_key:"",google_api_key:"",bing_api_key:""},ae=({settings:e,updateSetting:a})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Site Identity"),(0,t.createElement)("p",{className:"panel-desc"},"Basic information about your website used in SEO metadata."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"site-name"},"Site Name"),(0,t.createElement)("p",{className:"settings-help"},"Your brand or website name.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"site-name",type:"text",value:e.site_name,onChange:e=>a("site_name",e.target.value),placeholder:"My Awesome Site"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"site-tagline"},"Tagline"),(0,t.createElement)("p",{className:"settings-help"},"A short description of your site.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"site-tagline",type:"text",value:e.site_tagline,onChange:e=>a("site_tagline",e.target.value),placeholder:"Just another WordPress site"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"separator"},"Title Separator"),(0,t.createElement)("p",{className:"settings-help"},"Character used between title parts.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"separator-picker"},[{value:"-",label:"Dash (-)"},{value:"|",label:"Pipe (|)"},{value:">",label:"Greater than (>)"},{value:"<",label:"Less than (<)"},{value:"~",label:"Tilde (~)"},{value:"•",label:"Bullet (•)"},{value:"—",label:"Em dash (—)"}].map(l=>(0,t.createElement)("button",{key:l.value,type:"button",className:"separator-option "+(e.separator===l.value?"active":""),onClick:()=>a("separator",l.value),title:l.label},l.value)))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Knowledge Graph"),(0,t.createElement)("p",{className:"panel-desc"},"Tell search engines who you are with structured data."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Site Represents"),(0,t.createElement)("p",{className:"settings-help"},"Is this site for a person or organization?")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"radio-group"},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"kg_type",checked:"organization"===e.knowledge_graph_type,onChange:()=>a("knowledge_graph_type","organization")}),(0,t.createElement)("span",null,"Organization")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"kg_type",checked:"person"===e.knowledge_graph_type,onChange:()=>a("knowledge_graph_type","person")}),(0,t.createElement)("span",null,"Person"))))),"organization"===e.knowledge_graph_type?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"org-name"},"Organization Name")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"org-name",type:"text",value:e.organization_name,onChange:e=>a("organization_name",e.target.value),placeholder:"Acme Corporation"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"org-logo"},"Logo URL"),(0,t.createElement)("p",{className:"settings-help"},"Recommended: 112x112px minimum.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"org-logo",type:"url",value:e.organization_logo,onChange:e=>a("organization_logo",e.target.value),placeholder:"https://example.com/logo.png"})))):(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"person-name"},"Person Name")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"person-name",type:"text",value:e.person_name,onChange:e=>a("person_name",e.target.value),placeholder:"John Doe"})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Webmaster Tools Verification"),(0,t.createElement)("p",{className:"panel-desc"},"Verify your site with search engines and services."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"google-verify"},"Google Search Console"),(0,t.createElement)("p",{className:"settings-help"},"Meta tag content value.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"google-verify",type:"text",value:e.google_verification,onChange:e=>a("google_verification",e.target.value),placeholder:"abc123..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"bing-verify"},"Bing Webmaster Tools")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"bing-verify",type:"text",value:e.bing_verification,onChange:e=>a("bing_verification",e.target.value),placeholder:"abc123..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"pinterest-verify"},"Pinterest")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"pinterest-verify",type:"text",value:e.pinterest_verification,onChange:e=>a("pinterest_verification",e.target.value),placeholder:"abc123..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"yandex-verify"},"Yandex")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"yandex-verify",type:"text",value:e.yandex_verification,onChange:e=>a("yandex_verification",e.target.value),placeholder:"abc123..."}))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h4",null,"Title Preview"),(0,t.createElement)("div",{className:"title-preview"},(0,t.createElement)("span",{className:"title-preview__text"},e.site_name||"Site Name"," ",e.separator," ",e.site_tagline||"Tagline"))))),le=({settings:e,updateSetting:a})=>{const l=[{key:"module_sitemap",name:"XML Sitemap",desc:"Generate and manage XML sitemaps for search engines.",icon:"🗺️"},{key:"module_redirects",name:"Redirects",desc:"Create and manage URL redirects (301, 302, 307).",icon:"↪️"},{key:"module_404_log",name:"404 Error Log",desc:"Track and monitor 404 errors on your site.",icon:"🚫"},{key:"module_internal_linking",name:"Internal Linking",desc:"Automatic internal link suggestions and management.",icon:"🔗"},{key:"module_schema",name:"Schema Markup",desc:"Add structured data for rich search results.",icon:"📊"},{key:"module_social_cards",name:"Social Cards",desc:"Dynamic Open Graph and Twitter Card generation.",icon:"🃏"},{key:"module_breadcrumbs",name:"Breadcrumbs",desc:"SEO-friendly breadcrumb navigation.",icon:"🥖"},{key:"module_llm_txt",name:"LLM.txt",desc:"Generate llm.txt file for AI crawlers and LLMs.",icon:"🤖"},{key:"module_local_seo",name:"Local SEO",desc:"Local business schema and location pages.",icon:"📍"},{key:"module_ai_assistant",name:"AI Assistant",desc:"AI-powered content optimization suggestions.",icon:"✨"},{key:"module_analytics",name:"Analytics",desc:"Built-in analytics tracking (Matomo compatible).",icon:"📈"},{key:"module_search_console",name:"Search Console",desc:"Google Search Console integration.",icon:"🔍"}],n=l.filter(t=>e[t.key]).length;return(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("div",{className:"panel-header"},(0,t.createElement)("div",null,(0,t.createElement)("h3",null,"Feature Modules"),(0,t.createElement)("p",{className:"panel-desc"},"Enable or disable plugin features. Disabled modules are completely unloaded for performance.")),(0,t.createElement)("span",{className:"module-count"},n," of ",l.length," enabled")),(0,t.createElement)("div",{className:"modules-grid"},l.map(l=>(0,t.createElement)("div",{key:l.key,className:"module-card "+(e[l.key]?"active":"")},(0,t.createElement)("div",{className:"module-card__icon"},l.icon),(0,t.createElement)("div",{className:"module-card__content"},(0,t.createElement)("h4",null,l.name),(0,t.createElement)("p",null,l.desc)),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e[l.key],onChange:e=>a(l.key,e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Performance Tip"),(0,t.createElement)("p",{className:"muted"},"Disable modules you don't use to reduce database queries and improve page load times.")),(0,t.createElement)("div",{className:"side-card warning"},(0,t.createElement)("h4",null,"Dependencies"),(0,t.createElement)("p",{className:"muted"},'Some modules require others. For example, "404 Error Log" works best with "Redirects" enabled.'))))},ne=({settings:e,updateSetting:a})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Open Graph Defaults"),(0,t.createElement)("p",{className:"panel-desc"},"Default settings for Facebook and other social platforms."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"default-og-image"},"Default Share Image"),(0,t.createElement)("p",{className:"settings-help"},"Used when no featured image is available. Recommended: 1200x630px.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"default-og-image",type:"url",value:e.default_og_image,onChange:e=>a("default_og_image",e.target.value),placeholder:"https://example.com/share-image.jpg"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"fb-app-id"},"Facebook App ID"),(0,t.createElement)("p",{className:"settings-help"},"For Facebook Insights.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"fb-app-id",type:"text",value:e.facebook_app_id,onChange:e=>a("facebook_app_id",e.target.value),placeholder:"123456789"}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"fb-admin-id"},"Facebook Admin ID")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"fb-admin-id",type:"text",value:e.facebook_admin_id,onChange:e=>a("facebook_admin_id",e.target.value),placeholder:"123456789"})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Twitter/X Settings"),(0,t.createElement)("p",{className:"panel-desc"},"Configure Twitter Card appearance."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Card Type"),(0,t.createElement)("p",{className:"settings-help"},"How your content appears on Twitter.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"radio-group"},(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"twitter_card",checked:"summary"===e.twitter_card_type,onChange:()=>a("twitter_card_type","summary")}),(0,t.createElement)("span",null,"Summary")),(0,t.createElement)("label",{className:"radio-item"},(0,t.createElement)("input",{type:"radio",name:"twitter_card",checked:"summary_large_image"===e.twitter_card_type,onChange:()=>a("twitter_card_type","summary_large_image")}),(0,t.createElement)("span",null,"Large Image"))))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"twitter-username"},"Twitter Username"),(0,t.createElement)("p",{className:"settings-help"},"Your @handle without the @.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("div",{className:"input-with-prefix"},(0,t.createElement)("span",{className:"input-prefix"},"@"),(0,t.createElement)("input",{id:"twitter-username",type:"text",value:e.twitter_username,onChange:e=>a("twitter_username",e.target.value),placeholder:"username"})))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"social-preview"},(0,t.createElement)("h4",null,"Share Preview"),(0,t.createElement)("div",{className:"social-preview__card"},(0,t.createElement)("div",{className:"social-preview__image",style:{backgroundImage:e.default_og_image?`url(${e.default_og_image})`:"none"}},!e.default_og_image&&(0,t.createElement)("div",{className:"social-preview__placeholder"},(0,t.createElement)("span",null,"No default image set"),(0,t.createElement)("small",null,"1200 x 630px recommended"))),(0,t.createElement)("div",{className:"social-preview__content"},(0,t.createElement)("span",{className:"social-preview__site"},e.site_name||"Your Site"),(0,t.createElement)("span",{className:"social-preview__title"},e.site_name||"Page Title"," ",e.separator||"-"," ",e.site_tagline||"Your tagline here"))),(0,t.createElement)("div",{className:"social-preview__meta"},(0,t.createElement)("div",{className:"social-preview__meta-item"},(0,t.createElement)("span",{className:"social-preview__meta-label"},"Card Type"),(0,t.createElement)("span",{className:"social-preview__meta-value"},"summary_large_image"===e.twitter_card_type?"Large Image":"Summary")),e.twitter_username&&(0,t.createElement)("div",{className:"social-preview__meta-item"},(0,t.createElement)("span",{className:"social-preview__meta-label"},"Twitter"),(0,t.createElement)("span",{className:"social-preview__meta-value"},"@",e.twitter_username)),e.facebook_app_id&&(0,t.createElement)("div",{className:"social-preview__meta-item"},(0,t.createElement)("span",{className:"social-preview__meta-label"},"FB App"),(0,t.createElement)("span",{className:"social-preview__meta-value"},"Connected")))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Advanced Customization"),(0,t.createElement)("p",{className:"muted"},"Design custom social card images in Search Appearance → Social Cards.")))),se=({settings:e,updateSetting:a})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"WordPress Head Cleanup"),(0,t.createElement)("p",{className:"panel-desc"},"Remove unnecessary tags from your site's <head> section."),(0,t.createElement)("div",{className:"settings-grid"},(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove Shortlinks")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_shortlinks,onChange:e=>a("remove_shortlinks",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove RSD Link")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_rsd_link,onChange:e=>a("remove_rsd_link",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove WLW Manifest")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_wlwmanifest,onChange:e=>a("remove_wlwmanifest",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove WP Generator")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_wp_generator,onChange:e=>a("remove_wp_generator",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Remove Feed Links")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.remove_feed_links,onChange:e=>a("remove_feed_links",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Disable Emoji Scripts")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.disable_emoji,onChange:e=>a("disable_emoji",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Content Analysis"),(0,t.createElement)("p",{className:"panel-desc"},"Features for content optimization in the editor."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Link Suggestions"),(0,t.createElement)("p",{className:"settings-help"},"Show internal link suggestions while editing.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_link_suggestions,onChange:e=>a("enable_link_suggestions",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Internal Link Counter"),(0,t.createElement)("p",{className:"settings-help"},"Show count of internal links in post list.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_internal_link_count,onChange:e=>a("enable_internal_link_count",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Cornerstone Content"),(0,t.createElement)("p",{className:"settings-help"},"Enable cornerstone content marking.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_cornerstone_content,onChange:e=>a("enable_cornerstone_content",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Performance"),(0,t.createElement)("p",{className:"panel-desc"},"Optimize plugin performance."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Cache Schema Output"),(0,t.createElement)("p",{className:"settings-help"},"Cache generated schema markup.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.cache_schema,onChange:e=>a("cache_schema",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Minify Schema"),(0,t.createElement)("p",{className:"settings-help"},"Minify JSON-LD output.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.minify_schema_output,onChange:e=>a("minify_schema_output",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Purge Cache on Save"),(0,t.createElement)("p",{className:"settings-help"},"Clear caches when posts are updated.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.purge_on_save,onChange:e=>a("purge_on_save",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"}))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"API Keys"),(0,t.createElement)("p",{className:"panel-desc"},"Connect external services for enhanced features."),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"openai-key"},"OpenAI API Key"),(0,t.createElement)("p",{className:"settings-help"},"For AI-powered content suggestions.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"openai-key",type:"password",value:e.openai_api_key,onChange:e=>a("openai_api_key",e.target.value),placeholder:"sk-..."}))),(0,t.createElement)("div",{className:"settings-row"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",{htmlFor:"google-key"},"Google API Key"),(0,t.createElement)("p",{className:"settings-help"},"For Search Console and other Google services.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("input",{id:"google-key",type:"password",value:e.google_api_key,onChange:e=>a("google_api_key",e.target.value),placeholder:"AIza..."})))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Developer"),(0,t.createElement)("p",{className:"panel-desc"},"Options for developers and debugging."),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Enable REST API"),(0,t.createElement)("p",{className:"settings-help"},"Allow external access to SEO data via REST.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.enable_rest_api,onChange:e=>a("enable_rest_api",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))),(0,t.createElement)("div",{className:"settings-row compact"},(0,t.createElement)("div",{className:"settings-label"},(0,t.createElement)("label",null,"Debug Mode"),(0,t.createElement)("p",{className:"settings-help"},"Enable verbose logging and debug output.")),(0,t.createElement)("div",{className:"settings-control"},(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",checked:e.debug_mode,onChange:e=>a("debug_mode",e.target.checked)}),(0,t.createElement)("span",{className:"toggle-track"})))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card warning"},(0,t.createElement)("h4",null,"Caution"),(0,t.createElement)("p",{className:"muted"},"Changes to advanced settings may affect site functionality. Make sure you understand what each option does.")))),ce=({settings:e,onExport:a,onImport:l,onReset:n,importFile:s,setImportFile:c})=>(0,t.createElement)("div",{className:"settings-layout"},(0,t.createElement)("div",{className:"settings-main"},(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Import / Export"),(0,t.createElement)("p",{className:"panel-desc"},"Backup your settings or transfer them to another site."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Export Settings"),(0,t.createElement)("p",{className:"muted"},"Download all plugin settings as a JSON file."),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:a},"Export Settings")),(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Import Settings"),(0,t.createElement)("p",{className:"muted"},"Upload a previously exported JSON file."),(0,t.createElement)("div",{className:"import-controls"},(0,t.createElement)("input",{type:"file",accept:".json",onChange:e=>c(e.target.files[0]),id:"import-file"}),(0,t.createElement)("label",{htmlFor:"import-file",className:"button ghost"},s?s.name:"Choose File"),(0,t.createElement)("button",{type:"button",className:"button",onClick:l,disabled:!s},"Import"))))),(0,t.createElement)("section",{className:"panel"},(0,t.createElement)("h3",null,"Database Tools"),(0,t.createElement)("p",{className:"panel-desc"},"Manage plugin data stored in your database."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Clear Cache"),(0,t.createElement)("p",{className:"muted"},"Clear all cached SEO data (schema, sitemaps, etc)."),(0,t.createElement)("button",{type:"button",className:"button ghost"},"Clear Cache")),(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Reindex Content"),(0,t.createElement)("p",{className:"muted"},"Rebuild internal link index and content analysis."),(0,t.createElement)("button",{type:"button",className:"button ghost"},"Reindex")))),(0,t.createElement)("section",{className:"panel danger-zone"},(0,t.createElement)("h3",null,"Danger Zone"),(0,t.createElement)("p",{className:"panel-desc"},"Destructive actions that cannot be undone."),(0,t.createElement)("div",{className:"tools-actions"},(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Reset to Defaults"),(0,t.createElement)("p",{className:"muted"},"Reset all settings to their default values."),(0,t.createElement)("button",{type:"button",className:"button danger",onClick:n},"Reset All Settings")),(0,t.createElement)("div",{className:"tool-action"},(0,t.createElement)("h4",null,"Delete All Data"),(0,t.createElement)("p",{className:"muted"},"Remove all plugin data including redirects, 404 logs, and meta."),(0,t.createElement)("button",{type:"button",className:"button danger"},"Delete All Data"))))),(0,t.createElement)("aside",{className:"settings-sidebar"},(0,t.createElement)("div",{className:"side-card highlight"},(0,t.createElement)("h4",null,"Plugin Info"),(0,t.createElement)("div",{className:"info-rows"},(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"Version"),(0,t.createElement)("code",null,"0.2.0")),(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"Interface"),(0,t.createElement)("code",null,"React SPA")),(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"PHP"),(0,t.createElement)("code",null,"8.1")),(0,t.createElement)("div",{className:"info-row"},(0,t.createElement)("span",null,"WordPress"),(0,t.createElement)("code",null,"6.4")))),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Need Help?"),(0,t.createElement)("p",{className:"muted"},"Check the documentation or contact support."),(0,t.createElement)("a",{href:"#",className:"button ghost"},"View Documentation")),(0,t.createElement)("div",{className:"side-card"},(0,t.createElement)("h4",null,"Legacy Interface"),(0,t.createElement)("p",{className:"muted"},"Access V1 for features not yet migrated."),(0,t.createElement)("a",{href:"admin.php?page=wpseopilot",className:"button ghost"},"Open V1")))),re=()=>{const[e,l]=N({tabs:ee,defaultTab:"general"}),[n,s]=(0,a.useState)(te),[r,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),[E,g]=(0,a.useState)(null),v=(0,a.useCallback)(async()=>{i(!0);try{const e=await c()({path:"/wpseopilot/v2/settings"});e.success&&e.data&&s(t=>({...t,...e.data}))}catch(e){console.error("Failed to fetch settings:",e)}finally{i(!1)}},[]);(0,a.useEffect)(()=>{v()},[v]);const h=(e,t)=>{s(a=>({...a,[e]:t})),u(!1)};return r?(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"loading-state"},"Loading settings...")):(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"Settings"),(0,t.createElement)("p",null,"Configure WP SEO Pilot features, integrations, and preferences.")),(0,t.createElement)("div",{className:"page-header__actions"},p&&(0,t.createElement)("span",{className:"save-indicator"},"Saved"),(0,t.createElement)("button",{type:"button",className:"button primary",onClick:async()=>{m(!0);try{await c()({path:"/wpseopilot/v2/settings",method:"POST",data:n}),u(!0),setTimeout(()=>u(!1),3e3)}catch(e){console.error("Failed to save settings:",e)}finally{m(!1)}},disabled:o},o?"Saving...":"Save Changes"))),(0,t.createElement)(d,{tabs:ee,activeTab:e,onChange:l,ariaLabel:"Settings sections"}),"general"===e&&(0,t.createElement)(ae,{settings:n,updateSetting:h}),"modules"===e&&(0,t.createElement)(le,{settings:n,updateSetting:h}),"social"===e&&(0,t.createElement)(ne,{settings:n,updateSetting:h}),"advanced"===e&&(0,t.createElement)(se,{settings:n,updateSetting:h}),"tools"===e&&(0,t.createElement)(ce,{settings:n,onExport:()=>{const e=JSON.stringify(n,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`wpseopilot-settings-${(new Date).toISOString().split("T")[0]}.json`,l.click(),URL.revokeObjectURL(a)},onImport:()=>{if(!E)return;const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);s(e=>({...e,...t})),u(!1),g(null)}catch(e){alert("Invalid JSON file")}},e.readAsText(E)},onReset:()=>{window.confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(s(te),u(!1))},importFile:E,setImportFile:g}))},ie=()=>(0,t.createElement)("div",{className:"page"},(0,t.createElement)("div",{className:"page-header"},(0,t.createElement)("div",null,(0,t.createElement)("h1",null,"More from Pilot"),(0,t.createElement)("p",null,"Expand your security and SEO toolkit with trusted companion plugins.")),(0,t.createElement)("button",{type:"button",className:"button ghost"},"View All Plugins")),(0,t.createElement)("div",{className:"pilot-grid"},(0,t.createElement)("div",{className:"pilot-card active"},(0,t.createElement)("div",{className:"pilot-card-head"},(0,t.createElement)("div",{className:"pilot-card-identity"},(0,t.createElement)("span",{className:"pilot-card-mark seo","aria-hidden":"true"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}))),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"pilot-card-title"},(0,t.createElement)("h3",null,"WP SEO Pilot"),(0,t.createElement)("span",{className:"badge success"},"Installed")),(0,t.createElement)("p",{className:"pilot-card-tagline"},"Performance-led SEO insights."))),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox",defaultChecked:!0}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},"Enabled"))),(0,t.createElement)("p",{className:"pilot-card-desc"},"Actionable SEO guidance, audits, sitemaps, redirects, and ranking insights."),(0,t.createElement)("div",{className:"pilot-card-meta"},(0,t.createElement)("span",{className:"pill success"},"Active"),(0,t.createElement)("span",{className:"pill"},"Version 0.1.41"))),(0,t.createElement)("div",{className:"pilot-card"},(0,t.createElement)("div",{className:"pilot-card-head"},(0,t.createElement)("div",{className:"pilot-card-identity"},(0,t.createElement)("span",{className:"pilot-card-mark security","aria-hidden":"true"},(0,t.createElement)("svg",{viewBox:"0 0 24 24",role:"img",focusable:"false"},(0,t.createElement)("path",{d:"M12 2L4 5.4v6.2c0 5.1 3.4 9.7 8 10.4 4.6-.7 8-5.3 8-10.4V5.4L12 2zm0 2.2l6 2.3v5.1c0 4-2.5 7.6-6 8.3-3.5-.7-6-4.3-6-8.3V6.5l6-2.3z"}),(0,t.createElement)("path",{d:"M10.5 12.7l-2-2-1.3 1.3 3.3 3.3 5.3-5.3-1.3-1.3-4 4z"}))),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"pilot-card-title"},(0,t.createElement)("h3",null,"WP Security Pilot"),(0,t.createElement)("span",{className:"badge"},"Available")),(0,t.createElement)("p",{className:"pilot-card-tagline"},"Open standard security for WordPress."))),(0,t.createElement)("label",{className:"toggle"},(0,t.createElement)("input",{type:"checkbox"}),(0,t.createElement)("span",{className:"toggle-track"}),(0,t.createElement)("span",{className:"toggle-text"},"Disabled"))),(0,t.createElement)("p",{className:"pilot-card-desc"},"Core security suite with firewall, scans, and hardening controls."),(0,t.createElement)("div",{className:"pilot-card-meta"},(0,t.createElement)("span",{className:"pill warning"},"Not Installed"),(0,t.createElement)("button",{type:"button",className:"button primary"},"Get Plugin"))))),oe={dashboard:"wpseopilot-v2-dashboard","search-appearance":"wpseopilot-v2-search-appearance",sitemap:"wpseopilot-v2-sitemap",tools:"wpseopilot-v2-tools",redirects:"wpseopilot-v2-redirects","404-log":"wpseopilot-v2-404-log","internal-linking":"wpseopilot-v2-internal-linking",audit:"wpseopilot-v2-audit","ai-assistant":"wpseopilot-v2-ai-assistant",settings:"wpseopilot-v2-settings",more:"wpseopilot-v2-more"},me=Object.entries(oe).reduce((e,[t,a])=>(e[a]=t,e),{}),de=window?.wpseopilotV2Settings?.initialView||"dashboard";(0,a.render)((0,t.createElement)(({initialView:e="dashboard"})=>{const[a,l]=(0,t.useState)(e),s=(0,t.useCallback)(e=>{if("undefined"==typeof document)return;const t=document.getElementById("toplevel_page_wpseopilot-v2");if(!t)return;t.querySelectorAll('.wp-submenu a[href*="page=wpseopilot-v2"]').forEach(e=>{e.removeAttribute("aria-current");const t=e.closest("li");t&&t.classList.remove("current")});const a=oe[e]||oe.dashboard,l=t.querySelector(`.wp-submenu a[href*="page=${a}"]`);if(l){l.setAttribute("aria-current","page");const e=l.closest("li");e&&e.classList.add("current")}t.classList.add("current","wp-has-current-submenu")},[]),c=(0,t.useCallback)(e=>{if(e===a)return;if(l(e),"undefined"==typeof window)return;const t=oe[e]||oe.dashboard,n=new URL(window.location.href);n.searchParams.set("page",t),n.searchParams.delete("tab"),window.history.pushState({},"",n.toString()),s(e)},[a,s]);return(0,t.useEffect)(()=>{const e=()=>{const e=new URL(window.location.href).searchParams.get("page");e&&me[e]&&l(me[e])};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]),(0,t.useEffect)(()=>{s(a)},[a,s]),(0,t.useEffect)(()=>{const e=e=>{const t=e.target.closest("a");if(!t||"undefined"==typeof window)return;const a=document.getElementById("toplevel_page_wpseopilot-v2");if(!a||!a.contains(t))return;const l=t.getAttribute("href");if(!l||!l.includes("page=wpseopilot-v2"))return;const n=new URL(l,window.location.origin).searchParams.get("page");n&&me[n]&&(e.preventDefault(),c(me[n]))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[c]),(0,t.createElement)("div",{className:"wp-seo-pilot-admin"},(0,t.createElement)("div",{className:"wp-seo-pilot-shell"},(0,t.createElement)(n,{currentView:a,onNavigate:c}),(0,t.createElement)("div",{className:"content-area"},(()=>{switch(a){case"search-appearance":return(0,t.createElement)(S,null);case"sitemap":return(0,t.createElement)(A,null);case"tools":return(0,t.createElement)(M,{onNavigate:c});case"redirects":return(0,t.createElement)(O,null);case"404-log":return(0,t.createElement)(R,{onNavigate:c});case"internal-linking":return(0,t.createElement)(q,null);case"audit":return(0,t.createElement)(J,null);case"ai-assistant":return(0,t.createElement)(Z,null);case"settings":return(0,t.createElement)(re,null);case"more":return(0,t.createElement)(ie,null);default:return(0,t.createElement)(m,{onNavigate:c})}})())))},{initialView:de}),document.getElementById("wpseopilot-v2-root"))})();